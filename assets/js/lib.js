!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],E=C.document,r=Object.getPrototypeOf,s=t.slice,g=t.concat,u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},x=function(e){return null!=e&&e===e.window},c={type:!0,src:!0,noModule:!0};function b(e,t,n){var r,i=(t=t||E).createElement("script");if(i.text=e,n)for(r in c)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var k=function(e,t){return new k.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:"3.3.1",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(o=i?(i=!1,n&&Array.isArray(n)?n:[]):n&&k.isPlainObject(n)?n:{},a[t]=k.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e)||(t=r(e))&&("function"!=typeof(n=v.call(t,"constructor")&&t.constructor)||a.call(n)!==l))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){b(e)},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?k.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,k="sizzle"+1*new Date,m=n.document,S=0,r=0,p=ae(),x=ae(),D=ae(),N=function(e,t){return e===t&&(l=!0),0},A={}.hasOwnProperty,t=[],j=t.pop,q=t.push,L=t.push,H=t.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){T()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(t=H.call(m.childNodes),m.childNodes),t[m.childNodes.length].nodeType}catch(n){L={apply:t.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,n,r){var i,o,a,s,u,l,c,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:m)!==C&&T(t),t=t||C,E)){if(11!==p&&(u=J.exec(e)))if(i=u[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return L.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&d.getElementsByClassName&&t.getElementsByClassName)return L.apply(n,t.getElementsByClassName(i)),n}if(d.qsa&&!D[e+" "]&&(!v||!v.test(e))){if(1!==p)f=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(te,ne):t.setAttribute("id",s=k),o=(l=h(e)).length;o--;)l[o]="#"+s+" "+ye(l[o]);c=l.join(","),f=K.test(e)&&ge(t.parentNode)||t}if(c)try{return L.apply(n,f.querySelectorAll(c)),n}catch(e){}finally{s===k&&t.removeAttribute("id")}}}return g(e.replace(B,"$1"),t,n,r)}function ae(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function se(e){return e[k]=!0,e}function ue(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pe(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function de(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ie(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function he(a){return se(function(o){return o=+o,se(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in d=oe.support={},i=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=oe.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:m;return r!==C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),m!==C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",re,!1):n.attachEvent&&n.attachEvent("onunload",re)),d.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ue(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=Q.test(C.getElementsByClassName),d.getById=ue(function(e){return a.appendChild(e).id=k,!C.getElementsByName||!C.getElementsByName(k).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(Z,ee);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=d.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=Q.test(C.querySelectorAll))&&(ue(function(e){a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+k+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||v.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=Q.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ue(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",W)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=Q.test(a.compareDocumentPosition),y=t||Q.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===m&&y(m,e)?-1:t===C||t.ownerDocument===m&&y(m,t)?1:u?O(u,e)-O(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?O(u,e)-O(u,t):0;if(i===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ce(a[r],s[r]):a[r]===m?-1:s[r]===m?1:0}),C},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),t=t.replace(z,"='$1']"),d.matchesSelector&&E&&!D[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<oe(t,C,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&A.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(N),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=oe.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){for(;l;){for(a=e;a=a[l];)if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){for(d=(s=(r=(i=(o=(a=c)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(d=s=0)||u.pop();)if(1===a.nodeType&&++d&&a===e){i[h]=[S,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===d)for(;(a=++s&&a&&a[l]||(d=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++d||(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,d]),a!==e)););return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=O(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:se(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[k]?se(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:se(function(t){return function(e){return 0<oe(t,e).length}}),contains:se(function(t){return t=t.replace(Z,ee),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:se(function(n){return U.test(n||"")||oe.error("unsupported lang: "+n),n=n.replace(Z,ee).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=fe(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=pe(e);function ve(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){for(;e=e[u];)if((1===e.nodeType||f)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||f)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function xe(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function be(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function we(d,h,g,v,y,e){return v&&!v[k]&&(v=we(v)),y&&!y[k]&&(y=we(y,e)),se(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:be(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v)for(i=be(p,u),v(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a));if(e){if(y||d){if(y){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=y?O(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=be(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):L.apply(t,p)})}function Te(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=me(function(e){return e===i},a,!0),l=me(function(e){return-1<O(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[me(xe(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r&&!b.relative[e[n].type];n++);return we(1<s&&xe(c),1<s&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Te(e.slice(s,n)),n<r&&Te(e=e.slice(n)),n<r&&ye(e))}c.push(t)}return xe(c)}return ve.prototype=b.filters=b.pseudos,b.setFilters=new ve,h=oe.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=b.preFilter;a;){for(o in n&&!(r=F.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=_.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=V[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):x(e,s).slice(0)},f=oe.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=D[e+" "];if(!a){for(t||(t=h(e)),n=t.length;n--;)(a=Te(t[n]))[k]?i.push(a):o.push(a);(a=D(e,(v=o,y=i,m=0<y.length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(a=0,t||o.ownerDocument===C||(T(o),n=!E);s=v[a++];)if(s(o,t||C,n)){r.push(o);break}i&&(S=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){for(a=0;s=y[a++];)s(c,f,t,n);if(e){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=j.call(r));f=be(f)}L.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&oe.uniqueSort(r)}return i&&(S=h,w=p),c},m?se(r):r))).selector=e}return a},g=oe.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(Z,ee),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=V.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&&(r=u(a.matches[0].replace(Z,ee),K.test(o[0].type)&&ge(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&ye(o)))return L.apply(n,r),n;break}}return(l||f(e,c))(r,t,!E,n,!t||K.test(e)&&ge(t.parentNode)||t),n},d.sortStable=k.split("").sort(N).join("")===k,d.detectDuplicates=!!l,T(),d.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(C);k.find=d,k.expr=d.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=d.uniqueSort,k.text=d.getText,k.isXMLDoc=d.isXML,k.contains=d.contains,k.escapeSelector=d.escape;var h=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=k.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,n,r){return m(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&S.test(e)?k(e):e||[],!1).length}});var j,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||j,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&k.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=k.fn,j=k(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!S.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return D(e,"iframe")?e.contentDocument:(D(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(H[r]||k.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function M(e){return e}function R(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},k.each(e.match(P)||[],function(e,t){n[t]=!0}),n):k.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1)for(t=u.shift();++l<s.length;)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1);r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){k.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,s,n));)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<k.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,M,s),l(u,o,R,s)):(u++,t.call(e,l(u,o,M,s),l(u,o,R,s),l(u,o,M,o.notifyWith))):(a!==M&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==R&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),C.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:M,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:M)),o[2][3].add(l(0,e,m(n)?n:R))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();for(;t--;)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){C.setTimeout(function(){throw e})};var $=k.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),k.ready()}k.fn.ready=function(e){return $.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||((k.isReady=!0)!==e&&0<--k.readyWait||$.resolveWith(E,[k]))}}),k.ready.then=$.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(k.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var F=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)F(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(t=a?(t.call(e,r),null):(l=t,function(e,t,n){return l.call(k(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function U(e){return e.replace(_,"ms-").replace(z,X)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=k.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[U(t)]=n;else for(r in t)i[U(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][U(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(U):(t=U(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){Q.set(this,n)}):F(this,function(e){var t;if(o&&void 0===e){if(void 0!==(t=Q.get(o,n)))return t;if(void 0!==(t=Z(o,n)))return t}else this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=U(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){k.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:k.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&k.contains(e.ownerDocument,e)&&"none"===k.css(e,"display")},ie=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function oe(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},u=s(),l=n&&n[3]||(k.cssNumber[t]?"":"px"),c=(k.cssNumber[t]||"px"!==l&&+u)&&te.exec(k.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)k.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,k.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ae={};function se(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Y.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&re(r)&&(i[o]=(f=l=u=void 0,l=(s=r).ownerDocument,c=s.nodeName,(f=ae[c])||(u=l.body.appendChild(l.createElement(c)),f=k.css(u,"display"),u.parentNode.removeChild(u),"none"===f&&(f="block"),ae[c]=f)))):"none"!==n&&(i[o]="none",Y.set(r,"display",n)));var s,u,l,c,f;for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return se(this,!0)},hide:function(){return se(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){re(this)?k(this).show():k(this).hide()})}});var ue=/^(?:checkbox|radio)$/i,le=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ce=/^$|^module$|\/(?:java|ecma)script/i,fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?k.merge([e],n):n}function de(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}fe.optgroup=fe.option,fe.tbody=fe.tfoot=fe.colgroup=fe.caption=fe.thead,fe.th=fe.td;var he,ge,ve=/<|&#?\w+;/;function ye(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))k.merge(p,o.nodeType?[o]:o);else if(ve.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(le.exec(o)||["",""])[1].toLowerCase(),u=fe[s]||fe._default,a.innerHTML=u[1]+k.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;k.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(l=k.contains(o.ownerDocument,o),a=pe(f.appendChild(o),"script"),l&&de(a),n)for(c=0;o=a[c++];)ce.test(o.type||"")&&n.push(o);return f}he=E.createDocumentFragment().appendChild(E.createElement("div")),(ge=E.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),he.appendChild(ge),y.checkClone=he.cloneNode(!0).cloneNode(!0).lastChild.checked,he.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!he.cloneNode(!0).lastChild.defaultValue;var me=E.documentElement,xe=/^key/,be=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Ce(){return!1}function Ee(){try{return E.activeElement}catch(e){}}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ce;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(me,i),n.guid||(n.guid=k.guid++),(u=v.events)||(u=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;l--;)d=g=(s=we.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=k.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=k.event.special[d]||{},c=k.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),k.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(P)||[""]).length;l--;)if(d=g=(s=we.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){for(f=k.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||k.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)k.event.remove(e,d+t[l],n,r,!0);k.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=k.event.fix(e),u=new Array(arguments.length),l=(Y.get(this,"events")||{})[s.type]||[],c=k.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=k.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&D(this,"input"))return this.click(),!1},_default:function(e){return D(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&be.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){k.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||k.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),k.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each(function(){k.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function qe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Y.hasData(e)&&(o=Y.access(e),a=Y.set(t,o),l=o.events))for(i in delete a.handle,a.events={},l)for(n=0,r=l[i].length;n<r;n++)k.event.add(t,i,l[i][n]);Q.hasData(e)&&(s=Q.access(e),u=k.extend({},s),Q.set(t,u))}}function Oe(n,r,i,o){r=g.apply([],r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ne.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),Oe(t,r,i,o)});if(f&&(t=(e=ye(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(pe(e,"script"),qe)).length;c<f;c++)u=e,c!==p&&(u=k.clone(u,!0,!0),s&&k.merge(a,pe(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,k.map(a,Le),c=0;c<s;c++)u=a[c],ce.test(u.type||"")&&!Y.access(u,"globalEval")&&k.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&k._evalUrl(u.src):b(u.textContent.replace(Ae,""),l,u))}return n}function Pe(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(pe(r)),r.parentNode&&(n&&k.contains(r.ownerDocument,r)&&de(pe(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=k.contains(e.ownerDocument,e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=pe(c),r=0,i=(o=pe(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&ue.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||pe(e),a=a||pe(c),r=0,i=o.length;r<i;r++)He(o[r],a[r]);else He(e,c);return 0<(a=pe(c,"script")).length&&de(a,!f&&pe(e,"script")),c},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return F(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Oe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return Oe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Oe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return F(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!fe[(le.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Oe(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(pe(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||k.contains(e.ownerDocument,e)||(a=k.style(e,t)),!y.pixelBoxStyles()&&Me.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(s).appendChild(u);var e=C.getComputedStyle(u);n="1%"!==e.top,a=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",i=36===u.offsetWidth||"absolute",me.removeChild(s),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s=E.createElement("div"),u=E.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),a},scrollboxSize:function(){return e(),i}}))}();var Be=/^(none|table(?!-c[ea]).+)/,Fe=/^--/,_e={position:"absolute",visibility:"hidden",display:"block"},ze={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","Moz","ms"],Ue=E.createElement("div").style;function Ve(e){var t=k.cssProps[e];return t||(t=k.cssProps[e]=function(e){if(e in Ue)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Ue)return e}(e)||e),t}function Ge(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ye(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=k.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=k.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=k.css(e,"border"+ne[a]+"Width",!0,i))):(u+=k.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=k.css(e,"border"+ne[a]+"Width",!0,i):s+=k.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function Qe(e,t,n){var r=Re(e),i=We(e,t,r),o="border-box"===k.css(e,"boxSizing",!1,r),a=o;if(Me.test(i)){if(!n)return i;i="auto"}return a=a&&(y.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===k.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ye(e,t,n||(o?"border":"content"),a,r,i)+"px"}function Je(e,t,n,r,i){return new Je.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=U(t),u=Fe.test(t),l=e.style;if(u||(t=Ve(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=oe(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=U(t);return Fe.test(t)||(t=Ve(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in ze&&(i=ze[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,s){k.cssHooks[s]={get:function(e,t,n){if(t)return!Be.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,s,n):ie(e,_e,function(){return Qe(e,s,n)})},set:function(e,t,n){var r,i=Re(e),o="border-box"===k.css(e,"boxSizing",!1,i),a=n&&Ye(e,s,n,o,i);return o&&y.scrollboxSize()===i.position&&(a-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(i[s])-Ye(e,s,"border",!1,i)-.5)),a&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[s]=t,t=k.css(e,s)),Ge(0,t,a)}}}),k.cssHooks.marginLeft=$e(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=Ge)}),k.fn.extend({css:function(e,t){return F(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),((k.Tween=Je).prototype={constructor:Je,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,n=Je.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Je.propHooks._default.set(this),this}}).init.prototype=Je.prototype,(Je.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[k.cssProps[e.prop]]&&!k.cssHooks[e.prop]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=Je.prototype.init,k.fx.step={};var Ke,Ze,et,tt,nt=/^(?:toggle|show|hide)$/,rt=/queueHooks$/;function it(){Ze&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(it):C.setTimeout(it,k.fx.interval),k.fx.tick())}function ot(){return C.setTimeout(function(){Ke=void 0}),Ke=Date.now()}function at(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function st(e,t,n){for(var r,i=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ut(o,e,t){var n,a,r=0,i=ut.prefilters.length,s=k.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ke||ot(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ke||ot(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=U(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ut.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return k.map(c,st,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return oe(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=m(e)?(t=e,["*"]):e.match(P)).length;r<i;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&re(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],nt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||k.style(e,r)}if((u=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=k.css(e,"display"))&&(l?c=l:(se([e],!0),l=e.style.display||l,c=k.css(e,"display"),se([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&se([e],!0),p.done(function(){for(r in g||se([e]),Y.remove(e,"fxshow"),d)k.style(e,r,d[r])})),u=st(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=ut(this,k.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&rt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(at(r,!0),e,t,n)}}),k.each({slideDown:at("show"),slideUp:at("hide"),slideToggle:at("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(Ke=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),Ke=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){Ze||(Ze=!0,it())},k.fx.stop=function(){Ze=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},et=E.createElement("input"),tt=E.createElement("select").appendChild(E.createElement("option")),et.type="checkbox",y.checkOn=""!==et.value,y.optSelected=tt.selected,(et=E.createElement("input")).value="t",et.type="radio",y.radioValue="t"===et.value;var lt,ct=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return F(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ct[t]||k.find.attr;ct[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ct[o],ct[o]=r,r=null!=a(e,t,n)?o:null,ct[o]=i),r}});var ft=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function dt(e){return(e.match(P)||[]).join(" ")}function ht(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}k.fn.extend({prop:function(e,t){return F(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,ht(this)))});if((e=gt(t)).length)for(;n=this[u++];)if(i=ht(n),r=1===n.nodeType&&" "+dt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=dt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,ht(this)))});if(!arguments.length)return this.attr("class","");if((e=gt(t)).length)for(;n=this[u++];)if(i=ht(n),r=1===n.nodeType&&" "+dt(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=dt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,ht(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=k(this),r=gt(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!==o||((e=ht(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+dt(ht(n))+" ").indexOf(t))return!0;return!1}});var vt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(vt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:dt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},y.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var yt=/^(?:focusinfocus|focusoutblur)$/,mt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!yt.test(d+k.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[k.expando]?e:new k.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),c=k.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,yt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}for(i=0;(o=p[i++])&&!e.isPropagationStopped();)f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||{})[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),k.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,mt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,mt),k.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),y.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){k.event.simulate(r,e.target,k.event.fix(e))};k.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var xt=C.location,bt=Date.now(),wt=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var Tt=/\[\]$/,Ct=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function St(n,e,r,i){var t;if(Array.isArray(e))k.each(e,function(e,t){r||Tt.test(n)?i(n,t):St(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)St(n+"["+t+"]",e[t],r,i)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)St(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&kt.test(this.nodeName)&&!Et.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Ct,"\r\n")}}):{name:t.name,value:n.replace(Ct,"\r\n")}}).get()}});var Dt=/%20/g,Nt=/#.*$/,At=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,qt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Ht={},Ot={},Pt="*/".concat("*"),Mt=E.createElement("a");function Rt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function It(t,i,o,a){var s={},u=t===Ot;function l(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Wt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Mt.href=xt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Wt(Wt(e,k.ajaxSettings),t):Wt(k.ajaxSettings,e)},ajaxPrefilter:Rt(Ht),ajaxTransport:Rt(Ot),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=k.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?k(y):k.event,x=k.Deferred(),b=k.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=jt.exec(p);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||xt.href)+"").replace(Lt,xt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=k.param(v.data,v.traditional)),It(Ht,v,t,T),h)return T;for(i in(g=k.event&&v.global)&&0==k.active++&&k.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!qt.test(v.type),f=v.url.replace(Nt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Dt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(wt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(At,"$1"),o=(wt.test(f)?"&":"?")+"_="+bt+++o),v.url=f+o),v.ifModified&&(k.lastModified[f]&&T.setRequestHeader("If-Modified-Since",k.lastModified[f]),k.etag[f]&&T.setRequestHeader("If-None-Match",k.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Pt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=It(Ot,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(k.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(k.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--k.active||k.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k._evalUrl=function(e){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Bt=k.ajaxSettings.xhr();y.cors=!!Bt&&"withCredentials"in Bt,y.ajax=Bt=!!Bt,k.ajaxTransport(function(i){var o,a;if(y.cors||Bt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t($t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain)return{send:function(e,t){r=k("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ft,_t=[],zt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_t.pop()||k.expando+"_"+bt++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(zt,"$1"+r):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?k(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,_t.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Ft=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ft.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=ye([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=dt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=k.css(e,"position"),c=k(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=k.css(e,"top"),u=k.css(e,"left"),i=("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(u)||0),m(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||me})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return F(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=$e(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Me.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return F(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),k.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=D,k.isFunction=m,k.isWindow=x,k.camelCase=U,k.type=w,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var Xt=C.jQuery,Ut=C.$;return k.noConflict=function(e){return C.$===k&&(C.$=Ut),e&&C.jQuery===k&&(C.jQuery=Xt),k},e||(C.jQuery=C.$=k),k});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bootstrap={},t.jQuery)}(this,function(t,e){"use strict";var n,h=(n=e)&&"object"==typeof n&&"default"in n?n:{default:n};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o="transitionend",p={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=h.default(t).css("transition-duration"),n=h.default(t).css("transition-delay"),i=parseFloat(e),o=parseFloat(n);return i||o?(e=e.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(e)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){h.default(t).trigger(o)},supportsTransitionEnd:function(){return Boolean(o)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=e[i],a=r&&p.isElement(r)?"element":null===(s=r)||void 0===s?""+s:{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+a+'" but expected type "'+o+'".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"!=typeof t.getRootNode)return t instanceof ShadowRoot?t:t.parentNode?p.findShadowRoot(t.parentNode):null;var e=t.getRootNode();return e instanceof ShadowRoot?e:null},jQueryDetection:function(){if(void 0===h.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=h.default.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};p.jQueryDetection(),h.default.fn.emulateTransitionEnd=function(t){var e=this,n=!1;return h.default(this).one(p.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||p.triggerTransitionEnd(e)},t),this},h.default.event.special[p.TRANSITION_END]={bindType:o,delegateType:o,handle:function(t){if(h.default(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var s="bs.alert",u=h.default.fn.alert,f=function(){function i(t){this._element=t}var t=i.prototype;return t.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},t.dispose=function(){h.default.removeData(this._element,s),this._element=null},t._getRootElement=function(t){var e=p.getSelectorFromElement(t),n=!1;return e&&(n=document.querySelector(e)),n||(n=h.default(t).closest(".alert")[0]),n},t._triggerCloseEvent=function(t){var e=h.default.Event("close.bs.alert");return h.default(t).trigger(e),e},t._removeElement=function(e){var n=this;if(h.default(e).removeClass("show"),h.default(e).hasClass("fade")){var t=p.getTransitionDurationFromElement(e);h.default(e).one(p.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(t)}else this._destroyElement(e)},t._destroyElement=function(t){h.default(t).detach().trigger("closed.bs.alert").remove()},i._jQueryInterface=function(n){return this.each(function(){var t=h.default(this),e=t.data(s);e||(e=new i(this),t.data(s,e)),"close"===n&&e[n](this)})},i._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},a(i,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),i}();h.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',f._handleDismiss(new f)),h.default.fn.alert=f._jQueryInterface,h.default.fn.alert.Constructor=f,h.default.fn.alert.noConflict=function(){return h.default.fn.alert=u,f._jQueryInterface};var d="bs.button",c=h.default.fn.button,m="active",g='[data-toggle^="button"]',_='input:not([type="hidden"])',v=".btn",b=function(){function o(t){this._element=t,this.shouldAvoidTriggerChange=!1}var t=o.prototype;return t.toggle=function(){var t=!0,e=!0,n=h.default(this._element).closest('[data-toggle="buttons"]')[0];if(n){var i=this._element.querySelector(_);if(i){if("radio"===i.type)if(i.checked&&this._element.classList.contains(m))t=!1;else{var o=n.querySelector(".active");o&&h.default(o).removeClass(m)}t&&("checkbox"!==i.type&&"radio"!==i.type||(i.checked=!this._element.classList.contains(m)),this.shouldAvoidTriggerChange||h.default(i).trigger("change")),i.focus(),e=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(m)),t&&h.default(this._element).toggleClass(m))},t.dispose=function(){h.default.removeData(this._element,d),this._element=null},o._jQueryInterface=function(n,i){return this.each(function(){var t=h.default(this),e=t.data(d);e||(e=new o(this),t.data(d,e)),e.shouldAvoidTriggerChange=i,"toggle"===n&&e[n]()})},a(o,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),o}();h.default(document).on("click.bs.button.data-api",g,function(t){var e=t.target,n=e;if(h.default(e).hasClass("btn")||(e=h.default(e).closest(v)[0]),!e||e.hasAttribute("disabled")||e.classList.contains("disabled"))t.preventDefault();else{var i=e.querySelector(_);if(i&&(i.hasAttribute("disabled")||i.classList.contains("disabled")))return void t.preventDefault();"INPUT"!==n.tagName&&"LABEL"===e.tagName||b._jQueryInterface.call(h.default(e),"toggle","INPUT"===n.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",g,function(t){var e=h.default(t.target).closest(v)[0];h.default(e).toggleClass("focus",/^focus(in)?$/.test(t.type))}),h.default(window).on("load.bs.button.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var i=t[e],o=i.querySelector(_);o.checked||o.hasAttribute("checked")?i.classList.add(m):i.classList.remove(m)}for(var r=0,a=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;r<a;r++){var s=t[r];"true"===s.getAttribute("aria-pressed")?s.classList.add(m):s.classList.remove(m)}}),h.default.fn.button=b._jQueryInterface,h.default.fn.button.Constructor=b,h.default.fn.button.noConflict=function(){return h.default.fn.button=c,b._jQueryInterface};var y="carousel",E="bs.carousel",w=h.default.fn[y],T="active",C="next",S="prev",N="slid.bs.carousel",D=".active.carousel-item",A={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},k={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},I={TOUCH:"touch",PEN:"pen"},O=function(){function r(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var t=r.prototype;return t.next=function(){this._isSliding||this._slide(C)},t.nextWhenVisible=function(){var t=h.default(this._element);!document.hidden&&t.is(":visible")&&"hidden"!==t.css("visibility")&&this.next()},t.prev=function(){this._isSliding||this._slide(S)},t.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(p.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},t.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},t.to=function(t){var e=this;this._activeElement=this._element.querySelector(D);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)h.default(this._element).one(N,function(){return e.to(t)});else{if(n===t)return this.pause(),void this.cycle();var i=n<t?C:S;this._slide(i,this._items[t])}},t.dispose=function(){h.default(this._element).off(".bs.carousel"),h.default.removeData(this._element,E),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},t._getConfig=function(t){return t=l({},A,t),p.typeCheckConfig(y,t,k),t},t._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;(this.touchDeltaX=0)<e&&this.prev(),e<0&&this.next()}},t._addEventListeners=function(){var e=this;this._config.keyboard&&h.default(this._element).on("keydown.bs.carousel",function(t){return e._keydown(t)}),"hover"===this._config.pause&&h.default(this._element).on("mouseenter.bs.carousel",function(t){return e.pause(t)}).on("mouseleave.bs.carousel",function(t){return e.cycle(t)}),this._config.touch&&this._addTouchEventListeners()},t._addTouchEventListeners=function(){var n=this;if(this._touchSupported){var e=function(t){n._pointerEvent&&I[t.originalEvent.pointerType.toUpperCase()]?n.touchStartX=t.originalEvent.clientX:n._pointerEvent||(n.touchStartX=t.originalEvent.touches[0].clientX)},i=function(t){n._pointerEvent&&I[t.originalEvent.pointerType.toUpperCase()]&&(n.touchDeltaX=t.originalEvent.clientX-n.touchStartX),n._handleSwipe(),"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(t){return n.cycle(t)},500+n._config.interval))};h.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(t){return t.preventDefault()}),this._pointerEvent?(h.default(this._element).on("pointerdown.bs.carousel",function(t){return e(t)}),h.default(this._element).on("pointerup.bs.carousel",function(t){return i(t)}),this._element.classList.add("pointer-event")):(h.default(this._element).on("touchstart.bs.carousel",function(t){return e(t)}),h.default(this._element).on("touchmove.bs.carousel",function(t){return e=t,void(n.touchDeltaX=e.originalEvent.touches&&1<e.originalEvent.touches.length?0:e.originalEvent.touches[0].clientX-n.touchStartX);var e}),h.default(this._element).on("touchend.bs.carousel",function(t){return i(t)}))}},t._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},t._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},t._getItemByDirection=function(t,e){var n=t===C,i=t===S,o=this._getItemIndex(e),r=this._items.length-1;if((i&&0===o||n&&o===r)&&!this._config.wrap)return e;var a=(o+(t===S?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},t._triggerSlideEvent=function(t,e){var n=this._getItemIndex(t),i=this._getItemIndex(this._element.querySelector(D)),o=h.default.Event("slide.bs.carousel",{relatedTarget:t,direction:e,from:i,to:n});return h.default(this._element).trigger(o),o},t._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));h.default(e).removeClass(T);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&h.default(n).addClass(T)}},t._updateInterval=function(){var t=this._activeElement||this._element.querySelector(D);if(t){var e=parseInt(t.getAttribute("data-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}},t._slide=function(t,e){var n,i,o,r=this,a=this._element.querySelector(D),s=this._getItemIndex(a),l=e||a&&this._getItemByDirection(t,a),u=this._getItemIndex(l),f=Boolean(this._interval);if(o=t===C?(n="carousel-item-left",i="carousel-item-next","left"):(n="carousel-item-right",i="carousel-item-prev","right"),l&&h.default(l).hasClass(T))this._isSliding=!1;else if(!this._triggerSlideEvent(l,o).isDefaultPrevented()&&a&&l){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(l),this._activeElement=l;var d=h.default.Event(N,{relatedTarget:l,direction:o,from:s,to:u});if(h.default(this._element).hasClass("slide")){h.default(l).addClass(i),p.reflow(l),h.default(a).addClass(n),h.default(l).addClass(n);var c=p.getTransitionDurationFromElement(a);h.default(a).one(p.TRANSITION_END,function(){h.default(l).removeClass(n+" "+i).addClass(T),h.default(a).removeClass("active "+i+" "+n),r._isSliding=!1,setTimeout(function(){return h.default(r._element).trigger(d)},0)}).emulateTransitionEnd(c)}else h.default(a).removeClass(T),h.default(l).addClass(T),this._isSliding=!1,h.default(this._element).trigger(d);f&&this.cycle()}},r._jQueryInterface=function(i){return this.each(function(){var t=h.default(this).data(E),e=l({},A,h.default(this).data());"object"==typeof i&&(e=l({},e,i));var n="string"==typeof i?i:e.slide;if(t||(t=new r(this,e),h.default(this).data(E,t)),"number"==typeof i)t.to(i);else if("string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}else e.interval&&e.ride&&(t.pause(),t.cycle())})},r._dataApiClickHandler=function(t){var e=p.getSelectorFromElement(this);if(e){var n=h.default(e)[0];if(n&&h.default(n).hasClass("carousel")){var i=l({},h.default(n).data(),h.default(this).data()),o=this.getAttribute("data-slide-to");o&&(i.interval=!1),r._jQueryInterface.call(h.default(n),i),o&&h.default(n).data(E).to(o),t.preventDefault()}}},a(r,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return A}}]),r}();h.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",O._dataApiClickHandler),h.default(window).on("load.bs.carousel.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),e=0,n=t.length;e<n;e++){var i=h.default(t[e]);O._jQueryInterface.call(i,i.data())}}),h.default.fn[y]=O._jQueryInterface,h.default.fn[y].Constructor=O,h.default.fn[y].noConflict=function(){return h.default.fn[y]=w,O._jQueryInterface};var x="collapse",j="bs.collapse",L=h.default.fn[x],P="show",F="collapse",R="collapsing",H="collapsed",M="width",q='[data-toggle="collapse"]',B={toggle:!0,parent:""},Q={toggle:"boolean",parent:"(string|element)"},W=function(){function s(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(q)),i=0,o=n.length;i<o;i++){var r=n[i],a=p.getSelectorFromElement(r),s=[].slice.call(document.querySelectorAll(a)).filter(function(t){return t===e});null!==a&&0<s.length&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var t=s.prototype;return t.toggle=function(){h.default(this._element).hasClass(P)?this.hide():this.show()},t.show=function(){var t,e,n=this;if(!(this._isTransitioning||h.default(this._element).hasClass(P)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(t){return"string"==typeof n._config.parent?t.getAttribute("data-parent")===n._config.parent:t.classList.contains(F)})).length&&(t=null),t&&(e=h.default(t).not(this._selector).data(j))&&e._isTransitioning))){var i=h.default.Event("show.bs.collapse");if(h.default(this._element).trigger(i),!i.isDefaultPrevented()){t&&(s._jQueryInterface.call(h.default(t).not(this._selector),"hide"),e||h.default(t).data(j,null));var o=this._getDimension();h.default(this._element).removeClass(F).addClass(R),this._element.style[o]=0,this._triggerArray.length&&h.default(this._triggerArray).removeClass(H).attr("aria-expanded",!0),this.setTransitioning(!0);var r="scroll"+(o[0].toUpperCase()+o.slice(1)),a=p.getTransitionDurationFromElement(this._element);h.default(this._element).one(p.TRANSITION_END,function(){h.default(n._element).removeClass(R).addClass("collapse show"),n._element.style[o]="",n.setTransitioning(!1),h.default(n._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(a),this._element.style[o]=this._element[r]+"px"}}},t.hide=function(){var t=this;if(!this._isTransitioning&&h.default(this._element).hasClass(P)){var e=h.default.Event("hide.bs.collapse");if(h.default(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",p.reflow(this._element),h.default(this._element).addClass(R).removeClass("collapse show");var i=this._triggerArray.length;if(0<i)for(var o=0;o<i;o++){var r=this._triggerArray[o],a=p.getSelectorFromElement(r);null!==a&&(h.default([].slice.call(document.querySelectorAll(a))).hasClass(P)||h.default(r).addClass(H).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[n]="";var s=p.getTransitionDurationFromElement(this._element);h.default(this._element).one(p.TRANSITION_END,function(){t.setTransitioning(!1),h.default(t._element).removeClass(R).addClass(F).trigger("hidden.bs.collapse")}).emulateTransitionEnd(s)}}},t.setTransitioning=function(t){this._isTransitioning=t},t.dispose=function(){h.default.removeData(this._element,j),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},t._getConfig=function(t){return(t=l({},B,t)).toggle=Boolean(t.toggle),p.typeCheckConfig(x,t,Q),t},t._getDimension=function(){return h.default(this._element).hasClass(M)?M:"height"},t._getParent=function(){var t,n=this;p.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',i=[].slice.call(t.querySelectorAll(e));return h.default(i).each(function(t,e){n._addAriaAndCollapsedClass(s._getTargetFromElement(e),[e])}),t},t._addAriaAndCollapsedClass=function(t,e){var n=h.default(t).hasClass(P);e.length&&h.default(e).toggleClass(H,!n).attr("aria-expanded",n)},s._getTargetFromElement=function(t){var e=p.getSelectorFromElement(t);return e?document.querySelector(e):null},s._jQueryInterface=function(i){return this.each(function(){var t=h.default(this),e=t.data(j),n=l({},B,t.data(),"object"==typeof i&&i?i:{});if(!e&&n.toggle&&"string"==typeof i&&/show|hide/.test(i)&&(n.toggle=!1),e||(e=new s(this,n),t.data(j,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},a(s,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return B}}]),s}();h.default(document).on("click.bs.collapse.data-api",q,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=h.default(this),e=p.getSelectorFromElement(this),i=[].slice.call(document.querySelectorAll(e));h.default(i).each(function(){var t=h.default(this),e=t.data(j)?"toggle":n.data();W._jQueryInterface.call(t,e)})}),h.default.fn[x]=W._jQueryInterface,h.default.fn[x].Constructor=W,h.default.fn[x].noConflict=function(){return h.default.fn[x]=L,W._jQueryInterface};var U="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,V=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(U&&0<=navigator.userAgent.indexOf(t[e]))return 1;return 0}(),Y=U&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},V))}};function z(t){return t&&"[object Function]"==={}.toString.call(t)}function K(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function X(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function G(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=K(t),n=e.overflow,i=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+i)?t:G(X(t))}function $(t){return t&&t.referenceNode?t.referenceNode:t}var J=U&&!(!window.MSInputMethodContext||!document.documentMode),Z=U&&/MSIE 10/.test(navigator.userAgent);function tt(t){return 11===t?J:10===t?Z:J||Z}function et(t){if(!t)return document.documentElement;for(var e=tt(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===K(n,"position")?et(n):n:t?t.ownerDocument.documentElement:document.documentElement}function nt(t){return null!==t.parentNode?nt(t.parentNode):t}function it(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,o=n?e:t,r=document.createRange();r.setStart(i,0),r.setEnd(o,0);var a,s,l=r.commonAncestorContainer;if(t!==l&&e!==l||i.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&et(a.firstElementChild)!==a?et(l):l;var u=nt(t);return u.host?it(u.host,e):it(t,nt(e).host)}function ot(t){var e="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"!==n&&"HTML"!==n)return t[e];var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}function rt(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function at(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],tt(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function st(t){var e=t.body,n=t.documentElement,i=tt(10)&&getComputedStyle(n);return{height:at("Height",e,n,i),width:at("Width",e,n,i)}}var lt=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),ut=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},ft=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function dt(t){return ft({},t,{right:t.left+t.width,bottom:t.top+t.height})}function ct(t){var e={};try{if(tt(10)){e=t.getBoundingClientRect();var n=ot(t,"top"),i=ot(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?st(t.ownerDocument):{},a=r.width||t.clientWidth||o.width,s=r.height||t.clientHeight||o.height,l=t.offsetWidth-a,u=t.offsetHeight-s;if(l||u){var f=K(t);l-=rt(f,"x"),u-=rt(f,"y"),o.width-=l,o.height-=u}return dt(o)}function ht(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=tt(10),o="HTML"===e.nodeName,r=ct(t),a=ct(e),s=G(t),l=K(e),u=parseFloat(l.borderTopWidth),f=parseFloat(l.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=dt({top:r.top-a.top-u,left:r.left-a.left-f,width:r.width,height:r.height});if(d.marginTop=0,d.marginLeft=0,!i&&o){var c=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=u-c,d.bottom-=u-c,d.left-=f-h,d.right-=f-h,d.marginTop=c,d.marginLeft=h}return(i&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(d=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=ot(e,"top"),o=ot(e,"left"),r=n?-1:1;return t.top+=i*r,t.bottom+=i*r,t.left+=o*r,t.right+=o*r,t}(d,e)),d}function pt(t){if(!t||!t.parentElement||tt())return document.documentElement;for(var e=t.parentElement;e&&"none"===K(e,"transform");)e=e.parentElement;return e||document.documentElement}function mt(t,e,n,i){var o=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},a=o?pt(t):it(t,$(e));if("viewport"===i)r=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=ht(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),r=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:ot(n),s=e?0:ot(n,"left");return dt({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:o,height:r})}(a,o);else{var s=void 0;"scrollParent"===i?"BODY"===(s=G(X(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===i?t.ownerDocument.documentElement:i;var l=ht(s,a,o);if("HTML"!==s.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===K(e,"position"))return!0;var i=X(e);return!!i&&t(i)}(a))r=l;else{var u=st(t.ownerDocument),f=u.height,d=u.width;r.top+=l.top-l.marginTop,r.bottom=f+l.top,r.left+=l.left-l.marginLeft,r.right=d+l.left}}var c="number"==typeof(n=n||0);return r.left+=c?n:n.left||0,r.top+=c?n:n.top||0,r.right-=c?n:n.right||0,r.bottom-=c?n:n.bottom||0,r}function gt(t,e,i,n,o){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=mt(i,n,r,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return ft({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight}),f=0<u.length?u[0].key:l[0].key,d=t.split("-")[1];return f+(d?"-"+d:"")}function _t(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return ht(n,i?pt(e):it(e,$(n)),i)}function vt(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function bt(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function yt(t,e,n){n=n.split("-")[0];var i=vt(t),o={width:i.width,height:i.height},r=-1!==["right","left"].indexOf(n),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",u=r?"width":"height";return o[a]=e[a]+e[l]/2-i[l]/2,o[s]=n===s?e[s]-i[u]:e[bt(s)],o}function Et(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function wt(t,n,e){return(void 0===e?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t.name===n});var i=Et(t,function(t){return t.name===n});return t.indexOf(i)}(t,0,e))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&z(e)&&(n.offsets.popper=dt(n.offsets.popper),n.offsets.reference=dt(n.offsets.reference),n=e(n,t))}),n}function Tt(t,n){return t.some(function(t){var e=t.name;return t.enabled&&e===n})}function Ct(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var o=e[i],r=o?""+o+n:t;if(void 0!==document.body.style[r])return r}return null}function St(t){var e=t.ownerDocument;return e?e.defaultView:window}function Nt(t,e,n,i){n.updateBound=i,St(t).addEventListener("resize",n.updateBound,{passive:!0});var o=G(t);return function t(e,n,i,o){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),r||t(G(a.parentNode),n,i,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Dt(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function At(n,i){Object.keys(i).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&Dt(i[t])&&(e="px"),n.style[t]=i[t]+e})}var kt=U&&/Firefox/i.test(navigator.userAgent);function It(t,e,n){var i=Et(t,function(t){return t.name===e}),o=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!o){var r="`"+e+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}var Ot=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],xt=Ot.slice(3);function jt(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=xt.indexOf(t),i=xt.slice(n+1).concat(xt.slice(0,n));return e?i.reverse():i}var Lt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var o=t.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",f={start:ut({},l,r[l]),end:ut({},l,r[l]+r[u]-a[u])};t.offsets.popper=ft({},a,f[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n,i=e.offset,o=t.placement,r=t.offsets,a=r.popper,s=r.reference,l=o.split("-")[0];return n=Dt(+i)?[+i,0]:function(t,u,f,e){var o=[0,0],i=-1!==["right","left"].indexOf(l),n=t.split(/(\+|\-)/).map(function(t){return t.trim()}),r=n.indexOf(Et(n,function(t){return-1!==t.search(/,|\s/)}));n[r]&&-1===n[r].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var a=/\s*,\s*|\s+/,s=-1!==r?[n.slice(0,r).concat([n[r].split(a)[0]]),[n[r].split(a)[1]].concat(n.slice(r+1))]:[n];return(s=s.map(function(t,e){var l=(1===e?!i:i)?"height":"width",n=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,n=!0,t):n?(t[t.length-1]+=e,n=!1,t):t.concat(e)},[]).map(function(t){return n=l,i=u,o=f,r=(e=t).match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+r[1],s=r[2],a?0===s.indexOf("%")?dt("%p"===s?i:o)[n]/100*a:"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a:a:e;var e,n,i,o,r,a,s})})).forEach(function(n,i){n.forEach(function(t,e){Dt(t)&&(o[i]+=t*("-"===n[e-1]?-1:1))})}),o}(i,a,s),"left"===l?(a.top+=n[0],a.left-=n[1]):"right"===l?(a.top+=n[0],a.left+=n[1]):"top"===l?(a.left+=n[0],a.top-=n[1]):"bottom"===l&&(a.left+=n[0],a.top+=n[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,i){var e=i.boundariesElement||et(t.instance.popper);t.instance.reference===e&&(e=et(e));var n=Ct("transform"),o=t.instance.popper.style,r=o.top,a=o.left,s=o[n];o.top="",o.left="",o[n]="";var l=mt(t.instance.popper,t.instance.reference,i.padding,e,t.positionFixed);o.top=r,o.left=a,o[n]=s,i.boundaries=l;var u=i.priority,f=t.offsets.popper,d={primary:function(t){var e=f[t];return f[t]<l[t]&&!i.escapeWithReference&&(e=Math.max(f[t],l[t])),ut({},t,e)},secondary:function(t){var e="right"===t?"left":"top",n=f[e];return f[t]>l[t]&&!i.escapeWithReference&&(n=Math.min(f[e],l[t]-("right"===t?f.width:f.height))),ut({},e,n)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";f=ft({},f,d[e](t))}),t.offsets.popper=f,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,o=t.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<r(i[l])&&(t.offsets.popper[l]=r(i[l])-n[u]),n[l]>r(i[s])&&(t.offsets.popper[l]=r(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!It(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var o=t.placement.split("-")[0],r=t.offsets,a=r.popper,s=r.reference,l=-1!==["left","right"].indexOf(o),u=l?"height":"width",f=l?"Top":"Left",d=f.toLowerCase(),c=l?"left":"top",h=l?"bottom":"right",p=vt(i)[u];s[h]-p<a[d]&&(t.offsets.popper[d]-=a[d]-(s[h]-p)),s[d]+p>a[h]&&(t.offsets.popper[d]+=s[d]+p-a[h]),t.offsets.popper=dt(t.offsets.popper);var m=s[d]+s[u]/2-p/2,g=K(t.instance.popper),_=parseFloat(g["margin"+f]),v=parseFloat(g["border"+f+"Width"]),b=m-t.offsets.popper[d]-_-v;return b=Math.max(Math.min(a[u]-p,b),0),t.arrowElement=i,t.offsets.arrow=(ut(n={},d,Math.round(b)),ut(n,c,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(m,g){if(Tt(m.instance.modifiers,"inner"))return m;if(m.flipped&&m.placement===m.originalPlacement)return m;var _=mt(m.instance.popper,m.instance.reference,g.padding,g.boundariesElement,m.positionFixed),v=m.placement.split("-")[0],b=bt(v),y=m.placement.split("-")[1]||"",E=[];switch(g.behavior){case"flip":E=[v,b];break;case"clockwise":E=jt(v);break;case"counterclockwise":E=jt(v,!0);break;default:E=g.behavior}return E.forEach(function(t,e){if(v!==t||E.length===e+1)return m;v=m.placement.split("-")[0],b=bt(v);var n=m.offsets.popper,i=m.offsets.reference,o=Math.floor,r="left"===v&&o(n.right)>o(i.left)||"right"===v&&o(n.left)<o(i.right)||"top"===v&&o(n.bottom)>o(i.top)||"bottom"===v&&o(n.top)<o(i.bottom),a=o(n.left)<o(_.left),s=o(n.right)>o(_.right),l=o(n.top)<o(_.top),u=o(n.bottom)>o(_.bottom),f="left"===v&&a||"right"===v&&s||"top"===v&&l||"bottom"===v&&u,d=-1!==["top","bottom"].indexOf(v),c=!!g.flipVariations&&(d&&"start"===y&&a||d&&"end"===y&&s||!d&&"start"===y&&l||!d&&"end"===y&&u),h=!!g.flipVariationsByContent&&(d&&"start"===y&&s||d&&"end"===y&&a||!d&&"start"===y&&u||!d&&"end"===y&&l),p=c||h;(r||f||p)&&(m.flipped=!0,(r||f)&&(v=E[e+1]),p&&(y="end"===y?"start":"start"===y?"end":y),m.placement=v+(y?"-"+y:""),m.offsets.popper=ft({},m.offsets.popper,yt(m.instance.popper,m.offsets.reference,m.placement)),m=wt(m.instance.modifiers,m,"flip"))}),m},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,o=i.popper,r=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=r[n]-(s?o[a?"width":"height"]:0),t.placement=bt(e),t.offsets.popper=dt(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!It(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=Et(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,o=t.offsets.popper,r=Et(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,l,u,f,d,c,h,p,m,g,_,v,b,y,E,w=void 0!==r?r:e.gpuAcceleration,T=et(t.instance.popper),C=ct(T),S={position:o.position},N=(l=t,u=window.devicePixelRatio<2||!kt,f=l.offsets,d=f.popper,c=f.reference,h=Math.round,p=Math.floor,m=function(t){return t},g=h(c.width),_=h(d.width),v=-1!==["left","right"].indexOf(l.placement),b=-1!==l.placement.indexOf("-"),E=u?h:m,{left:(y=u?v||b||g%2==_%2?h:p:m)(g%2==1&&_%2==1&&!b&&u?d.left-1:d.left),top:E(d.top),bottom:E(d.bottom),right:y(d.right)}),D="bottom"===n?"top":"bottom",A="right"===i?"left":"right",k=Ct("transform");if(s="bottom"===D?"HTML"===T.nodeName?-T.clientHeight+N.bottom:-C.height+N.bottom:N.top,a="right"===A?"HTML"===T.nodeName?-T.clientWidth+N.right:-C.width+N.right:N.left,w&&k)S[k]="translate3d("+a+"px, "+s+"px, 0)",S[D]=0,S[A]=0,S.willChange="transform";else{var I="bottom"===D?-1:1,O="right"===A?-1:1;S[D]=s*I,S[A]=a*O,S.willChange=D+", "+A}var x={"x-placement":t.placement};return t.attributes=ft({},x,t.attributes),t.styles=ft({},S,t.styles),t.arrowStyles=ft({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return At(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&At(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,o){var r=_t(o,e,t,n.positionFixed),a=gt(n.placement,r,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),At(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Pt=function(){function r(t,e){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=Y(this.update.bind(this)),this.options=ft({},r.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(ft({},r.Defaults.modifiers,i.modifiers)).forEach(function(t){n.options.modifiers[t]=ft({},r.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return ft({name:t},n.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&z(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return lt(r,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=_t(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=gt(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=yt(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=wt(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,Tt(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ct("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=Nt(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return function(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,St(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}.call(this)}}]),r}();Pt.Utils=("undefined"!=typeof window?window:global).PopperUtils,Pt.placements=Ot,Pt.Defaults=Lt;var Ft=Pt,Rt="dropdown",Ht="bs.dropdown",Mt=h.default.fn[Rt],qt=new RegExp("38|40|27"),Bt="disabled",Qt="show",Wt="dropdown-menu-right",Ut="hide.bs.dropdown",Vt="hidden.bs.dropdown",Yt="click.bs.dropdown.data-api",zt="keydown.bs.dropdown.data-api",Kt='[data-toggle="dropdown"]',Xt=".dropdown-menu",Gt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},$t={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Jt=function(){function u(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var t=u.prototype;return t.toggle=function(){if(!this._element.disabled&&!h.default(this._element).hasClass(Bt)){var t=h.default(this._menu).hasClass(Qt);u._clearMenus(),t||this.show(!0)}},t.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||h.default(this._element).hasClass(Bt)||h.default(this._menu).hasClass(Qt))){var e={relatedTarget:this._element},n=h.default.Event("show.bs.dropdown",e),i=u._getParentFromElement(this._element);if(h.default(i).trigger(n),!n.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===Ft)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var o=this._element;"parent"===this._config.reference?o=i:p.isElement(this._config.reference)&&(o=this._config.reference,void 0!==this._config.reference.jquery&&(o=this._config.reference[0])),"scrollParent"!==this._config.boundary&&h.default(i).addClass("position-static"),this._popper=new Ft(o,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===h.default(i).closest(".navbar-nav").length&&h.default(document.body).children().on("mouseover",null,h.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),h.default(this._menu).toggleClass(Qt),h.default(i).toggleClass(Qt).trigger(h.default.Event("shown.bs.dropdown",e))}}},t.hide=function(){if(!this._element.disabled&&!h.default(this._element).hasClass(Bt)&&h.default(this._menu).hasClass(Qt)){var t={relatedTarget:this._element},e=h.default.Event(Ut,t),n=u._getParentFromElement(this._element);h.default(n).trigger(e),e.isDefaultPrevented()||(this._popper&&this._popper.destroy(),h.default(this._menu).toggleClass(Qt),h.default(n).toggleClass(Qt).trigger(h.default.Event(Vt,t)))}},t.dispose=function(){h.default.removeData(this._element,Ht),h.default(this._element).off(".bs.dropdown"),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var e=this;h.default(this._element).on("click.bs.dropdown",function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},t._getConfig=function(t){return t=l({},this.constructor.Default,h.default(this._element).data(),t),p.typeCheckConfig(Rt,t,this.constructor.DefaultType),t},t._getMenuElement=function(){if(!this._menu){var t=u._getParentFromElement(this._element);t&&(this._menu=t.querySelector(Xt))}return this._menu},t._getPlacement=function(){var t=h.default(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?e=h.default(this._menu).hasClass(Wt)?"top-end":"top-start":t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":h.default(this._menu).hasClass(Wt)&&(e="bottom-end"),e},t._detectNavbar=function(){return 0<h.default(this._element).closest(".navbar").length},t._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e._config.offset(t.offsets,e._element)),t}:t.offset=this._config.offset,t},t._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),l({},t,this._config.popperConfig)},u._jQueryInterface=function(e){return this.each(function(){var t=h.default(this).data(Ht);if(t||(t=new u(this,"object"==typeof e?e:null),h.default(this).data(Ht,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},u._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=[].slice.call(document.querySelectorAll(Kt)),n=0,i=e.length;n<i;n++){var o=u._getParentFromElement(e[n]),r=h.default(e[n]).data(Ht),a={relatedTarget:e[n]};if(t&&"click"===t.type&&(a.clickEvent=t),r){var s=r._menu;if(h.default(o).hasClass(Qt)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&h.default.contains(o,t.target))){var l=h.default.Event(Ut,a);h.default(o).trigger(l),l.isDefaultPrevented()||("ontouchstart"in document.documentElement&&h.default(document.body).children().off("mouseover",null,h.default.noop),e[n].setAttribute("aria-expanded","false"),r._popper&&r._popper.destroy(),h.default(s).removeClass(Qt),h.default(o).removeClass(Qt).trigger(h.default.Event(Vt,a)))}}}},u._getParentFromElement=function(t){var e,n=p.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},u._dataApiKeydownHandler=function(t){if(!(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||h.default(t.target).closest(Xt).length):!qt.test(t.which))&&!this.disabled&&!h.default(this).hasClass(Bt)){var e=u._getParentFromElement(this),n=h.default(e).hasClass(Qt);if(n||27!==t.which){if(t.preventDefault(),t.stopPropagation(),!n||27===t.which||32===t.which)return 27===t.which&&h.default(e.querySelector(Kt)).trigger("focus"),void h.default(this).trigger("click");var i=[].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(t){return h.default(t).is(":visible")});if(0!==i.length){var o=i.indexOf(t.target);38===t.which&&0<o&&o--,40===t.which&&o<i.length-1&&o++,o<0&&(o=0),i[o].focus()}}}},a(u,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return Gt}},{key:"DefaultType",get:function(){return $t}}]),u}();h.default(document).on(zt,Kt,Jt._dataApiKeydownHandler).on(zt,Xt,Jt._dataApiKeydownHandler).on(Yt+" keyup.bs.dropdown.data-api",Jt._clearMenus).on(Yt,Kt,function(t){t.preventDefault(),t.stopPropagation(),Jt._jQueryInterface.call(h.default(this),"toggle")}).on(Yt,".dropdown form",function(t){t.stopPropagation()}),h.default.fn[Rt]=Jt._jQueryInterface,h.default.fn[Rt].Constructor=Jt,h.default.fn[Rt].noConflict=function(){return h.default.fn[Rt]=Mt,Jt._jQueryInterface};var Zt="bs.modal",te=h.default.fn.modal,ee="modal-open",ne="fade",ie="show",oe="modal-static",re="hidden.bs.modal",ae="show.bs.modal",se="focusin.bs.modal",le="resize.bs.modal",ue="click.dismiss.bs.modal",fe="keydown.dismiss.bs.modal",de="mousedown.dismiss.bs.modal",ce=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",he={backdrop:!0,keyboard:!0,focus:!0,show:!0},pe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},me=function(){function o(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var t=o.prototype;return t.toggle=function(t){return this._isShown?this.hide():this.show(t)},t.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){var n=h.default.Event(ae,{relatedTarget:t});h.default(this._element).trigger(n),n.isDefaultPrevented()||(this._isShown=!0,h.default(this._element).hasClass(ne)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),h.default(this._element).on(ue,'[data-dismiss="modal"]',function(t){return e.hide(t)}),h.default(this._dialog).on(de,function(){h.default(e._element).one("mouseup.dismiss.bs.modal",function(t){h.default(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},t.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=h.default.Event("hide.bs.modal");if(h.default(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var i=h.default(this._element).hasClass(ne);if(i&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),h.default(document).off(se),h.default(this._element).removeClass(ie),h.default(this._element).off(ue),h.default(this._dialog).off(de),i){var o=p.getTransitionDurationFromElement(this._element);h.default(this._element).one(p.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(o)}else this._hideModal()}}},t.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return h.default(t).off(".bs.modal")}),h.default(document).off(se),h.default.removeData(this._element,Zt),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},t.handleUpdate=function(){this._adjustDialog()},t._getConfig=function(t){return t=l({},he,t),p.typeCheckConfig("modal",t,pe),t},t._triggerBackdropTransition=function(){var t=this,e=h.default.Event("hidePrevented.bs.modal");if(h.default(this._element).trigger(e),!e.isDefaultPrevented()){var n=this._element.scrollHeight>document.documentElement.clientHeight;n||(this._element.style.overflowY="hidden"),this._element.classList.add(oe);var i=p.getTransitionDurationFromElement(this._dialog);h.default(this._element).off(p.TRANSITION_END),h.default(this._element).one(p.TRANSITION_END,function(){t._element.classList.remove(oe),n||h.default(t._element).one(p.TRANSITION_END,function(){t._element.style.overflowY=""}).emulateTransitionEnd(t._element,i)}).emulateTransitionEnd(i),this._element.focus()}},t._showElement=function(t){var e=this,n=h.default(this._element).hasClass(ne),i=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),h.default(this._dialog).hasClass("modal-dialog-scrollable")&&i?i.scrollTop=0:this._element.scrollTop=0,n&&p.reflow(this._element),h.default(this._element).addClass(ie),this._config.focus&&this._enforceFocus();var o=h.default.Event("shown.bs.modal",{relatedTarget:t}),r=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,h.default(e._element).trigger(o)};if(n){var a=p.getTransitionDurationFromElement(this._dialog);h.default(this._dialog).one(p.TRANSITION_END,r).emulateTransitionEnd(a)}else r()},t._enforceFocus=function(){var e=this;h.default(document).off(se).on(se,function(t){document!==t.target&&e._element!==t.target&&0===h.default(e._element).has(t.target).length&&e._element.focus()})},t._setEscapeEvent=function(){var e=this;this._isShown?h.default(this._element).on(fe,function(t){e._config.keyboard&&27===t.which?(t.preventDefault(),e.hide()):e._config.keyboard||27!==t.which||e._triggerBackdropTransition()}):this._isShown||h.default(this._element).off(fe)},t._setResizeEvent=function(){var e=this;this._isShown?h.default(window).on(le,function(t){return e.handleUpdate(t)}):h.default(window).off(le)},t._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){h.default(document.body).removeClass(ee),t._resetAdjustments(),t._resetScrollbar(),h.default(t._element).trigger(re)})},t._removeBackdrop=function(){this._backdrop&&(h.default(this._backdrop).remove(),this._backdrop=null)},t._showBackdrop=function(t){var e=this,n=h.default(this._element).hasClass(ne)?ne:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",n&&this._backdrop.classList.add(n),h.default(this._backdrop).appendTo(document.body),h.default(this._element).on(ue,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===e._config.backdrop?e._triggerBackdropTransition():e.hide())}),n&&p.reflow(this._backdrop),h.default(this._backdrop).addClass(ie),!t)return;if(!n)return void t();var i=p.getTransitionDurationFromElement(this._backdrop);h.default(this._backdrop).one(p.TRANSITION_END,t).emulateTransitionEnd(i)}else if(!this._isShown&&this._backdrop){h.default(this._backdrop).removeClass(ie);var o=function(){e._removeBackdrop(),t&&t()};if(h.default(this._element).hasClass(ne)){var r=p.getTransitionDurationFromElement(this._backdrop);h.default(this._backdrop).one(p.TRANSITION_END,o).emulateTransitionEnd(r)}else o()}else t&&t()},t._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},t._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},t._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},t._setScrollbar=function(){var o=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(ce)),e=[].slice.call(document.querySelectorAll(".sticky-top"));h.default(t).each(function(t,e){var n=e.style.paddingRight,i=h.default(e).css("padding-right");h.default(e).data("padding-right",n).css("padding-right",parseFloat(i)+o._scrollbarWidth+"px")}),h.default(e).each(function(t,e){var n=e.style.marginRight,i=h.default(e).css("margin-right");h.default(e).data("margin-right",n).css("margin-right",parseFloat(i)-o._scrollbarWidth+"px")});var n=document.body.style.paddingRight,i=h.default(document.body).css("padding-right");h.default(document.body).data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}h.default(document.body).addClass(ee)},t._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(ce));h.default(t).each(function(t,e){var n=h.default(e).data("padding-right");h.default(e).removeData("padding-right"),e.style.paddingRight=n||""});var e=[].slice.call(document.querySelectorAll(".sticky-top"));h.default(e).each(function(t,e){var n=h.default(e).data("margin-right");void 0!==n&&h.default(e).css("margin-right",n).removeData("margin-right")});var n=h.default(document.body).data("padding-right");h.default(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},t._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},o._jQueryInterface=function(n,i){return this.each(function(){var t=h.default(this).data(Zt),e=l({},he,h.default(this).data(),"object"==typeof n&&n?n:{});if(t||(t=new o(this,e),h.default(this).data(Zt,t)),"string"==typeof n){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n](i)}else e.show&&t.show(i)})},a(o,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return he}}]),o}();h.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e,n=this,i=p.getSelectorFromElement(this);i&&(e=document.querySelector(i));var o=h.default(e).data(Zt)?"toggle":l({},h.default(e).data(),h.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var r=h.default(e).one(ae,function(t){t.isDefaultPrevented()||r.one(re,function(){h.default(n).is(":visible")&&n.focus()})});me._jQueryInterface.call(h.default(e),o,this)}),h.default.fn.modal=me._jQueryInterface,h.default.fn.modal.Constructor=me,h.default.fn.modal.noConflict=function(){return h.default.fn.modal=te,me._jQueryInterface};var ge=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],_e=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,ve=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function be(t,a,e){if(0===t.length)return t;if(e&&"function"==typeof e)return e(t);for(var n=(new window.DOMParser).parseFromString(t,"text/html"),s=Object.keys(a),l=[].slice.call(n.body.querySelectorAll("*")),i=function(t,e){var n=l[t],i=n.nodeName.toLowerCase();if(-1===s.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var o=[].slice.call(n.attributes),r=[].concat(a["*"]||[],a[i]||[]);o.forEach(function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===ge.indexOf(n)||Boolean(_e.test(t.nodeValue)||ve.test(t.nodeValue));for(var i=e.filter(function(t){return t instanceof RegExp}),o=0,r=i.length;o<r;o++)if(i[o].test(n))return!0;return!1})(t,r)||n.removeAttribute(t.nodeName)})},o=0,r=l.length;o<r;o++)i(o);return n.body.innerHTML}var ye="tooltip",Ee="bs.tooltip",we=h.default.fn.tooltip,Te=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Ce=["sanitize","whiteList","sanitizeFn"],Se="fade",Ne="show",De="show",Ae="hover",ke={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Ie={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},Oe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},xe={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},je=function(){function o(t,e){if(void 0===Ft)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var t=o.prototype;return t.enable=function(){this._isEnabled=!0},t.disable=function(){this._isEnabled=!1},t.toggleEnabled=function(){this._isEnabled=!this._isEnabled},t.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,n=h.default(t.currentTarget).data(e);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),h.default(t.currentTarget).data(e,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(h.default(this.getTipElement()).hasClass(Ne))return void this._leave(null,this);this._enter(null,this)}},t.dispose=function(){clearTimeout(this._timeout),h.default.removeData(this.element,this.constructor.DATA_KEY),h.default(this.element).off(this.constructor.EVENT_KEY),h.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&h.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},t.show=function(){var e=this;if("none"===h.default(this.element).css("display"))throw new Error("Please use show on visible elements");var t=h.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){h.default(this.element).trigger(t);var n=p.findShadowRoot(this.element),i=h.default.contains(null!==n?n:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!i)return;var o=this.getTipElement(),r=p.getUID(this.constructor.NAME);o.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&h.default(o).addClass(Se);var a="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,s=this._getAttachment(a);this.addAttachmentClass(s);var l=this._getContainer();h.default(o).data(this.constructor.DATA_KEY,this),h.default.contains(this.element.ownerDocument.documentElement,this.tip)||h.default(o).appendTo(l),h.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Ft(this.element,o,this._getPopperConfig(s)),h.default(o).addClass(Ne),h.default(o).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&h.default(document.body).children().on("mouseover",null,h.default.noop);var u=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,h.default(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)};if(h.default(this.tip).hasClass(Se)){var f=p.getTransitionDurationFromElement(this.tip);h.default(this.tip).one(p.TRANSITION_END,u).emulateTransitionEnd(f)}else u()}},t.hide=function(t){var e=this,n=this.getTipElement(),i=h.default.Event(this.constructor.Event.HIDE),o=function(){e._hoverState!==De&&n.parentNode&&n.parentNode.removeChild(n),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),h.default(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(h.default(this.element).trigger(i),!i.isDefaultPrevented()){if(h.default(n).removeClass(Ne),"ontouchstart"in document.documentElement&&h.default(document.body).children().off("mouseover",null,h.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,h.default(this.tip).hasClass(Se)){var r=p.getTransitionDurationFromElement(n);h.default(n).one(p.TRANSITION_END,o).emulateTransitionEnd(r)}else o();this._hoverState=""}},t.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},t.isWithContent=function(){return Boolean(this.getTitle())},t.addAttachmentClass=function(t){h.default(this.getTipElement()).addClass("bs-tooltip-"+t)},t.getTipElement=function(){return this.tip=this.tip||h.default(this.config.template)[0],this.tip},t.setContent=function(){var t=this.getTipElement();this.setElementContent(h.default(t.querySelectorAll(".tooltip-inner")),this.getTitle()),h.default(t).removeClass("fade show")},t.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=be(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?h.default(e).parent().is(t)||t.empty().append(e):t.text(h.default(e).text())},t.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},t._getPopperConfig=function(t){var e=this;return l({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},this.config.popperConfig)},t._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=l({},t.offsets,e.config.offset(t.offsets,e.element)),t}:t.offset=this.config.offset,t},t._getContainer=function(){return!1===this.config.container?document.body:p.isElement(this.config.container)?h.default(this.config.container):h.default(document).find(this.config.container)},t._getAttachment=function(t){return ke[t.toUpperCase()]},t._setListeners=function(){var i=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)h.default(i.element).on(i.constructor.Event.CLICK,i.config.selector,function(t){return i.toggle(t)});else if("manual"!==t){var e=t===Ae?i.constructor.Event.MOUSEENTER:i.constructor.Event.FOCUSIN,n=t===Ae?i.constructor.Event.MOUSELEAVE:i.constructor.Event.FOCUSOUT;h.default(i.element).on(e,i.config.selector,function(t){return i._enter(t)}).on(n,i.config.selector,function(t){return i._leave(t)})}}),this._hideModalHandler=function(){i.element&&i.hide()},h.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=l({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},t._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},t._enter=function(t,e){var n=this.constructor.DATA_KEY;(e=e||h.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),h.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusin"===t.type?"focus":Ae]=!0),h.default(e.getTipElement()).hasClass(Ne)||e._hoverState===De?e._hoverState=De:(clearTimeout(e._timeout),e._hoverState=De,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===De&&e.show()},e.config.delay.show):e.show())},t._leave=function(t,e){var n=this.constructor.DATA_KEY;(e=e||h.default(t.currentTarget).data(n))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),h.default(t.currentTarget).data(n,e)),t&&(e._activeTrigger["focusout"===t.type?"focus":Ae]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){"out"===e._hoverState&&e.hide()},e.config.delay.hide):e.hide())},t._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},t._getConfig=function(t){var e=h.default(this.element).data();return Object.keys(e).forEach(function(t){-1!==Ce.indexOf(t)&&delete e[t]}),"number"==typeof(t=l({},this.constructor.Default,e,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),p.typeCheckConfig(ye,t,this.constructor.DefaultType),t.sanitize&&(t.template=be(t.template,t.whiteList,t.sanitizeFn)),t},t._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},t._cleanTipClass=function(){var t=h.default(this.getTipElement()),e=t.attr("class").match(Te);null!==e&&e.length&&t.removeClass(e.join(""))},t._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},t._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(h.default(t).removeClass(Se),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},o._jQueryInterface=function(i){return this.each(function(){var t=h.default(this),e=t.data(Ee),n="object"==typeof i&&i;if((e||!/dispose|hide/.test(i))&&(e||(e=new o(this,n),t.data(Ee,e)),"string"==typeof i)){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},a(o,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return Ie}},{key:"NAME",get:function(){return ye}},{key:"DATA_KEY",get:function(){return Ee}},{key:"Event",get:function(){return xe}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Oe}}]),o}();h.default.fn.tooltip=je._jQueryInterface,h.default.fn.tooltip.Constructor=je,h.default.fn.tooltip.noConflict=function(){return h.default.fn.tooltip=we,je._jQueryInterface};var Le="bs.popover",Pe=h.default.fn.popover,Fe=new RegExp("(^|\\s)bs-popover\\S+","g"),Re=l({},je.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),He=l({},je.DefaultType,{content:"(string|element|function)"}),Me={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},qe=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),r(e.prototype.constructor=e,n);var o=i.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.addAttachmentClass=function(t){h.default(this.getTipElement()).addClass("bs-popover-"+t)},o.getTipElement=function(){return this.tip=this.tip||h.default(this.config.template)[0],this.tip},o.setContent=function(){var t=h.default(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},o._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},o._cleanTipClass=function(){var t=h.default(this.getTipElement()),e=t.attr("class").match(Fe);null!==e&&0<e.length&&t.removeClass(e.join(""))},i._jQueryInterface=function(n){return this.each(function(){var t=h.default(this).data(Le),e="object"==typeof n?n:null;if((t||!/dispose|hide/.test(n))&&(t||(t=new i(this,e),h.default(this).data(Le,t)),"string"==typeof n)){if(void 0===t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},a(i,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return Re}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return Le}},{key:"Event",get:function(){return Me}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return He}}]),i}(je);h.default.fn.popover=qe._jQueryInterface,h.default.fn.popover.Constructor=qe,h.default.fn.popover.noConflict=function(){return h.default.fn.popover=Pe,qe._jQueryInterface};var Be="scrollspy",Qe="bs.scrollspy",We=h.default.fn[Be],Ue="active",Ve="position",Ye=".nav, .list-group",ze={offset:10,method:"auto",target:""},Ke={offset:"number",method:"string",target:"(string|element)"},Xe=function(){function n(t,e){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,h.default(this._scrollElement).on("scroll.bs.scrollspy",function(t){return n._process(t)}),this.refresh(),this._process()}var t=n.prototype;return t.refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":Ve,o="auto"===this._config.method?t:this._config.method,r=o===Ve?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,n=p.getSelectorFromElement(t);if(n&&(e=document.querySelector(n)),e){var i=e.getBoundingClientRect();if(i.width||i.height)return[h.default(e)[o]().top+r,n]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},t.dispose=function(){h.default.removeData(this._element,Qe),h.default(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},t._getConfig=function(t){if("string"!=typeof(t=l({},ze,"object"==typeof t&&t?t:{})).target&&p.isElement(t.target)){var e=h.default(t.target).attr("id");e||(e=p.getUID(Be),h.default(t.target).attr("id",e)),t.target="#"+e}return p.typeCheckConfig(Be,t,Ke),t},t._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},t._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},t._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},t._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),n<=t){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;)this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}},t._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),n=h.default([].slice.call(document.querySelectorAll(t.join(","))));n.hasClass("dropdown-item")?(n.closest(".dropdown").find(".dropdown-toggle").addClass(Ue),n.addClass(Ue)):(n.addClass(Ue),n.parents(Ye).prev(".nav-link, .list-group-item").addClass(Ue),n.parents(Ye).prev(".nav-item").children(".nav-link").addClass(Ue)),h.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:e})},t._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(Ue)}).forEach(function(t){return t.classList.remove(Ue)})},n._jQueryInterface=function(e){return this.each(function(){var t=h.default(this).data(Qe);if(t||(t=new n(this,"object"==typeof e&&e),h.default(this).data(Qe,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},a(n,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return ze}}]),n}();h.default(window).on("load.bs.scrollspy.data-api",function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),e=t.length;e--;){var n=h.default(t[e]);Xe._jQueryInterface.call(n,n.data())}}),h.default.fn[Be]=Xe._jQueryInterface,h.default.fn[Be].Constructor=Xe,h.default.fn[Be].noConflict=function(){return h.default.fn[Be]=We,Xe._jQueryInterface};var Ge="bs.tab",$e=h.default.fn.tab,Je="active",Ze=".active",tn="> li > .active",en=function(){function i(t){this._element=t}var t=i.prototype;return t.show=function(){var n=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&h.default(this._element).hasClass(Je)||h.default(this._element).hasClass("disabled"))){var t,i,e=h.default(this._element).closest(".nav, .list-group")[0],o=p.getSelectorFromElement(this._element);if(e){var r="UL"===e.nodeName||"OL"===e.nodeName?tn:Ze;i=(i=h.default.makeArray(h.default(e).find(r)))[i.length-1]}var a=h.default.Event("hide.bs.tab",{relatedTarget:this._element}),s=h.default.Event("show.bs.tab",{relatedTarget:i});if(i&&h.default(i).trigger(a),h.default(this._element).trigger(s),!s.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(t=document.querySelector(o)),this._activate(this._element,e);var l=function(){var t=h.default.Event("hidden.bs.tab",{relatedTarget:n._element}),e=h.default.Event("shown.bs.tab",{relatedTarget:i});h.default(i).trigger(t),h.default(n._element).trigger(e)};t?this._activate(t,t.parentNode,l):l()}}},t.dispose=function(){h.default.removeData(this._element,Ge),this._element=null},t._activate=function(t,e,n){var i=this,o=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?h.default(e).children(Ze):h.default(e).find(tn))[0],r=n&&o&&h.default(o).hasClass("fade"),a=function(){return i._transitionComplete(t,o,n)};if(o&&r){var s=p.getTransitionDurationFromElement(o);h.default(o).removeClass("show").one(p.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},t._transitionComplete=function(t,e,n){if(e){h.default(e).removeClass(Je);var i=h.default(e.parentNode).find("> .dropdown-menu .active")[0];i&&h.default(i).removeClass(Je),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}h.default(t).addClass(Je),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),p.reflow(t),t.classList.contains("fade")&&t.classList.add("show");var o=t.parentNode;if(o&&"LI"===o.nodeName&&(o=o.parentNode),o&&h.default(o).hasClass("dropdown-menu")){var r=h.default(t).closest(".dropdown")[0];if(r){var a=[].slice.call(r.querySelectorAll(".dropdown-toggle"));h.default(a).addClass(Je)}t.setAttribute("aria-expanded",!0)}n&&n()},i._jQueryInterface=function(n){return this.each(function(){var t=h.default(this),e=t.data(Ge);if(e||(e=new i(this),t.data(Ge,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},a(i,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),i}();h.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),en._jQueryInterface.call(h.default(this),"show")}),h.default.fn.tab=en._jQueryInterface,h.default.fn.tab.Constructor=en,h.default.fn.tab.noConflict=function(){return h.default.fn.tab=$e,en._jQueryInterface};var nn="bs.toast",on=h.default.fn.toast,rn="show",an="showing",sn="click.dismiss.bs.toast",ln={animation:!0,autohide:!0,delay:500},un={animation:"boolean",autohide:"boolean",delay:"number"},fn=function(){function i(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var t=i.prototype;return t.show=function(){var t=this,e=h.default.Event("show.bs.toast");if(h.default(this._element).trigger(e),!e.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");var n=function(){t._element.classList.remove(an),t._element.classList.add(rn),h.default(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout(function(){t.hide()},t._config.delay))};if(this._element.classList.remove("hide"),p.reflow(this._element),this._element.classList.add(an),this._config.animation){var i=p.getTransitionDurationFromElement(this._element);h.default(this._element).one(p.TRANSITION_END,n).emulateTransitionEnd(i)}else n()}},t.hide=function(){if(this._element.classList.contains(rn)){var t=h.default.Event("hide.bs.toast");h.default(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},t.dispose=function(){this._clearTimeout(),this._element.classList.contains(rn)&&this._element.classList.remove(rn),h.default(this._element).off(sn),h.default.removeData(this._element,nn),this._element=null,this._config=null},t._getConfig=function(t){return t=l({},ln,h.default(this._element).data(),"object"==typeof t&&t?t:{}),p.typeCheckConfig("toast",t,this.constructor.DefaultType),t},t._setListeners=function(){var t=this;h.default(this._element).on(sn,'[data-dismiss="toast"]',function(){return t.hide()})},t._close=function(){var t=this,e=function(){t._element.classList.add("hide"),h.default(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove(rn),this._config.animation){var n=p.getTransitionDurationFromElement(this._element);h.default(this._element).one(p.TRANSITION_END,e).emulateTransitionEnd(n)}else e()},t._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},i._jQueryInterface=function(n){return this.each(function(){var t=h.default(this),e=t.data(nn);if(e||(e=new i(this,"object"==typeof n&&n),t.data(nn,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n](this)}})},a(i,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"DefaultType",get:function(){return un}},{key:"Default",get:function(){return ln}}]),i}();h.default.fn.toast=fn._jQueryInterface,h.default.fn.toast.Constructor=fn,h.default.fn.toast.noConflict=function(){return h.default.fn.toast=on,fn._jQueryInterface},t.Alert=f,t.Button=b,t.Carousel=O,t.Collapse=W,t.Dropdown=Jt,t.Modal=me,t.Popover=qe,t.Scrollspy=Xe,t.Tab=en,t.Toast=fn,t.Tooltip=je,t.Util=p,Object.defineProperty(t,"__esModule",{value:!0})});
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.inView=e():t.inView=e()}(this,function(){return function(n){function r(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(t,e,n){"use strict";var r,i=n(2),o=(r=i)&&r.__esModule?r:{default:r};t.exports=o.default},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9)),o=r(n(3)),u=n(4);e.default=function(){if("undefined"!=typeof window){var n={history:[]},r={offset:{},threshold:0,test:u.inViewport},e=(0,i.default)(function(){n.history.forEach(function(t){n[t].check()})},100);["scroll","resize","load"].forEach(function(t){return addEventListener(t,e)}),window.MutationObserver&&addEventListener("DOMContentLoaded",function(){new MutationObserver(e).observe(document.body,{attributes:!0,childList:!0,subtree:!0})});var t=function(t){if("string"==typeof t){var e=[].slice.call(document.querySelectorAll(t));return-1<n.history.indexOf(t)?n[t].elements=e:(n[t]=(0,o.default)(e,r),n.history.push(t)),n[t]}};return t.offset=function(e){if(void 0===e)return r.offset;var n=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(n(e)?function(t){return r.offset[t]=e}:function(t){return n(e[t])?r.offset[t]=e[t]:null}),r.offset},t.threshold=function(t){return"number"==typeof t&&0<=t&&t<=1?r.threshold=t:r.threshold},t.test=function(t){return"function"==typeof t?r.test=t:r.test},t.is=function(t){return r.test(t,r)},t.offset(0),t}}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),n=function(){function n(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.options=e,this.elements=t,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return r(n,[{key:"check",value:function(){var o=this;return this.elements.forEach(function(t){var e=o.options.test(t,o.options),n=o.current.indexOf(t),r=-1<n,i=!e&&r;e&&!r&&(o.current.push(t),o.emit("enter",t)),i&&(o.current.splice(n,1),o.emit("exit",t))}),this}},{key:"on",value:function(t,e){return this.handlers[t].push(e),this}},{key:"once",value:function(t,e){return this.singles[t].unshift(e),this}},{key:"emit",value:function(t,e){for(;this.singles[t].length;)this.singles[t].pop()(e);for(var n=this.handlers[t].length;-1<--n;)this.handlers[t][n](e);return this}}]),n}();e.default=function(t,e){return new n(t,e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inViewport=function(t,e){var n=t.getBoundingClientRect(),r=n.top,i=n.right,o=n.bottom,u=n.left,f=n.width,s=n.height,c=o,a=window.innerWidth-u,l=window.innerHeight-r,d=i,h=e.threshold*f,p=e.threshold*s;return c>e.offset.top+p&&a>e.offset.right+h&&l>e.offset.bottom+p&&d>e.offset.left+h}},function(n,t){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;n.exports=e}).call(t,function(){return this}())},function(t,e,n){var r=n(5),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){var m=n(1),x=n(8),g=n(10),w=Math.max,j=Math.min;t.exports=function(r,i,t){function o(t){var e=c,n=a;return c=a=void 0,v=t,d=r.apply(n,e)}function u(t){var e=t-p;return void 0===p||i<=e||e<0||b&&l<=t-v}function f(){var t,e,n=x();return u(n)?s(n):void(h=setTimeout(f,(e=i-((t=n)-p),b?j(e,l-(t-v)):e)))}function s(t){return h=void 0,n&&c?o(t):(c=a=void 0,d)}function e(){var t,e=x(),n=u(e);if(c=arguments,a=this,p=e,n){if(void 0===h)return v=t=p,h=setTimeout(f,i),y?o(t):d;if(b)return h=setTimeout(f,i),o(p)}return void 0===h&&(h=setTimeout(f,i)),d}var c,a,l,d,h,p,v=0,y=!1,b=!1,n=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return i=g(i)||0,m(t)&&(y=!!t.leading,l=(b="maxWait"in t)?w(g(t.maxWait)||0,i):l,n="trailing"in t?!!t.trailing:n),e.cancel=function(){void 0!==h&&clearTimeout(h),c=p=a=h=void(v=0)},e.flush=function(){return void 0===h?d:s(x())},e}},function(t,e,n){var r=n(6);t.exports=function(){return r.Date.now()}},function(t,e,n){var o=n(7),u=n(1);t.exports=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return u(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),o(t,e,{leading:r,maxWait:e,trailing:i})}},function(t,e){t.exports=function(t){return t}}])});
!function(r,a,n,l){function p(t,i){var e=this;"object"==typeof i&&(delete i.refresh,delete i.render,r.extend(this,i)),this.$element=r(t),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var s=(this.position+"").toLowerCase().match(/\S+/g)||[];if(s.length<1&&s.push("center"),1==s.length&&s.push(s[0]),"top"!=s[0]&&"bottom"!=s[0]&&"left"!=s[1]&&"right"!=s[1]||(s=[s[1],s[0]]),this.positionX!==l&&(s[0]=this.positionX.toLowerCase()),this.positionY!==l&&(s[1]=this.positionY.toLowerCase()),e.positionX=s[0],e.positionY=s[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=r("<div />").prependTo(this.mirrorContainer);var o=this.$element.find(">.parallax-slider"),h=!1;0==o.length?this.$slider=r("<img />").prependTo(this.$mirror):(this.$slider=o.prependTo(this.$mirror),h=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){e.naturalHeight&&e.naturalWidth||(e.naturalHeight=this.naturalHeight||this.height||1,e.naturalWidth=this.naturalWidth||this.width||1),e.aspectRatio=e.naturalWidth/e.naturalHeight,p.isSetup||p.setup(),p.sliders.push(e),p.isFresh=!1,p.requestRender()}),h||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||0<o.length)&&this.$slider.trigger("load")}!function(){for(var o=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!a.requestAnimationFrame;++i)a.requestAnimationFrame=a[t[i]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[t[i]+"CancelAnimationFrame"]||a[t[i]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(t){var i=(new Date).getTime(),e=Math.max(0,16-(i-o)),s=a.setTimeout(function(){t(i+e)},e);return o=i+e,s}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(t){clearTimeout(t)})}(),r.extend(p.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,mirrorContainer:"body",refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var t,i=p.winHeight,e=p.docHeight,s=Math.min(this.boxOffsetTop,e-i),o=Math.max(this.boxOffsetTop+this.boxHeight-i,0),h=this.boxHeight+(s-o)*(1-this.speed)|0,r=(this.boxOffsetTop-s)*(1-this.speed)|0;h*this.aspectRatio>=this.boxWidth?(this.imageWidth=h*this.aspectRatio|0,this.imageHeight=h,this.offsetBaseTop=r,t=this.imageWidth-this.boxWidth,"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-t:isNaN(this.positionX)?this.offsetLeft=-t/2|0:this.offsetLeft=Math.max(this.positionX,-t)):(this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0,t=this.imageHeight-h,"top"==this.positionY?this.offsetBaseTop=r:"bottom"==this.positionY?this.offsetBaseTop=r-t:isNaN(this.positionY)?this.offsetBaseTop=r-t/2|0:this.offsetBaseTop=r+Math.max(this.positionY,-t))},render:function(){var t=p.scrollTop,i=p.scrollLeft,e=this.overScrollFix?p.overScroll:0,s=t+p.winHeight;this.boxOffsetBottom>t&&this.boxOffsetTop<=s?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-t,this.mirrorLeft=this.boxOffsetLeft-i,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d("+this.mirrorLeft+"px, "+(this.mirrorTop-e)+"px, 0px)",visibility:this.visibility,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d("+this.offsetLeft+"px, "+this.offsetTop+"px, 0px)",position:"absolute",height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),r.extend(p,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var i=this,t=r(n),s=r(a),e=function(){p.winHeight=s.height(),p.winWidth=s.width(),p.docHeight=t.height(),p.docWidth=t.width()},o=function(){var t=s.scrollTop(),i=p.docHeight-p.winHeight,e=p.docWidth-p.winWidth;p.scrollTop=Math.max(0,Math.min(i,t)),p.scrollLeft=Math.max(0,Math.min(e,s.scrollLeft())),p.overScroll=Math.max(t-i,Math.min(t,0))};s.on("resize.px.parallax load.px.parallax",function(){e(),i.refresh(),p.isFresh=!1,p.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){o(),p.requestRender()}),e(),o(),this.isReady=!0;var h=-1;!function t(){if(h==a.pageYOffset)return a.requestAnimationFrame(t),!1;h=a.pageYOffset,i.render(),a.requestAnimationFrame(t)}()}},configure:function(t){"object"==typeof t&&(delete t.refresh,delete t.render,r.extend(this.prototype,t))},refresh:function(){r.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),r.each(this.sliders,function(){this.render()})},requestRender:function(){this.render(),this.isBusy=!1},destroy:function(t){var i,e=r(t).data("px.parallax");for(e.$mirror.remove(),i=0;i<this.sliders.length;i+=1)this.sliders[i]==e&&this.sliders.splice(i,1);r(t).data("px.parallax",!1),0===this.sliders.length&&(r(a).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,p.isSetup=!1)}});var t=r.fn.parallax;r.fn.parallax=function(e){return this.each(function(){var t=r(this),i="object"==typeof e&&e;this==a||this==n||t.is("body")?p.configure(i):t.data("px.parallax")?"object"==typeof e&&r.extend(t.data("px.parallax"),i):(i=r.extend({},t.data(),i),t.data("px.parallax",new p(this,i))),"string"==typeof e&&("destroy"==e?p.destroy(this):p[e]())})},r.fn.parallax.Constructor=p,r.fn.parallax.noConflict=function(){return r.fn.parallax=t,this},r(function(){r('[data-parallax="scroll"]').parallax()})}(jQuery,window,document);
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).window=t.window||{})}(this,function(t){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t){return"string"==typeof t}function c(t){return"function"==typeof t}function A(t){return"number"==typeof t}function n(t){return void 0===t}function C(t){return"object"==typeof t}function F(t){return!1!==t}function e(){return"undefined"!=typeof window}function D(t){return c(t)||U(t)}function i(t){return(yt=ce(t,ne))&&pr}function X(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function P(t,e){return!e&&console.warn(t)}function a(t,e){return t&&(ne[t]=e)&&yt&&(yt[t]=e)||ne}function S(){return 0}function B(t){var e,r,i=t[0];if(C(i)||c(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(r=fe.length;r--&&!fe[r].targetTest(i););e=fe[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new Ie(t[r],e)))||t.splice(r,1);return t}function I(t){return t._gsap||B(Te(t))[0]._gsap}function s(t,e,r){return(r=t[e])&&c(r)?t[e]():n(r)&&t.getAttribute&&t.getAttribute(e)||r}function _(t,e){return(t=t.split(",")).forEach(e)||t}function Y(t){return Math.round(1e5*t)/1e5||0}function z(t){return Math.round(1e7*t)/1e7||0}function o(t,e){for(var r=e.length,i=0;t.indexOf(e[i])<0&&++i<r;);return i<r}function L(){var t,e,r=ae.length,i=ae.slice(0);for(oe={},t=ae.length=0;t<r;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function u(t,e,r,i){ae.length&&L(),t.render(e,r,i),ae.length&&L()}function h(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(re).length<2?e:U(t)?t.trim():t}function l(t){return t}function N(t,e){for(var r in e)r in t||(t[r]=e[r]);return t}function f(t,e){for(var r in e)r in t||"duration"===r||"ease"===r||(t[r]=e[r])}function p(t,e){for(var r in e)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=C(e[r])?p(t[r]||(t[r]={}),e[r]):e[r]);return t}function q(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i}function R(t){var e=t.parent||dt,r=t.keyframes?f:N;if(F(t.inherit))for(;e;)r(t,e.vars.defaults),e=e.parent||e._dp;return t}function d(t,e,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var n=e._prev,s=e._next;n?n._next=s:t[r]===e&&(t[r]=s),s?s._prev=n:t[i]===e&&(t[i]=n),e._next=e._prev=e.parent=null}function V(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function m(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t}function g(t){return t._repeat?_e(t._tTime,t=t.duration()+t._rDelay)*t:0}function v(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function b(t){return t._end=z(t._start+(t._tDur/Math.abs(t._ts||t._rts||Nt)||0))}function y(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=z(r._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),b(t),r._dirty||m(r,t)),t}function T(t,e){var r;if((e._time||e._initted&&!e._dur)&&(r=v(t.rawTime(),e),(!e._dur||ve(0,e.totalDuration(),r)-e._tTime>Nt)&&e.render(r,!0)),m(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)0<=r.rawTime()&&r.totalTime(r._tTime),r=r._dp;t._zTime=-Nt}}function E(t,e,r,i){return e.parent&&V(e),e._start=z((A(r)?r:r||t!==dt?ge(t,r,e):t._time)+e._delay),e._end=z(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,r,i,n){void 0===r&&(r="_first"),void 0===i&&(i="_last");var s,a=t[i];if(n)for(s=e[n];a&&a[n]>s;)a=a._prev;a?(e._next=a._next,a._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[i]=e,e._prev=a,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),de(e)||(t._recent=e),i||T(t,e),t}function j(t,e){return(ne.ScrollTrigger||X("scrollTrigger",e))&&ne.ScrollTrigger.create(e,t)}function x(t,e,r,i){return function t(e,r){var i,n,s,a,o,u,h,l,f,p,c,_,d,m=e.vars,g=m.ease,v=m.startAt,y=m.immediateRender,T=m.lazy,x=m.onUpdate,w=m.onUpdateParams,b=m.callbackScope,M=m.runBackwards,O=m.yoyoEase,k=m.keyframes,A=m.autoRevert,C=e._dur,D=e._startAt,P=e._targets,S=e.parent,z=S&&"nested"===S.data?S.parent._targets:P,R="auto"===e._overwrite&&!_t,E=e.timeline;if(!E||k&&g||(g="none"),e._ease=Re(g,Ut.ease),e._yEase=O?ze(Re(!0===O?g:O,Ut.ease)):0,O&&e._yoyo&&!e._repeat&&(O=e._yEase,e._yEase=e._ease,e._ease=O),e._from=!E&&!!m.runBackwards,!E){if(_=(l=P[0]?I(P[0]).harness:0)&&m[l.prop],i=q(m,se),D&&D.render(-1,!0).kill(),v)if(V(e._startAt=Ge.set(P,N({data:"isStart",overwrite:!1,parent:S,immediateRender:!0,lazy:F(T),startAt:null,delay:0,onUpdate:x,onUpdateParams:w,callbackScope:b,stagger:0},v))),r<0&&!y&&!A&&e._startAt.render(-1,!0),y){if(0<r&&!A&&(e._startAt=0),C&&r<=0)return void(r&&(e._zTime=r))}else!1===A&&(e._startAt=0);else if(M&&C)if(D)A||(e._startAt=0);else if(r&&(y=!1),s=N({overwrite:!1,data:"isFromStart",lazy:y&&F(T),immediateRender:y,stagger:0,parent:S},i),_&&(s[l.prop]=_),V(e._startAt=Ge.set(P,s)),r<0&&e._startAt.render(-1,!0),y){if(!r)return}else t(e._startAt,Nt);for(e._pt=0,T=C&&F(T)||T&&!C,n=0;n<P.length;n++){if(h=(o=P[n])._gsap||B(P)[n]._gsap,e._ptLookup[n]=p={},oe[h.id]&&ae.length&&L(),c=z===P?n:z.indexOf(o),l&&!1!==(f=new l).init(o,_||i,e,c,z)&&(e._pt=a=new or(e._pt,o,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(t){p[t]=a}),f.priority&&(u=1)),!l||_)for(s in i)ue[s]&&(f=Xe(s,i,e,c,o,z))?f.priority&&(u=1):p[s]=a=qe.call(e,o,s,"get",i[s],c,z,0,m.stringFilter);e._op&&e._op[n]&&e.kill(o,e._op[n]),R&&e._pt&&(Ne=e,dt.killTweensOf(o,p,e.globalTime(r)),d=!e.parent,Ne=0),e._pt&&T&&(oe[h.id]=1)}u&&ar(e),e._onInit&&e._onInit(e)}e._onUpdate=x,e._initted=(!e._op||e._pt)&&!d}(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&xt!==Ae.frame?(ae.push(t),t._lazy=[e,i],1):void 0:1}function w(t,e,r,i){var n=t._repeat,s=z(e)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=s/t._dur),t._dur=s,t._tDur=n?n<0?1e10:z(s*(n+1)+t._rDelay*n):s,a&&!i?y(t,t._tTime=t._tDur*a):t.parent&&b(t),r||m(t.parent,t),t}function M(t){return t instanceof Ue?m(t):w(t,t._dur)}function Q(t,e,r){var i,n,s=A(e[1]),a=(s?2:1)+(t<2?0:1),o=e[a];if(s&&(o.duration=e[1]),o.parent=r,t){for(i=o,n=r;n&&!("immediateRender"in i);)i=n.vars.defaults||{},n=F(n.vars.inherit)&&n.parent;o.immediateRender=F(i.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return new Ge(e[0],o,e[1+a])}function O(t,e){return t||0===t?e(t):e}function G(t){if("string"!=typeof t)return"";var e=ie.exec(t);return e?t.substr(e.index+e[0].length):""}function W(t,e){return t&&C(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&C(t[0]))&&!t.nodeType&&t!==mt}function H(t){return t.sort(function(){return.5-Math.random()})}function Z(t){if(c(t))return t;var _=C(t)?t:{each:t},d=Re(_.ease),m=_.from||0,g=parseFloat(_.base)||0,v={},e=0<m&&m<1,y=isNaN(m)||e,T=_.axis,x=m,w=m;return U(m)?x=w={center:.5,edges:.5,end:1}[m]||0:!e&&y&&(x=m[0],w=m[1]),function(t,e,r){var i,n,s,a,o,u,h,l,f,p=(r||_).length,c=v[p];if(!c){if(!(f="auto"===_.grid?0:(_.grid||[1,Xt])[1])){for(h=-Xt;h<(h=r[f++].getBoundingClientRect().left)&&f<p;);f--}for(c=v[p]=[],i=y?Math.min(f,p)*x-.5:m%f,n=y?p*w/f-.5:m/f|0,l=Xt,u=h=0;u<p;u++)s=u%f-i,a=n-(u/f|0),c[u]=o=T?Math.abs("y"===T?a:s):Qt(s*s+a*a),h<o&&(h=o),o<l&&(l=o);"random"===m&&H(c),c.max=h-l,c.min=l,c.v=p=(parseFloat(_.amount)||parseFloat(_.each)*(p<f?p-1:T?"y"===T?p/f:f:Math.max(f,p/f))||0)*("edges"===m?-1:1),c.b=p<0?g-p:g,c.u=G(_.amount||_.each)||0,d=d&&p<0?ze(d):d}return p=(c[t]-c.min)/c.max||0,z(c.b+(d?d(p):p)*c.v)+c.u}}function $(r){var i=Math.pow(10,((r+"").split(".")[1]||"").length);return function(t){var e=Math.round(parseFloat(t)/r)*r*i;return(e-e%1)/i+(A(t)?0:G(t))}}function J(u,t){var h,l,e=Zt(u);return!e&&C(u)&&(h=e=u.radius||Xt,u.values?(u=Te(u.values),(l=!A(u[0]))&&(h*=h)):u=$(u.increment)),O(t,e?c(u)?function(t){return l=u(t),Math.abs(l-t)<=h?l:t}:function(t){for(var e,r,i=parseFloat(l?t.x:t),n=parseFloat(l?t.y:0),s=Xt,a=0,o=u.length;o--;)(e=l?(e=u[o].x-i)*e+(r=u[o].y-n)*r:Math.abs(u[o]-i))<s&&(s=e,a=o);return a=!h||s<=h?u[a]:t,l||a===t||A(t)?a:a+G(t)}:$(u))}function K(t,e,r,i){return O(Zt(t)?!e:!0===r?!!(r=0):!i,function(){return Zt(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*i)/i})}function tt(e,r,t){return O(t,function(t){return e[~~r(t)]})}function et(t){for(var e,r,i,n,s=0,a="";~(e=t.indexOf("random(",s));)i=t.indexOf(")",e),n="["===t.charAt(e+7),r=t.substr(e+7,i-e-7).match(n?re:$t),a+=t.substr(s,e-s)+K(n?r:+r[0],n?0:+r[1],+r[2]||1e-5),s=i+1;return a+t.substr(s,t.length-s)}function rt(t,e,r){var i,n,s,a=t.labels,o=Xt;for(i in a)(n=a[i]-e)<0==!!r&&n&&o>(n=Math.abs(n))&&(s=i,o=n);return s}function it(t){return V(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&we(t,"onInterrupt"),t}function nt(t,e,r){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*be+.5|0}function st(t,e,r){var i,n,s,a,o,u,h,l,f,p,c=t?A(t)?[t>>16,t>>8&be,t&be]:0:Me.black;if(!c){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Me[t])c=Me[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(i=t.charAt(1))+i+(n=t.charAt(2))+n+(s=t.charAt(3))+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(c=parseInt(t.substr(1,6),16))>>16,c>>8&be,c&be,parseInt(t.substr(7),16)/255];c=[(t=parseInt(t.substr(1),16))>>16,t>>8&be,t&be]}else if("hsl"===t.substr(0,3))if(c=p=t.match($t),e){if(~t.indexOf("="))return c=t.match(Jt),r&&c.length<4&&(c[3]=1),c}else a=+c[0]%360/360,o=c[1]/100,i=2*(u=c[2]/100)-(n=u<=.5?u*(o+1):u+o-u*o),3<c.length&&(c[3]*=1),c[0]=nt(a+1/3,i,n),c[1]=nt(a,i,n),c[2]=nt(a-1/3,i,n);else c=t.match($t)||Me.transparent;c=c.map(Number)}return e&&!p&&(i=c[0]/be,n=c[1]/be,s=c[2]/be,u=((h=Math.max(i,n,s))+(l=Math.min(i,n,s)))/2,h===l?a=o=0:(f=h-l,o=.5<u?f/(2-h-l):f/(h+l),a=h===i?(n-s)/f+(n<s?6:0):h===n?(s-i)/f+2:(i-n)/f+4,a*=60),c[0]=~~(a+.5),c[1]=~~(100*o+.5),c[2]=~~(100*u+.5)),r&&c.length<4&&(c[3]=1),c}function at(t){var r=[],i=[],n=-1;return t.split(Oe).forEach(function(t){var e=t.match(Kt)||[];r.push.apply(r,e),i.push(n+=e.length+1)}),r.c=i,r}function ot(t,e,r){var i,n,s,a,o="",u=(t+o).match(Oe),h=e?"hsla(":"rgba(",l=0;if(!u)return t;if(u=u.map(function(t){return(t=st(t,e,1))&&h+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),r&&(s=at(t),(i=r.c).join(o)!==s.c.join(o)))for(a=(n=t.replace(Oe,"1").split(Kt)).length-1;l<a;l++)o+=n[l]+(~i.indexOf(l)?u.shift()||h+"0,0,0,0)":(s.length?s:u.length?u:r).shift());if(!n)for(a=(n=t.split(Oe)).length-1;l<a;l++)o+=n[l]+u[l];return o+n[a]}function ut(t){var e,r=t.join(" ");if(Oe.lastIndex=0,Oe.test(r))return e=ke.test(r),t[1]=ot(t[1],e),t[0]=ot(t[0],e,at(t[1])),!0}function ht(t,e){for(var r,i=t._first;i;)i instanceof Ue?ht(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?ht(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next}function lt(t,e,r,i){void 0===r&&(r=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var n,s={easeIn:e,easeOut:r,easeInOut:i};return _(t,function(t){for(var e in De[t]=ne[t]=s,De[n=t.toLowerCase()]=r,s)De[n+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=De[t+"."+e]=s[e]}),s}function ft(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function pt(r,t,e){function i(t){return 1===t?1:n*Math.pow(2,-10*t)*Wt((t-a)*s)+1}var n=1<=t?t:1,s=(e||(r?.3:.45))/(t<1?t:1),a=s/qt*(Math.asin(1/n)||0),o="out"===r?i:"in"===r?function(t){return 1-i(1-t)}:ft(i);return s=qt/s,o.config=function(t,e){return pt(r,t,e)},o}function ct(e,r){function i(t){return t?--t*t*((r+1)*t+r)+1:0}void 0===r&&(r=1.70158);var t="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:ft(i);return t.config=function(t){return ct(e,t)},t}var _t,dt,mt,gt,vt,yt,Tt,xt,wt,bt,Mt,Ot,kt,At,Ct,Dt,Pt,St,zt,Rt,Et,Ft,Bt,It,Lt,Yt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ut={duration:.5,overwrite:!1,delay:0},Xt=1e8,Nt=1/Xt,qt=2*Math.PI,Vt=qt/4,jt=0,Qt=Math.sqrt,Gt=Math.cos,Wt=Math.sin,Ht="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Zt=Array.isArray,$t=/(?:-?\.?\d|\.)+/gi,Jt=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Kt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,te=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ee=/[+-]=-?[.\d]+/,re=/[^,'"\[\]\s]+/gi,ie=/[\d.+\-=]+(?:e[-+]\d*)*/i,ne={},se={},ae=[],oe={},ue={},he={},le=30,fe=[],pe="",ce=function(t,e){for(var r in e)t[r]=e[r];return t},_e=function(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},de=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},me={_start:0,endTime:S,totalDuration:S},ge=function t(e,r,i){var n,s,a,o=e.labels,u=e._recent||me,h=e.duration()>=Xt?u.endTime(!1):e._dur;return U(r)&&(isNaN(r)||r in o)?(s=r.charAt(0),a="%"===r.substr(-1),n=r.indexOf("="),"<"===s||">"===s?(0<=n&&(r=r.replace(/=/,"")),("<"===s?u._start:u.endTime(0<=u._repeat))+(parseFloat(r.substr(1))||0)*(a?(n<0?u:i).totalDuration()/100:1)):n<0?(r in o||(o[r]=h),o[r]):(s=parseFloat(r.charAt(n-1)+r.substr(n+1)),a&&i&&(s=s/100*(Zt(i)?i[0]:i).totalDuration()),1<n?t(e,r.substr(0,n-1),i)+s:h+s)):null==r?h:+r},ve=function(t,e,r){return r<t?t:e<r?e:r},ye=[].slice,Te=function(t,e,r){return!U(t)||r||!gt&&Ce()?Zt(t)?(i=r,void 0===n&&(n=[]),t.forEach(function(t){return U(t)&&!i||W(t,1)?n.push.apply(n,Te(t)):n.push(t)})||n):W(t)?ye.call(t,0):t?[t]:[]:ye.call((e||vt).querySelectorAll(t),0);var i,n},xe=function(e,t,r,i,n){var s=t-e,a=i-r;return O(n,function(t){return r+((t-e)/s*a||0)})},we=function(t,e,r){var i,n,s=t.vars,a=s[e];if(a)return i=s[e+"Params"],n=s.callbackScope||t,r&&ae.length&&L(),i?a.apply(n,i):a.call(n)},be=255,Me={aqua:[0,be,be],lime:[0,be,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,be],navy:[0,0,128],white:[be,be,be],olive:[128,128,0],yellow:[be,be,0],orange:[be,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[be,0,0],pink:[be,192,203],cyan:[0,be,be],transparent:[be,be,be,0]},Oe=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Me)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),ke=/hsl[a]?\(/,Ae=(Pt=Date.now,St=500,zt=33,Rt=Pt(),Et=Rt,Bt=Ft=1e3/240,At={time:0,frame:0,tick:function(){Ee(!0)},deltaRatio:function(t){return Ct/(1e3/(t||60))},wake:function(){Tt&&(!gt&&e()&&(mt=gt=window,vt=mt.document||{},ne.gsap=pr,(mt.gsapVersions||(mt.gsapVersions=[])).push(pr.version),i(yt||mt.GreenSockGlobals||!mt.gsap&&mt||{}),kt=mt.requestAnimationFrame),Mt&&At.sleep(),Ot=kt||function(t){return setTimeout(t,Bt-1e3*At.time+1|0)},bt=1,Ee(2))},sleep:function(){(kt?mt.cancelAnimationFrame:clearTimeout)(Mt),bt=0,Ot=S},lagSmoothing:function(t,e){St=t||1e8,zt=Math.min(e,St,0)},fps:function(t){Ft=1e3/(t||240),Bt=1e3*At.time+Ft},add:function(t){It.indexOf(t)<0&&It.push(t),Ce()},remove:function(t){var e;~(e=It.indexOf(t))&&It.splice(e,1)&&e<=Dt&&Dt--},_listeners:It=[]}),Ce=function(){return!bt&&Ae.wake()},De={},Pe=/^[\d.\-M][\d.\-,\s]/,Se=/["']/g,ze=function(e){return function(t){return 1-e(1-t)}},Re=function(t,e){return t&&(c(t)?t:De[t]||(o=((r=t)+"").split("("),(u=De[o[0]])&&1<o.length&&u.config?u.config.apply(null,~r.indexOf("{")?[function(t){for(var e,r,i,n={},s=t.substr(1,t.length-3).split(":"),a=s[0],o=1,u=s.length;o<u;o++)r=s[o],e=o!==u-1?r.lastIndexOf(","):r.length,i=r.substr(0,e),n[a]=isNaN(i)?i.replace(Se,"").trim():+i,a=r.substr(e+1).trim();return n}(o[1])]:(i=r,n=i.indexOf("(")+1,s=i.indexOf(")"),a=i.indexOf("(",n),i.substring(n,~a&&a<s?i.indexOf(")",s+1):s)).split(",").map(h)):De._CE&&Pe.test(r)?De._CE("",r):u))||e;var r,i,n,s,a,o,u};function Ee(t){var e,r,i,n,s=Pt()-Et,a=!0===t;if(St<s&&(Rt+=s-zt),(0<(e=(i=(Et+=s)-Rt)-Bt)||a)&&(n=++At.frame,Ct=i-1e3*At.time,At.time=i/=1e3,Bt+=e+(Ft<=e?4:Ft-e),r=1),a||(Mt=Ot(Ee)),r)for(Dt=0;Dt<It.length;Dt++)It[Dt](i,Ct,n,t)}function Fe(t){return t<1/2.75?Lt*t*t:t<.7272727272727273?Lt*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?Lt*(t-=2.25/2.75)*t+.9375:Lt*Math.pow(t-2.625/2.75,2)+.984375}_("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;lt(t+",Power"+(r-1),e?function(t){return Math.pow(t,r)}:function(t){return t},function(t){return 1-Math.pow(1-t,r)},function(t){return t<.5?Math.pow(2*t,r)/2:1-Math.pow(2*(1-t),r)/2})}),De.Linear.easeNone=De.none=De.Linear.easeIn,lt("Elastic",pt("in"),pt("out"),pt()),Lt=7.5625,lt("Bounce",function(t){return 1-Fe(1-t)},Fe),lt("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),lt("Circ",function(t){return-(Qt(1-t*t)-1)}),lt("Sine",function(t){return 1===t?1:1-Gt(t*Vt)}),lt("Back",ct("in"),ct("out"),ct()),De.SteppedEase=De.steps=ne.SteppedEase={config:function(t,e){void 0===t&&(t=1);var r=1/t,i=t+(e?0:1),n=e?1:0;return function(t){return((i*ve(0,.99999999,t)|0)+n)*r}}},Ut.ease=De["quad.out"],_("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return pe+=t+","+t+"Params,"});var Be,Ie=function(t,e){this.id=jt++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:s,this.set=e?e.getSetter:Ke},Le=((Be=Ye.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},Be.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},Be.totalDuration=function(t){return arguments.length?(this._dirty=0,w(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Be.totalTime=function(t,e){if(Ce(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(y(this,t),!r._dp||r.parent||T(r,this);r&&r.parent;)r.parent._time!==r._start+(0<=r._ts?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&E(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Nt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),u(this,t,e)),this},Be.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+g(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},Be.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Be.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+g(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Be.iteration=function(t,e){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*r,e):this._repeat?_e(this._tTime,r)+1:1},Be.timeScale=function(t){if(!arguments.length)return this._rts===-Nt?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?v(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Nt?0:this._rts,function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent}(this.totalTime(ve(-this._delay,this._tDur,e),!0)),b(this),this},Be.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ce(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Nt&&(this._tTime-=Nt)))),this):this._ps},Be.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||E(e,this,t-this._delay),this}return this._start},Be.endTime=function(t){return this._start+(F(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},Be.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?v(e.rawTime(t),this):this._tTime:this._tTime},Be.globalTime=function(t){for(var e=this,r=arguments.length?t:e.rawTime();e;)r=e._start+r/(e._ts||1),e=e._dp;return r},Be.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,M(this)):-2===this._repeat?1/0:this._repeat},Be.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,M(this),e?this.time(e):this}return this._rDelay},Be.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Be.seek=function(t,e){return this.totalTime(ge(this,t),F(e))},Be.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,F(e))},Be.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Be.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Be.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Be.resume=function(){return this.paused(!1)},Be.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Nt:0)),this):this._rts<0},Be.invalidate=function(){return this._initted=this._act=0,this._zTime=-Nt,this},Be.isActive=function(){var t,e=this.parent||this._dp,r=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=r&&t<this.endTime(!0)-Nt))},Be.eventCallback=function(t,e,r){var i=this.vars;return 1<arguments.length?(e?(i[t]=e,r&&(i[t+"Params"]=r),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},Be.then=function(i){var n=this;return new Promise(function(e){function t(){var t=n.then;n.then=null,c(r)&&(r=r(n))&&(r.then||r===n)&&(n.then=t),e(r),n.then=t}var r=c(i)?i:l;n._initted&&1===n.totalProgress()&&0<=n._ts||!n._tTime&&n._ts<0?t():n._prom=t})},Be.kill=function(){it(this)},Ye);function Ye(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,w(this,+t.duration,1,1),this.data=t.data,bt||Ae.wake()}N(Le.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Nt,_prom:0,_ps:!1,_rts:1});var Ue=function(i){function t(t,e){var r;return void 0===t&&(t={}),(r=i.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=F(t.sortChildren),dt&&E(t.parent||dt,k(r),e),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&j(k(r),t.scrollTrigger),r}r(t,i);var e=t.prototype;return e.to=function(t,e,r){return Q(0,arguments,this),this},e.from=function(t,e,r){return Q(1,arguments,this),this},e.fromTo=function(t,e,r,i){return Q(2,arguments,this),this},e.set=function(t,e,r){return e.duration=0,e.parent=this,R(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Ge(t,e,ge(this,r),1),this},e.call=function(t,e,r){return E(this,Ge.delayedCall(0,t,e),r)},e.staggerTo=function(t,e,r,i,n,s,a){return r.duration=e,r.stagger=r.stagger||i,r.onComplete=s,r.onCompleteParams=a,r.parent=this,new Ge(t,r,ge(this,n)),this},e.staggerFrom=function(t,e,r,i,n,s,a){return r.runBackwards=1,R(r).immediateRender=F(r.immediateRender),this.staggerTo(t,e,r,i,n,s,a)},e.staggerFromTo=function(t,e,r,i,n,s,a,o){return i.startAt=r,R(i).immediateRender=F(i.immediateRender),this.staggerTo(t,e,i,n,s,a,o)},e.render=function(t,e,r){var i,n,s,a,o,u,h,l,f,p,c,_,d=this._time,m=this._dirty?this.totalDuration():this._tDur,g=this._dur,v=t<=0?0:z(t),y=this._zTime<0!=t<0&&(this._initted||!g);if(this!==dt&&m<v&&0<=t&&(v=m),v!==this._tTime||r||y){if(d!==this._time&&g&&(v+=this._time-d,t+=this._time-d),i=v,f=this._start,u=!(l=this._ts),y&&(g||(d=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(c=this._yoyo,o=g+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,r);if(i=z(v%o),v===m?(a=this._repeat,i=g):((a=~~(v/o))&&a===v/o&&(i=g,a--),g<i&&(i=g)),p=_e(this._tTime,o),!d&&this._tTime&&p!==a&&(p=a),c&&1&a&&(i=g-i,_=1),a!==p&&!this._lock){var T=c&&1&p,x=T===(c&&1&a);if(a<p&&(T=!T),d=T?0:g,this._lock=1,this.render(d||(_?0:z(a*o)),e,!g)._lock=0,this._tTime=v,!e&&this.parent&&we(this,"onRepeat"),this.vars.repeatRefresh&&!_&&(this.invalidate()._lock=1),d&&d!==this._time||u!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,m=this._tDur,x&&(this._lock=2,d=T?g:-1e-4,this.render(d,!0),this.vars.repeatRefresh&&!_&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;ht(this,_)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,r){var i;if(e<r)for(i=t._first;i&&i._start<=r;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,z(d),z(i)))&&(v-=i-(i=h._start)),this._tTime=v,this._time=i,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,d=0),!d&&i&&!e&&(we(this,"onStart"),this._tTime!==v))return this;if(d<=i&&0<=t)for(n=this._first;n;){if(s=n._next,(n._act||i>=n._start)&&n._ts&&h!==n){if(n.parent!==this)return this.render(t,e,r);if(n.render(0<n._ts?(i-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(i-n._start)*n._ts,e,r),i!==this._time||!this._ts&&!u){h=0,s&&(v+=this._zTime=-Nt);break}}n=s}else{n=this._last;for(var w=t<0?t:i;n;){if(s=n._prev,(n._act||w<=n._end)&&n._ts&&h!==n){if(n.parent!==this)return this.render(t,e,r);if(n.render(0<n._ts?(w-n._start)*n._ts:(n._dirty?n.totalDuration():n._tDur)+(w-n._start)*n._ts,e,r),i!==this._time||!this._ts&&!u){h=0,s&&(v+=this._zTime=w?-Nt:Nt);break}}n=s}}if(h&&!e&&(this.pause(),h.render(d<=i?0:-Nt)._zTime=d<=i?1:-1,this._ts))return this._start=f,b(this),this.render(t,e,r);this._onUpdate&&!e&&we(this,"onUpdate",!0),(v===m&&m>=this.totalDuration()||!v&&d)&&(f!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||(!t&&g||!(v===m&&0<this._ts||!v&&this._ts<0)||V(this,1),e||t<0&&!d||!v&&!d&&m||(we(this,v===m&&0<=t?"onComplete":"onReverseComplete",!0),!this._prom||v<m&&0<this.timeScale()||this._prom())))}return this},e.add=function(t,e){var r=this;if(A(e)||(e=ge(this,e,t)),!(t instanceof Le)){if(Zt(t))return t.forEach(function(t){return r.add(t,e)}),this;if(U(t))return this.addLabel(t,e);if(!c(t))return this;t=Ge.delayedCall(0,t)}return this!==t?E(this,t,e):this},e.getChildren=function(t,e,r,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),void 0===i&&(i=-Xt);for(var n=[],s=this._first;s;)s._start>=i&&(s instanceof Ge?e&&n.push(s):(r&&n.push(s),t&&n.push.apply(n,s.getChildren(!0,e,r)))),s=s._next;return n},e.getById=function(t){for(var e=this.getChildren(1,1,1),r=e.length;r--;)if(e[r].vars.id===t)return e[r]},e.remove=function(t){return U(t)?this.removeLabel(t):c(t)?this.killTweensOf(t):(d(this,t),t===this._recent&&(this._recent=this._last),m(this))},e.totalTime=function(t,e){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=z(Ae.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),i.prototype.totalTime.call(this,t,e),this._forcing=0,this):this._tTime},e.addLabel=function(t,e){return this.labels[t]=ge(this,e),this},e.removeLabel=function(t){return delete this.labels[t],this},e.addPause=function(t,e,r){var i=Ge.delayedCall(0,e||S,r);return i.data="isPause",this._hasPause=1,E(this,i,ge(this,t))},e.removePause=function(t){var e=this._first;for(t=ge(this,t);e;)e._start===t&&"isPause"===e.data&&V(e),e=e._next},e.killTweensOf=function(t,e,r){for(var i=this.getTweensOf(t,r),n=i.length;n--;)Ne!==i[n]&&i[n].kill(t,e);return this},e.getTweensOf=function(t,e){for(var r,i=[],n=Te(t),s=this._first,a=A(e);s;)s instanceof Ge?o(s._targets,n)&&(a?(!Ne||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&i.push(s):(r=s.getTweensOf(n,e)).length&&i.push.apply(i,r),s=s._next;return i},e.tweenTo=function(t,e){e=e||{};var r,i=this,n=ge(i,t),s=e.startAt,a=e.onStart,o=e.onStartParams,u=e.immediateRender,h=Ge.to(i,N({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:e.duration||Math.abs((n-(s&&"time"in s?s.time:i._time))/i.timeScale())||Nt,onStart:function(){if(i.pause(),!r){var t=e.duration||Math.abs((n-(s&&"time"in s?s.time:i._time))/i.timeScale());h._dur!==t&&w(h,t,0,1).render(h._time,!0,!0),r=1}a&&a.apply(h,o||[])}},e));return u?h.render(0):h},e.tweenFromTo=function(t,e,r){return this.tweenTo(e,N({startAt:{time:ge(this,t)}},r))},e.recent=function(){return this._recent},e.nextLabel=function(t){return void 0===t&&(t=this._time),rt(this,ge(this,t))},e.previousLabel=function(t){return void 0===t&&(t=this._time),rt(this,ge(this,t),1)},e.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Nt)},e.shiftChildren=function(t,e,r){void 0===r&&(r=0);for(var i,n=this._first,s=this.labels;n;)n._start>=r&&(n._start+=t,n._end+=t),n=n._next;if(e)for(i in s)s[i]>=r&&(s[i]+=t);return m(this)},e.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return i.prototype.invalidate.call(this)},e.clear=function(t){void 0===t&&(t=!0);for(var e,r=this._first;r;)e=r._next,this.remove(r),r=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),m(this)},e.totalDuration=function(t){var e,r,i,n=0,s=this,a=s._last,o=Xt;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(i=s.parent;a;)e=a._prev,a._dirty&&a.totalDuration(),o<(r=a._start)&&s._sort&&a._ts&&!s._lock?(s._lock=1,E(s,a,r-a._delay,1)._lock=0):o=r,r<0&&a._ts&&(n-=r,(!i&&!s._dp||i&&i.smoothChildTiming)&&(s._start+=r/s._ts,s._time-=r,s._tTime-=r),s.shiftChildren(-r,!1,-1/0),o=0),a._end>n&&a._ts&&(n=a._end),a=e;w(s,s===dt&&s._time>n?s._time:n,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(t){if(dt._ts&&(u(dt,v(t,dt)),xt=Ae.frame),Ae.frame>=le){le+=Yt.autoSleep||120;var e=dt._first;if((!e||!e._ts)&&Yt.autoSleep&&Ae._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ae.sleep()}}},t}(Le);function Xe(t,e,r,i,n,s){var a,o,u,h;if(ue[t]&&!1!==(a=new ue[t]).init(n,a.rawVars?e[t]:function(t,e,r,i,n){if(c(t)&&(t=Ve(t,n,e,r,i)),!C(t)||t.style&&t.nodeType||Zt(t)||Ht(t))return U(t)?Ve(t,n,e,r,i):t;var s,a={};for(s in t)a[s]=Ve(t[s],n,e,r,i);return a}(e[t],i,n,s,r),r,i,s)&&(r._pt=o=new or(r._pt,n,t,0,1,a.render,a,0,a.priority),r!==wt))for(u=r._ptLookup[r._targets.indexOf(n)],h=a._props.length;h--;)u[a._props[h]]=o;return a}N(Ue.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ne,qe=function(t,e,r,i,n,s,a,o,u){c(i)&&(i=i(n||0,t,s));var h,l=t[e],f="get"!==r?r:c(l)?u?t[e.indexOf("set")||!c(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():l,p=c(l)?u?Je:$e:Ze;if(U(i)&&(~i.indexOf("random(")&&(i=et(i)),"="===i.charAt(1)&&(!(h=parseFloat(f)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(G(f)||0))&&0!==h||(i=h))),f!==i)return isNaN(f*i)||""===i?(l||e in t||X(e,i),function(t,e,r,i,n,s,a){var o,u,h,l,f,p,c,_,d=new or(this._pt,t,e,0,1,rr,null,n),m=0,g=0;for(d.b=r,d.e=i,r+="",(c=~(i+="").indexOf("random("))&&(i=et(i)),s&&(s(_=[r,i],t,e),r=_[0],i=_[1]),u=r.match(te)||[];o=te.exec(i);)l=o[0],f=i.substring(m,o.index),h?h=(h+1)%5:"rgba("===f.substr(-5)&&(h=1),l!==u[g++]&&(p=parseFloat(u[g-1])||0,d._pt={_next:d._pt,p:f||1===g?f:",",s:p,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-p,m:h&&h<4?Math.round:0},m=te.lastIndex);return d.c=m<i.length?i.substring(m,i.length):"",d.fp=a,(ee.test(i)||c)&&(d.e=0),this._pt=d}.call(this,t,e,f,i,p,o||Yt.stringFilter,u)):(h=new or(this._pt,t,e,+f||0,i-(f||0),"boolean"==typeof l?er:tr,0,p),u&&(h.fp=u),a&&h.modifier(a,this,t),this._pt=h)},Ve=function(t,e,r,i,n){return c(t)?t.call(e,r,i,n):U(t)&&~t.indexOf("random(")?et(t):t},je=pe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Qe=(je+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Ge=function(O){function n(t,e,r,i){var n;"number"==typeof e&&(r.duration=e,e=r,r=null);var s,a,o,u,h,l,f,p,c=(n=O.call(this,i?e:R(e))||this).vars,_=c.duration,d=c.delay,m=c.immediateRender,g=c.stagger,v=c.overwrite,y=c.keyframes,T=c.defaults,x=c.scrollTrigger,w=c.yoyoEase,b=e.parent||dt,M=(Zt(t)||Ht(t)?A(t[0]):"length"in e)?[t]:Te(t);if(n._targets=M.length?B(M):P("GSAP target "+t+" not found. https://greensock.com",!Yt.nullTargetWarn)||[],n._ptLookup=[],n._overwrite=v,y||g||D(_)||D(d)){if(e=n.vars,(s=n.timeline=new Ue({data:"nested",defaults:T||{}})).kill(),s.parent=s._dp=k(n),s._start=0,y)R(N(s.vars.defaults,{ease:"none"})),g?M.forEach(function(r,i){return y.forEach(function(t,e){return s.to(r,t,e?">":i*g)})}):y.forEach(function(t){return s.to(M,t,">")});else{if(u=M.length,f=g?Z(g):S,C(g))for(h in g)~je.indexOf(h)&&((p=p||{})[h]=g[h]);for(a=0;a<u;a++){for(h in o={},e)Qe.indexOf(h)<0&&(o[h]=e[h]);o.stagger=0,w&&(o.yoyoEase=w),p&&ce(o,p),l=M[a],o.duration=+Ve(_,k(n),a,l,M),o.delay=(+Ve(d,k(n),a,l,M)||0)-n._delay,!g&&1===u&&o.delay&&(n._delay=d=o.delay,n._start+=d,o.delay=0),s.to(l,o,f(a,l,M))}s.duration()?_=d=0:n.timeline=0}_||n.duration(_=s.duration())}else n.timeline=0;return!0!==v||_t||(Ne=k(n),dt.killTweensOf(M),Ne=0),E(b,k(n),r),e.reversed&&n.reverse(),e.paused&&n.paused(!0),(m||!_&&!y&&n._start===z(b._time)&&F(m)&&function t(e){return!e||e._ts&&t(e.parent)}(k(n))&&"nested"!==b.data)&&(n._tTime=-Nt,n.render(Math.max(0,-d))),x&&j(k(n),x),n}r(n,O);var t=n.prototype;return t.render=function(t,e,r){var i,n,s,a,o,u,h,l,f,p=this._time,c=this._tDur,_=this._dur,d=c-Nt<t&&0<=t?c:t<Nt?0:t;if(_){if(d!==this._tTime||!t||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=d,l=this.timeline,this._repeat){if(a=_+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,r);if(i=z(d%a),d===c?(s=this._repeat,i=_):((s=~~(d/a))&&s===d/a&&(i=_,s--),_<i&&(i=_)),(u=this._yoyo&&1&s)&&(f=this._yEase,i=_-i),o=_e(this._tTime,a),i===p&&!r&&this._initted)return this;s!==o&&(l&&this._yEase&&ht(l,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=r=1,this.render(z(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(x(this,t<0?t:i,r,e))return this._tTime=0,this;if(_!==this._dur)return this.render(t,e,r)}if(this._tTime=d,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(f||this._ease)(i/_),this._from&&(this.ratio=h=1-h),i&&!p&&!e&&(we(this,"onStart"),this._tTime!==d))return this;for(n=this._pt;n;)n.r(h,n.d),n=n._next;l&&l.render(t<0?t:!i&&u?-Nt:l._dur*h,e,r)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,r),we(this,"onUpdate")),this._repeat&&s!==o&&this.vars.onRepeat&&!e&&this.parent&&we(this,"onRepeat"),d!==this._tDur&&d||this._tTime!==d||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),!t&&_||!(d===this._tDur&&0<this._ts||!d&&this._ts<0)||V(this,1),e||t<0&&!p||!d&&!p||(we(this,d===c?"onComplete":"onReverseComplete",!0),!this._prom||d<c&&0<this.timeScale()||this._prom()))}}else!function(t,e,r,i){var n,s,a,o=t.ratio,u=e<0||!e&&(!t._start&&function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))}(t)&&(t._initted||!de(t))||(t._ts<0||t._dp._ts<0)&&!de(t))?0:1,h=t._rDelay,l=0;if(h&&t._repeat&&(l=ve(0,t._tDur,e),s=_e(l,h),a=_e(t._tTime,h),t._yoyo&&1&s&&(u=1-u),s!==a&&(o=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==o||i||t._zTime===Nt||!e&&t._zTime){if(!t._initted&&x(t,e,i,r))return;for(a=t._zTime,t._zTime=e||(r?Nt:0),r=r||e&&!a,t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=l,n=t._pt;n;)n.r(u,n.d),n=n._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!r&&we(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&we(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&V(t,1),r||(we(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,r);return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),O.prototype.invalidate.call(this)},t.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?it(this):this;if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ne&&!0!==Ne.vars.overwrite)._first||it(this),this.parent&&r!==this.timeline.totalDuration()&&w(this,this._dur*this.timeline._tDur/r,0,1),this}var i,n,s,a,o,u,h,l=this._targets,f=t?Te(t):l,p=this._ptLookup,c=this._pt;if((!e||"all"===e)&&function(t,e){for(var r=t.length,i=r===e.length;i&&r--&&t[r]===e[r];);return r<0}(l,f))return"all"===e&&(this._pt=0),it(this);for(i=this._op=this._op||[],"all"!==e&&(U(e)&&(o={},_(e,function(t){return o[t]=1}),e=o),e=function(t,e){var r,i,n,s,a=t[0]?I(t[0]).harness:0,o=a&&a.aliases;if(!o)return e;for(i in r=ce({},e),o)if(i in r)for(n=(s=o[i].split(",")).length;n--;)r[s[n]]=r[i];return r}(l,e)),h=l.length;h--;)if(~f.indexOf(l[h]))for(o in n=p[h],"all"===e?(i[h]=e,a=n,s={}):(s=i[h]=i[h]||{},a=e),a)(u=n&&n[o])&&("kill"in u.d&&!0!==u.d.kill(o)||d(this,u,"_pt"),delete n[o]),"all"!==s&&(s[o]=1);return this._initted&&!this._pt&&c&&it(this),this},n.to=function(t,e,r){return new n(t,e,r)},n.from=function(t,e){return Q(1,arguments)},n.delayedCall=function(t,e,r,i){return new n(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},n.fromTo=function(t,e,r){return Q(2,arguments)},n.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new n(t,e)},n.killTweensOf=function(t,e,r){return dt.killTweensOf(t,e,r)},n}(Le);function We(t,e,r){return t.setAttribute(e,r)}function He(t,e,r,i){i.mSet(t,e,i.m.call(i.tween,r,i.mt),i)}N(Ge.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_("staggerTo,staggerFrom,staggerFromTo",function(r){Ge[r]=function(){var t=new Ue,e=ye.call(arguments,0);return e.splice("staggerFromTo"===r?5:4,0,0),t[r].apply(t,e)}});var Ze=function(t,e,r){return t[e]=r},$e=function(t,e,r){return t[e](r)},Je=function(t,e,r,i){return t[e](i.fp,r)},Ke=function(t,e){return c(t[e])?$e:n(t[e])&&t.setAttribute?We:Ze},tr=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},er=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},rr=function(t,e){var r=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=e.c}e.set(e.t,e.p,i,e)},ir=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},nr=function(t,e,r,i){for(var n,s=this._pt;s;)n=s._next,s.p===i&&s.modifier(t,e,r),s=n},sr=function(t){for(var e,r,i=this._pt;i;)r=i._next,i.p===t&&!i.op||i.op===t?d(this,i,"_pt"):i.dep||(e=1),i=r;return!e},ar=function(t){for(var e,r,i,n,s=t._pt;s;){for(e=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:n)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:n=s,s=e}t._pt=i},or=(ur.prototype.modifier=function(t,e,r){this.mSet=this.mSet||this.set,this.set=He,this.m=t,this.mt=r,this.tween=e},ur);function ur(t,e,r,i,n,s,a,o,u){this.t=e,this.s=i,this.c=n,this.p=r,this.r=s||tr,this.d=a||this,this.set=o||Ze,this.pr=u||0,(this._next=t)&&(t._prev=this)}_(pe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return se[t]=1}),ne.TweenMax=ne.TweenLite=Ge,ne.TimelineLite=ne.TimelineMax=Ue,dt=new Ue({sortChildren:!1,defaults:Ut,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Yt.stringFilter=ut;var hr={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach(function(t){return function(t){var e=(t=!t.name&&t.default||t).name,r=c(t),i=e&&!r&&t.init?function(){this._props=[]}:t,n={init:S,render:ir,add:qe,kill:sr,modifier:nr,rawVars:0},s={targetTest:0,get:0,getSetter:Ke,aliases:{},register:0};if(Ce(),t!==i){if(ue[e])return;N(i,N(q(t,n),s)),ce(i.prototype,ce(n,q(t,s))),ue[i.prop=e]=i,t.targetTest&&(fe.push(i),se[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}a(e,i),t.register&&t.register(pr,i,or)}(t)})},timeline:function(t){return new Ue(t)},getTweensOf:function(t,e){return dt.getTweensOf(t,e)},getProperty:function(i,t,e,r){U(i)&&(i=Te(i)[0]);var n=I(i||{}).get,s=e?l:h;return"native"===e&&(e=""),i?t?s((ue[t]&&ue[t].get||n)(i,t,e,r)):function(t,e,r){return s((ue[t]&&ue[t].get||n)(i,t,e,r))}:i},quickSetter:function(r,e,i){if(1<(r=Te(r)).length){var n=r.map(function(t){return pr.quickSetter(t,e,i)}),s=n.length;return function(t){for(var e=s;e--;)n[e](t)}}r=r[0]||{};var a=ue[e],o=I(r),u=o.harness&&(o.harness.aliases||{})[e]||e,h=a?function(t){var e=new a;wt._pt=0,e.init(r,i?t+i:t,wt,0,[r]),e.render(1,e),wt._pt&&ir(1,wt)}:o.set(r,u);return a?h:function(t){return h(r,u,i?t+i:t,o,1)}},isTweening:function(t){return 0<dt.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=Re(t.ease,Ut.ease)),p(Ut,t||{})},config:function(t){return p(Yt,t||{})},registerEffect:function(t){var i=t.name,n=t.effect,e=t.plugins,s=t.defaults,r=t.extendTimeline;(e||"").split(",").forEach(function(t){return t&&!ue[t]&&!ne[t]&&P(i+" effect requires "+t+" plugin.")}),he[i]=function(t,e,r){return n(Te(t),N(e||{},s),r)},r&&(Ue.prototype[i]=function(t,e,r){return this.add(he[i](t,C(e)?e:(r=e)&&{},this),r)})},registerEase:function(t,e){De[t]=Re(e)},parseEase:function(t,e){return arguments.length?Re(t,e):De},getById:function(t){return dt.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,i,n=new Ue(t);for(n.smoothChildTiming=F(t.smoothChildTiming),dt.remove(n),n._dp=0,n._time=n._tTime=dt._time,r=dt._first;r;)i=r._next,!e&&!r._dur&&r instanceof Ge&&r.vars.onComplete===r._targets[0]||E(n,r,r._start-r._delay),r=i;return E(dt,n,0),n},utils:{wrap:function t(e,r,i){var n=r-e;return Zt(e)?tt(e,t(0,e.length),r):O(i,function(t){return(n+(t-e)%n)%n+e})},wrapYoyo:function t(e,r,i){var n=r-e,s=2*n;return Zt(e)?tt(e,t(0,e.length-1),r):O(i,function(t){return e+(n<(t=(s+(t-e)%s)%s||0)?s-t:t)})},distribute:Z,random:K,snap:J,normalize:function(t,e,r){return xe(t,e,0,1,r)},getUnit:G,clamp:function(e,r,t){return O(t,function(t){return ve(e,r,t)})},splitColor:st,toArray:Te,selector:function(r){return r=Te(r)[0]||P("Invalid scope")||{},function(t){var e=r.current||r.nativeElement||r;return Te(t,e.querySelectorAll?e:e===r?P("Invalid scope")||vt.createElement("div"):r)}},mapRange:xe,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(e,r){return function(t){return e(parseFloat(t))+(r||G(t))}},interpolate:function t(e,r,i,n){var s=isNaN(e+r)?0:function(t){return(1-t)*e+t*r};if(!s){var a,o,u,h,l,f=U(e),p={};if(!0===i&&(n=1)&&(i=null),f)e={p:e},r={p:r};else if(Zt(e)&&!Zt(r)){for(u=[],h=e.length,l=h-2,o=1;o<h;o++)u.push(t(e[o-1],e[o]));h--,s=function(t){t*=h;var e=Math.min(l,~~t);return u[e](t-e)},i=r}else n||(e=ce(Zt(e)?[]:{},e));if(!u){for(a in r)qe.call(p,e,a,"get",r[a]);s=function(t){return ir(t,p)||(f?e.p:e)}}}return O(i,s)},shuffle:H},install:i,effects:he,ticker:Ae,updateRoot:Ue.updateRoot,plugins:ue,globalTimeline:dt,core:{PropTween:or,globals:a,Tween:Ge,Timeline:Ue,Animation:Le,getCache:I,_removeLinkedListItem:d,suppressOverwrites:function(t){return _t=t}}};function lr(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r}function fr(t,n){return{name:t,rawVars:1,init:function(t,i,e){e._onInit=function(t){var e,r;if(U(i)&&(e={},_(i,function(t){return e[t]=1}),i=e),n){for(r in e={},i)e[r]=n(i[r]);i=e}!function(t,e){var r,i,n,s=t._targets;for(r in e)for(i=s.length;i--;)(n=(n=t._ptLookup[i][r])&&n.d)&&(n._pt&&(n=lr(n,r)),n&&n.modifier&&n.modifier(e[r],t,s[i],r))}(t,i)}}}}_("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return hr[t]=Ge[t]}),Ae.add(Ue.updateRoot),wt=hr.to({},{duration:0});var pr=hr.registerPlugin({name:"attr",init:function(t,e,r,i,n){var s,a;for(s in e)(a=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],i,n,0,0,s))&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},fr("roundProps",$),fr("modifiers"),fr("snap",J))||hr;function cr(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function _r(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function dr(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function mr(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)}function gr(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function vr(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function yr(t,e,r){return t.style[e]=r}function Tr(t,e,r){return t.style.setProperty(e,r)}function xr(t,e,r){return t._gsap[e]=r}function wr(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r}function br(t,e,r,i,n){var s=t._gsap;s.scaleX=s.scaleY=r,s.renderTransform(n,s)}function Mr(t,e,r,i,n){var s=t._gsap;s[e]=r,s.renderTransform(n,s)}function Or(t,e){var r=Qr.createElementNS?Qr.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Qr.createElement(t);return r.style?r:Qr.createElement(t)}function kr(t,e,r){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Ti,"-$1").toLowerCase())||i.getPropertyValue(e)||!r&&kr(t,Ai(e)||e,1)||""}function Ar(){"undefined"!=typeof window&&window.document&&(jr=window,Qr=jr.document,Gr=Qr.documentElement,Hr=Or("div")||{style:{}},Or("div"),Mi=Ai(Mi),Oi=Mi+"Origin",Hr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$r=!!Ai("perspective"),Wr=1)}function Cr(t){var e,r=Or("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,s=this.style.cssText;if(Gr.appendChild(r),r.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=Cr}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(n?i.insertBefore(this,n):i.appendChild(this)),Gr.removeChild(r),this.style.cssText=s,e}function Dr(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])}function Pr(e){var r;try{r=e.getBBox()}catch(t){r=Cr.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===Cr||(r=Cr.call(e,!0)),!r||r.width||r.x||r.y?r:{x:+Dr(e,["x","cx","x1"])||0,y:+Dr(e,["y","cy","y1"])||0,width:0,height:0}}function Sr(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Pr(t))}function zr(t,e){if(e){var r=t.style;e in mi&&e!==Oi&&(e=Mi),r.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),r.removeProperty(e.replace(Ti,"-$1").toLowerCase())):r.removeAttribute(e)}}function Rr(t,e,r,i,n,s){var a=new or(t._pt,e,r,0,1,s?vr:gr);return(t._pt=a).b=i,a.e=n,t._props.push(r),a}function Er(t,e,r,i){var n,s,a,o,u=parseFloat(r)||0,h=(r+"").trim().substr((u+"").length)||"px",l=Hr.style,f=xi.test(e),p="svg"===t.tagName.toLowerCase(),c=(p?"client":"offset")+(f?"Width":"Height"),_="px"===i,d="%"===i;return i===h||!u||Ci[i]||Ci[h]?u:("px"===h||_||(u=Er(t,e,r,"px")),o=t.getCTM&&Sr(t),!d&&"%"!==h||!mi[e]&&!~e.indexOf("adius")?(l[f?"width":"height"]=100+(_?h:i),s=~e.indexOf("adius")||"em"===i&&t.appendChild&&!p?t:t.parentNode,o&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==Qr&&s.appendChild||(s=Qr.body),(a=s._gsap)&&d&&a.width&&f&&a.time===Ae.time?Y(u/a.width*100):(!d&&"%"!==h||(l.position=kr(t,"position")),s===t&&(l.position="static"),s.appendChild(Hr),n=Hr[c],s.removeChild(Hr),l.position="absolute",f&&d&&((a=I(s)).time=Ae.time,a.width=s[c]),Y(_?n*u/100:n&&u?100/n*u:0))):(n=o?t.getBBox()[f?"width":"height"]:t[c],Y(d?u/n*100:u/100*n)))}function Fr(t,e,r,i){var n;return Wr||Ar(),e in bi&&"transform"!==e&&~(e=bi[e]).indexOf(",")&&(e=e.split(",")[0]),mi[e]&&"transform"!==e?(n=Ri(t,i),n="transformOrigin"!==e?n[e]:n.svg?n.origin:Ei(kr(t,Oi))+" "+n.zOrigin+"px"):(n=t.style[e])&&"auto"!==n&&!i&&!~(n+"").indexOf("calc(")||(n=Pi[e]&&Pi[e](t,e,r)||kr(t,e)||s(t,e)||("opacity"===e?1:0)),r&&!~(n+"").trim().indexOf(" ")?Er(t,e,n,r)+r:n}function Br(t,e,r,i){if(!r||"none"===r){var n=Ai(e,t,1),s=n&&kr(t,n,1);s&&s!==r?(e=n,r=s):"borderColor"===e&&(r=kr(t,"borderTopColor"))}var a,o,u,h,l,f,p,c,_,d,m,g,v=new or(this._pt,t.style,e,0,1,rr),y=0,T=0;if(v.b=r,v.e=i,r+="","auto"==(i+="")&&(t.style[e]=i,i=kr(t,e)||i,t.style[e]=r),ut(a=[r,i]),i=a[1],u=(r=a[0]).match(Kt)||[],(i.match(Kt)||[]).length){for(;o=Kt.exec(i);)p=o[0],_=i.substring(y,o.index),l?l=(l+1)%5:"rgba("!==_.substr(-5)&&"hsla("!==_.substr(-5)||(l=1),p!==(f=u[T++]||"")&&(h=parseFloat(f)||0,m=f.substr((h+"").length),(g="="===p.charAt(1)?+(p.charAt(0)+"1"):0)&&(p=p.substr(2)),c=parseFloat(p),d=p.substr((c+"").length),y=Kt.lastIndex-d.length,d||(d=d||Yt.units[e]||m,y===i.length&&(i+=d,v.e+=d)),m!==d&&(h=Er(t,e,f,d)||0),v._pt={_next:v._pt,p:_||1===T?_:",",s:h,c:g?g*c:c-h,m:l&&l<4||"zIndex"===e?Math.round:0});v.c=y<i.length?i.substring(y,i.length):""}else v.r="display"===e&&"none"===i?vr:gr;return ee.test(i)&&(v.e=0),this._pt=v}function Ir(t,e){if(e.tween&&e.tween._time===e.tween._dur){var r,i,n,s=e.t,a=s.style,o=e.u,u=s._gsap;if("all"===o||!0===o)a.cssText="",i=1;else for(n=(o=o.split(",")).length;-1<--n;)r=o[n],mi[r]&&(i=1,r="transformOrigin"===r?Oi:Mi),zr(s,r);i&&(zr(s,Mi),u&&(u.svg&&s.removeAttribute("transform"),Ri(s,1),u.uncache=1))}}function Lr(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Yr(t){var e=kr(t,Mi);return Lr(e)?Si:e.substr(7).match(Jt).map(Y)}function Ur(t,e){var r,i,n,s,a=t._gsap||I(t),o=t.style,u=Yr(t);return a.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?Si:u:(u!==Si||t.offsetParent||t===Gr||a.svg||(n=o.display,o.display="block",(r=t.parentNode)&&t.offsetParent||(s=1,i=t.nextSibling,Gr.appendChild(t)),u=Yr(t),n?o.display=n:zr(t,"display"),s&&(i?r.insertBefore(t,i):r?r.appendChild(t):Gr.removeChild(t))),e&&6<u.length?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)}function Xr(t,e,r,i,n,s){var a,o,u,h=t._gsap,l=n||Ur(t,!0),f=h.xOrigin||0,p=h.yOrigin||0,c=h.xOffset||0,_=h.yOffset||0,d=l[0],m=l[1],g=l[2],v=l[3],y=l[4],T=l[5],x=e.split(" "),w=parseFloat(x[0])||0,b=parseFloat(x[1])||0;r?l!==Si&&(o=d*v-m*g)&&(u=w*(-m/o)+b*(d/o)-(d*T-m*y)/o,w=w*(v/o)+b*(-g/o)+(g*T-v*y)/o,b=u):(w=(a=Pr(t)).x+(~x[0].indexOf("%")?w/100*a.width:w),b=a.y+(~(x[1]||x[0]).indexOf("%")?b/100*a.height:b)),i||!1!==i&&h.smooth?(y=w-f,T=b-p,h.xOffset=c+(y*d+T*g)-y,h.yOffset=_+(y*m+T*v)-T):h.xOffset=h.yOffset=0,h.xOrigin=w,h.yOrigin=b,h.smooth=!!i,h.origin=e,h.originIsAbsolute=!!r,t.style[Oi]="0px 0px",s&&(Rr(s,h,"xOrigin",f,w),Rr(s,h,"yOrigin",p,b),Rr(s,h,"xOffset",c,h.xOffset),Rr(s,h,"yOffset",_,h.yOffset)),t.setAttribute("data-svg-origin",w+" "+b)}function Nr(t,e,r){var i=G(e);return Y(parseFloat(e)+parseFloat(Er(t,"x",r+"px",i)))+i}function qr(t,e){for(var r in e)t[r]=e[r];return t}function Vr(t,e,r){var i,n,s,a,o,u,h,l=qr({},r._gsap),f=r.style;for(n in l.svg?(s=r.getAttribute("transform"),r.setAttribute("transform",""),f[Mi]=e,i=Ri(r,1),zr(r,Mi),r.setAttribute("transform",s)):(s=getComputedStyle(r)[Mi],f[Mi]=e,i=Ri(r,1),f[Mi]=s),mi)(s=l[n])!==(a=i[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(o=G(s)!==(h=G(a))?Er(r,n,s,h):parseFloat(s),u=parseFloat(a),t._pt=new or(t._pt,i,n,o,u-o,cr),t._pt.u=h||0,t._props.push(n));qr(i,l)}Ge.version=Ue.version=pr.version="3.8.0",Tt=1,e()&&Ce();var jr,Qr,Gr,Wr,Hr,Zr,$r,Jr=De.Power0,Kr=De.Power1,ti=De.Power2,ei=De.Power3,ri=De.Power4,ii=De.Linear,ni=De.Quad,si=De.Cubic,ai=De.Quart,oi=De.Quint,ui=De.Strong,hi=De.Elastic,li=De.Back,fi=De.SteppedEase,pi=De.Bounce,ci=De.Sine,_i=De.Expo,di=De.Circ,mi={},gi=180/Math.PI,vi=Math.PI/180,yi=Math.atan2,Ti=/([A-Z])/g,xi=/(?:left|right|width|margin|padding|x)/i,wi=/[\s,\(]\S/,bi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Mi="transform",Oi=Mi+"Origin",ki="O,Moz,ms,Ms,Webkit".split(","),Ai=function(t,e,r){var i=(e||Hr).style,n=5;if(t in i&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(ki[n]+t in i););return n<0?null:(3===n?"ms":0<=n?ki[n]:"")+t},Ci={deg:1,rad:1,turn:1},Di={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Pi={clearProps:function(t,e,r,i,n){if("isFromStart"!==n.data){var s=t._pt=new or(t._pt,e,r,0,0,Ir);return s.u=i,s.pr=-10,s.tween=n,t._props.push(r),1}}},Si=[1,0,0,1,0,0],zi={},Ri=function(t,e){var r=t._gsap||new Ie(t);if("x"in r&&!e&&!r.uncache)return r;var i,n,s,a,o,u,h,l,f,p,c,_,d,m,g,v,y,T,x,w,b,M,O,k,A,C,D,P,S,z,R,E,F=t.style,B=r.scaleX<0,I="deg",L=kr(t,Oi)||"0";return i=n=s=u=h=l=f=p=c=0,a=o=1,r.svg=!(!t.getCTM||!Sr(t)),m=Ur(t,r.svg),r.svg&&(k=(!r.uncache||"0px 0px"===L)&&!e&&t.getAttribute("data-svg-origin"),Xr(t,k||L,!!k||r.originIsAbsolute,!1!==r.smooth,m)),_=r.xOrigin||0,d=r.yOrigin||0,m!==Si&&(T=m[0],x=m[1],w=m[2],b=m[3],i=M=m[4],n=O=m[5],6===m.length?(a=Math.sqrt(T*T+x*x),o=Math.sqrt(b*b+w*w),u=T||x?yi(x,T)*gi:0,(f=w||b?yi(w,b)*gi+u:0)&&(o*=Math.abs(Math.cos(f*vi))),r.svg&&(i-=_-(_*T+d*w),n-=d-(_*x+d*b))):(E=m[6],z=m[7],D=m[8],P=m[9],S=m[10],R=m[11],i=m[12],n=m[13],s=m[14],h=(g=yi(E,S))*gi,g&&(k=M*(v=Math.cos(-g))+D*(y=Math.sin(-g)),A=O*v+P*y,C=E*v+S*y,D=M*-y+D*v,P=O*-y+P*v,S=E*-y+S*v,R=z*-y+R*v,M=k,O=A,E=C),l=(g=yi(-w,S))*gi,g&&(v=Math.cos(-g),R=b*(y=Math.sin(-g))+R*v,T=k=T*v-D*y,x=A=x*v-P*y,w=C=w*v-S*y),u=(g=yi(x,T))*gi,g&&(k=T*(v=Math.cos(g))+x*(y=Math.sin(g)),A=M*v+O*y,x=x*v-T*y,O=O*v-M*y,T=k,M=A),h&&359.9<Math.abs(h)+Math.abs(u)&&(h=u=0,l=180-l),a=Y(Math.sqrt(T*T+x*x+w*w)),o=Y(Math.sqrt(O*O+E*E)),g=yi(M,O),f=2e-4<Math.abs(g)?g*gi:0,c=R?1/(R<0?-R:R):0),r.svg&&(k=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!Lr(kr(t,Mi)),k&&t.setAttribute("transform",k))),90<Math.abs(f)&&Math.abs(f)<270&&(B?(a*=-1,f+=u<=0?180:-180,u+=u<=0?180:-180):(o*=-1,f+=f<=0?180:-180)),r.x=i-((r.xPercent=i&&(r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+"px",r.y=n-((r.yPercent=n&&(r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+"px",r.z=s+"px",r.scaleX=Y(a),r.scaleY=Y(o),r.rotation=Y(u)+I,r.rotationX=Y(h)+I,r.rotationY=Y(l)+I,r.skewX=f+I,r.skewY=p+I,r.transformPerspective=c+"px",(r.zOrigin=parseFloat(L.split(" ")[2])||0)&&(F[Oi]=Ei(L)),r.xOffset=r.yOffset=0,r.force3D=Yt.force3D,r.renderTransform=r.svg?Ui:$r?Yi:Fi,r.uncache=0,r},Ei=function(t){return(t=t.split(" "))[0]+" "+t[1]},Fi=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Yi(t,e)},Bi="0deg",Ii="0px",Li=") ",Yi=function(t,e){var r=e||this,i=r.xPercent,n=r.yPercent,s=r.x,a=r.y,o=r.z,u=r.rotation,h=r.rotationY,l=r.rotationX,f=r.skewX,p=r.skewY,c=r.scaleX,_=r.scaleY,d=r.transformPerspective,m=r.force3D,g=r.target,v=r.zOrigin,y="",T="auto"===m&&t&&1!==t||!0===m;if(v&&(l!==Bi||h!==Bi)){var x,w=parseFloat(h)*vi,b=Math.sin(w),M=Math.cos(w);w=parseFloat(l)*vi,s=Nr(g,s,b*(x=Math.cos(w))*-v),a=Nr(g,a,-Math.sin(w)*-v),o=Nr(g,o,M*x*-v+v)}d!==Ii&&(y+="perspective("+d+Li),(i||n)&&(y+="translate("+i+"%, "+n+"%) "),!T&&s===Ii&&a===Ii&&o===Ii||(y+=o!==Ii||T?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+Li),u!==Bi&&(y+="rotate("+u+Li),h!==Bi&&(y+="rotateY("+h+Li),l!==Bi&&(y+="rotateX("+l+Li),f===Bi&&p===Bi||(y+="skew("+f+", "+p+Li),1===c&&1===_||(y+="scale("+c+", "+_+Li),g.style[Mi]=y||"translate(0, 0)"},Ui=function(t,e){var r,i,n,s,a,o=e||this,u=o.xPercent,h=o.yPercent,l=o.x,f=o.y,p=o.rotation,c=o.skewX,_=o.skewY,d=o.scaleX,m=o.scaleY,g=o.target,v=o.xOrigin,y=o.yOrigin,T=o.xOffset,x=o.yOffset,w=o.forceCSS,b=parseFloat(l),M=parseFloat(f);p=parseFloat(p),c=parseFloat(c),(_=parseFloat(_))&&(c+=_=parseFloat(_),p+=_),p||c?(p*=vi,c*=vi,r=Math.cos(p)*d,i=Math.sin(p)*d,n=Math.sin(p-c)*-m,s=Math.cos(p-c)*m,c&&(_*=vi,a=Math.tan(c-_),n*=a=Math.sqrt(1+a*a),s*=a,_&&(a=Math.tan(_),r*=a=Math.sqrt(1+a*a),i*=a)),r=Y(r),i=Y(i),n=Y(n),s=Y(s)):(r=d,s=m,i=n=0),(b&&!~(l+"").indexOf("px")||M&&!~(f+"").indexOf("px"))&&(b=Er(g,"x",l,"px"),M=Er(g,"y",f,"px")),(v||y||T||x)&&(b=Y(b+v-(v*r+y*n)+T),M=Y(M+y-(v*i+y*s)+x)),(u||h)&&(b=Y(b+u/100*(a=g.getBBox()).width),M=Y(M+h/100*a.height)),a="matrix("+r+","+i+","+n+","+s+","+b+","+M+")",g.setAttribute("transform",a),w&&(g.style[Mi]=a)};_("padding,margin,Width,Radius",function(e,r){var t="Right",i="Bottom",n="Left",o=(r<3?["Top",t,i,n]:["Top"+n,"Top"+t,i+t,i+n]).map(function(t){return r<2?e+t:"border"+t+e});Pi[1<r?"border"+e:e]=function(e,t,r,i,n){var s,a;if(arguments.length<4)return s=o.map(function(t){return Fr(e,t,r)}),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(i+"").split(" "),a={},o.forEach(function(t,e){return a[t]=s[e]=s[e]||s[(e-1)/2|0]}),e.init(t,a,n)}});var Xi,Ni,qi={name:"css",register:Ar,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,i,n){var s,a,o,u,h,l,f,p,c,_,d,m,g,v,y,T,x,w,b,M,O,k,A,C,D,P,S,z,R,E,F,B,I=this._props,L=t.style,Y=r.vars.startAt;for(f in Wr||Ar(),e)if("autoRound"!==f&&(a=e[f],!ue[f]||!Xe(f,e,r,i,t,n)))if(h=typeof a,l=Pi[f],"function"===h&&(h=typeof(a=a.call(r,i,t,n))),"string"===h&&~a.indexOf("random(")&&(a=et(a)),l)l(this,t,f,a,r)&&(y=1);else if("--"===f.substr(0,2))s=(getComputedStyle(t).getPropertyValue(f)+"").trim(),a+="",Oe.lastIndex=0,Oe.test(s)||(p=G(s),c=G(a)),c?p!==c&&(s=Er(t,f,s,c)+c):p&&(a+=p),this.add(L,"setProperty",s,a,i,n,0,0,f),I.push(f);else if("undefined"!==h){if(Y&&f in Y?(s="function"==typeof Y[f]?Y[f].call(r,i,t,n):Y[f],f in Yt.units&&!G(s)&&(s+=Yt.units[f]),U(s)&&~s.indexOf("random(")&&(s=et(s)),"="===(s+"").charAt(1)&&(s=Fr(t,f))):s=Fr(t,f),u=parseFloat(s),(_="string"===h&&"="===a.charAt(1)?+(a.charAt(0)+"1"):0)&&(a=a.substr(2)),o=parseFloat(a),f in bi&&("autoAlpha"===f&&(1===u&&"hidden"===Fr(t,"visibility")&&o&&(u=0),Rr(this,L,"visibility",u?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==f&&"transform"!==f&&~(f=bi[f]).indexOf(",")&&(f=f.split(",")[0])),d=f in mi)if(m||((g=t._gsap).renderTransform&&!e.parseTransform||Ri(t,e.parseTransform),v=!1!==e.smoothOrigin&&g.smooth,(m=this._pt=new or(this._pt,L,Mi,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===f)this._pt=new or(this._pt,g,"scaleY",g.scaleY,(_?_*o:o-g.scaleY)||0),I.push("scaleY",f),f+="X";else{if("transformOrigin"===f){B=F=E=void 0,E=(R=a).split(" "),F=E[0],B=E[1]||"50%","top"!==F&&"bottom"!==F&&"left"!==B&&"right"!==B||(R=F,F=B,B=R),E[0]=Di[F]||F,E[1]=Di[B]||B,a=E.join(" "),g.svg?Xr(t,a,0,v,0,this):((c=parseFloat(a.split(" ")[2])||0)!==g.zOrigin&&Rr(this,g,"zOrigin",g.zOrigin,c),Rr(this,L,f,Ei(s),Ei(a)));continue}if("svgOrigin"===f){Xr(t,a,1,v,0,this);continue}if(f in zi){T=this,x=g,w=f,b=u,O=_,S=A=k=void 0,C=360,D=U(M=a),P=parseFloat(M)*(D&&~M.indexOf("rad")?gi:1),z=b+(S=O?P*O:P-b)+"deg",D&&("short"===(k=M.split("_")[1])&&(S%=C)!=S%180&&(S+=S<0?C:-C),"cw"===k&&S<0?S=(S+36e9)%C-~~(S/C)*C:"ccw"===k&&0<S&&(S=(S-36e9)%C-~~(S/C)*C)),T._pt=A=new or(T._pt,x,w,b,S,_r),A.e=z,A.u="deg",T._props.push(w);continue}if("smoothOrigin"===f){Rr(this,g,"smooth",g.smooth,a);continue}if("force3D"===f){g[f]=a;continue}if("transform"===f){Vr(this,a,t);continue}}else f in L||(f=Ai(f)||f);if(d||(o||0===o)&&(u||0===u)&&!wi.test(a)&&f in L)o=o||0,(p=(s+"").substr((u+"").length))!==(c=G(a)||(f in Yt.units?Yt.units[f]:p))&&(u=Er(t,f,s,c)),this._pt=new or(this._pt,d?g:L,f,u,_?_*o:o-u,d||"px"!==c&&"zIndex"!==f||!1===e.autoRound?cr:mr),this._pt.u=c||0,p!==c&&"%"!==c&&(this._pt.b=s,this._pt.r=dr);else if(f in L)Br.call(this,t,f,s,a);else{if(!(f in t)){X(f,a);continue}this.add(t,f,s||t[f],a,i,n)}I.push(f)}y&&ar(this)},get:Fr,aliases:bi,getSetter:function(t,e,r){var i=bi[e];return i&&i.indexOf(",")<0&&(e=i),e in mi&&e!==Oi&&(t._gsap.x||Fr(t,"x"))?r&&Zr===r?"scale"===e?wr:xr:(Zr=r||{})&&("scale"===e?br:Mr):t.style&&!n(t.style[e])?yr:~e.indexOf("-")?Tr:Ke(t,e)},core:{_removeProperty:zr,_getMatrix:Ur}};pr.utils.checkPrefix=Ai,Ni=_("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Xi="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){mi[t]=1}),_(Xi,function(t){Yt.units[t]="deg",zi[t]=1}),bi[Ni[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Xi,_("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){var e=t.split(":");bi[e[1]]=Ni[e[0]]}),_("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Yt.units[t]="px"}),pr.registerPlugin(qi);var Vi=pr.registerPlugin(qi)||pr,ji=Vi.core.Tween;t.Back=li,t.Bounce=pi,t.CSSPlugin=qi,t.Circ=di,t.Cubic=si,t.Elastic=hi,t.Expo=_i,t.Linear=ii,t.Power0=Jr,t.Power1=Kr,t.Power2=ti,t.Power3=ei,t.Power4=ri,t.Quad=ni,t.Quart=ai,t.Quint=oi,t.Sine=ci,t.SteppedEase=fi,t.Strong=ui,t.TimelineLite=Ue,t.TimelineMax=Ue,t.TweenLite=Ge,t.TweenMax=ji,t.default=Vi,t.gsap=Vi,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default});
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t,l,h,e,P,x,b,w,g,i,y,O,v,T,c,p,m,r;_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(r,_,v){var d=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},m=function(t,e,i){var r,n,s=t.cycle;for(r in s)n=s[r],t[r]="function"==typeof n?n(i,e[i],e):n[i%n.length];delete t.cycle},g=function(t){if("function"==typeof t)return t;var p="object"==typeof t?t:{each:t},d=p.ease,m=p.from||0,g=p.base||0,y={},v=isNaN(m),T=p.axis,x={center:.5,end:1}[m]||0;return function(t,e,i){var r,n,s,a,o,l,h,_,u,f=(i||p).length,c=y[f];if(!c){if(!(u="auto"===p.grid?0:(p.grid||[1/0])[0])){for(h=-1/0;h<(h=i[u++].getBoundingClientRect().left)&&u<f;);u--}for(c=y[f]=[],r=v?Math.min(u,f)*x-.5:m%u,n=v?f*x/u-.5:m/u|0,_=1/(h=0),l=0;l<f;l++)s=l%u-r,a=n-(l/u|0),c[l]=o=T?Math.abs("y"===T?a:s):Math.sqrt(s*s+a*a),h<o&&(h=o),o<_&&(_=o);c.max=h-_,c.min=_,c.v=f=p.amount||p.each*(f<u?f-1:T?"y"===T?f/u:u:Math.max(u,f/u))||0,c.b=f<0?g-f:g}return f=(c[t]-c.min)/c.max,c.b+(d?d.getRatio(f):f)*c.v}},y=function(t,e,i){v.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=y.prototype.render},T=1e-8,x=v._internals,b=x.isSelector,w=x.isArray,t=y.prototype=v.to({},.1,{}),P=[];y.version="2.1.3",t.constructor=y,t.kill()._gc=!1,y.killTweensOf=y.killDelayedCallsTo=v.killTweensOf,y.getTweensOf=v.getTweensOf,y.lagSmoothing=v.lagSmoothing,y.ticker=v.ticker,y.render=v.render,y.distribute=g,t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),v.prototype.invalidate.call(this)},t.updateTo=function(t,e){var i,r=this,n=r.ratio,s=r.vars.immediateRender||t.immediateRender;for(i in e&&r._startTime<r._timeline._time&&(r._startTime=r._timeline._time,r._uncache(!1),r._gc?r._enabled(!0,!1):r._timeline.insert(r,r._startTime-r._delay)),t)r.vars[i]=t[i];if(r._initted||s)if(e)r._initted=!1,s&&r.render(0,!0,!0);else if(r._gc&&r._enabled(!0,!1),r._notifyPluginsOfEnabled&&r._firstPT&&v._onPluginEvent("_onDisable",r),.998<r._time/r._duration){var a=r._totalTime;r.render(0,!0,!1),r._initted=!1,r.render(a,!0,!1)}else if(r._initted=!1,r._init(),0<r._time||s)for(var o,l=1/(1-n),h=r._firstPT;h;)o=h.s+h.c,h.c*=l,h.s=o-h.c,h=h._next;return r},t.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,n,s,a,o,l,h,_,u,f=this,c=f._dirty?f.totalDuration():f._totalDuration,p=f._time,d=f._totalTime,m=f._cycle,g=f._duration,y=f._rawPrevTime;if(c-T<=t&&0<=t?(f._totalTime=c,f._cycle=f._repeat,f._yoyo&&0!=(1&f._cycle)?(f._time=0,f.ratio=f._ease._calcEnd?f._ease.getRatio(0):0):(f._time=g,f.ratio=f._ease._calcEnd?f._ease.getRatio(1):1),f._reversed||(r=!0,n="onComplete",i=i||f._timeline.autoRemoveChildren),0===g&&(f._initted||!f.vars.lazy||i)&&(f._startTime===f._timeline._duration&&(t=0),(y<0||t<=0&&-T<=t||y===T&&"isPause"!==f.data)&&y!==t&&(i=!0,T<y&&(n="onReverseComplete")),f._rawPrevTime=_=!e||t||y===t?t:T)):t<T?(f._totalTime=f._time=f._cycle=0,f.ratio=f._ease._calcEnd?f._ease.getRatio(0):0,(0!==d||0===g&&0<y)&&(n="onReverseComplete",r=f._reversed),-T<t?t=0:t<0&&(f._active=!1,0===g&&(f._initted||!f.vars.lazy||i)&&(0<=y&&(i=!0),f._rawPrevTime=_=!e||t||y===t?t:T)),f._initted||(i=!0)):(f._totalTime=f._time=t,0!==f._repeat&&(a=g+f._repeatDelay,f._cycle=f._totalTime/a>>0,0!==f._cycle&&f._cycle===f._totalTime/a&&d<=t&&f._cycle--,f._time=f._totalTime-f._cycle*a,f._yoyo&&0!=(1&f._cycle)&&(f._time=g-f._time,(u=f._yoyoEase||f.vars.yoyoEase)&&(f._yoyoEase||(!0!==u||f._initted?f._yoyoEase=u=!0===u?f._ease:u instanceof Ease?u:Ease.map[u]:(u=f.vars.ease,f._yoyoEase=u=u?u instanceof Ease?u:"function"==typeof u?new Ease(u,f.vars.easeParams):Ease.map[u]||v.defaultEase:v.defaultEase)),f.ratio=u?1-u.getRatio((g-f._time)/g):0)),f._time>g?f._time=g:f._time<0&&(f._time=0)),f._easeType&&!u?(o=f._time/g,(1===(l=f._easeType)||3===l&&.5<=o)&&(o=1-o),3===l&&(o*=2),1===(h=f._easePower)?o*=o:2===h?o*=o*o:3===h?o*=o*o*o:4===h&&(o*=o*o*o*o),f.ratio=1===l?1-o:2===l?o:f._time/g<.5?o/2:1-o/2):u||(f.ratio=f._ease.getRatio(f._time/g))),p!==f._time||i||m!==f._cycle){if(!f._initted){if(f._init(),!f._initted||f._gc)return;if(!i&&f._firstPT&&(!1!==f.vars.lazy&&f._duration||f.vars.lazy&&!f._duration))return f._time=p,f._totalTime=d,f._rawPrevTime=y,f._cycle=m,x.lazyTweens.push(f),void(f._lazy=[t,e]);!f._time||r||u?r&&this._ease._calcEnd&&!u&&(f.ratio=f._ease.getRatio(0===f._time?0:1)):f.ratio=f._ease.getRatio(f._time/g)}for(!1!==f._lazy&&(f._lazy=!1),f._active||!f._paused&&f._time!==p&&0<=t&&(f._active=!0),0===d&&(2===f._initted&&0<t&&f._init(),f._startAt&&(0<=t?f._startAt.render(t,!0,i):n||(n="_dummyGS")),f.vars.onStart&&(0!==f._totalTime||0===g)&&(e||f._callback("onStart"))),s=f._firstPT;s;)s.f?s.t[s.p](s.c*f.ratio+s.s):s.t[s.p]=s.c*f.ratio+s.s,s=s._next;f._onUpdate&&(t<0&&f._startAt&&f._startTime&&f._startAt.render(t,!0,i),e||(f._totalTime!==d||n)&&f._callback("onUpdate")),f._cycle!==m&&(e||f._gc||f.vars.onRepeat&&f._callback("onRepeat")),n&&(!f._gc||i)&&(t<0&&f._startAt&&!f._onUpdate&&f._startTime&&f._startAt.render(t,!0,i),r&&(f._timeline.autoRemoveChildren&&f._enabled(!1,!1),f._active=!1),!e&&f.vars[n]&&f._callback(n),0===g&&f._rawPrevTime===T&&_!==T&&(f._rawPrevTime=0))}else d!==f._totalTime&&f._onUpdate&&(e||f._callback("onUpdate"))},y.to=function(t,e,i){return new y(t,e,i)},y.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new y(t,e,i)},y.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new y(t,e,r)},y.staggerTo=y.allTo=function(t,e,i,r,n,s,a){var o,l,h,_,u=[],f=g(i.stagger||r),c=i.cycle,p=(i.startAt||P).cycle;for(w(t)||("string"==typeof t&&(t=v.selector(t)||t),b(t)&&(t=d(t))),o=(t=t||[]).length-1,h=0;h<=o;h++){for(_ in l={},i)l[_]=i[_];if(c&&(m(l,t,h),null!=l.duration&&(e=l.duration,delete l.duration)),p){for(_ in p=l.startAt={},i.startAt)p[_]=i.startAt[_];m(l.startAt,t,h)}l.delay=f(h,t[h],t)+(l.delay||0),h===o&&n&&(l.onComplete=function(){i.onComplete&&i.onComplete.apply(i.onCompleteScope||this,arguments),n.apply(a||i.callbackScope||this,s||P)}),u[h]=new y(t[h],e,l)}return u},y.staggerFrom=y.allFrom=function(t,e,i,r,n,s,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,y.staggerTo(t,e,i,r,n,s,a)},y.staggerFromTo=y.allFromTo=function(t,e,i,r,n,s,a,o){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,y.staggerTo(t,e,r,n,s,a,o)},y.delayedCall=function(t,e,i,r,n){return new y(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:n,overwrite:0})},y.set=function(t,e){return new y(t,0,e)},y.isTweening=function(t){return 0<v.getTweensOf(t,!0).length};var s=function(t,e){for(var i=[],r=0,n=t._first;n;)n instanceof v?i[r++]=n:(e&&(i[r++]=n),r=(i=i.concat(s(n,e))).length),n=n._next;return i},u=y.getAllTweens=function(t){return s(r._rootTimeline,t).concat(s(r._rootFramesTimeline,t))};y.killAll=function(t,e,i,r){null==e&&(e=!0),null==i&&(i=!0);var n,s,a,o=u(0!=r),l=o.length,h=e&&i&&r;for(a=0;a<l;a++)s=o[a],(h||s instanceof _||(n=s.target===s.vars.onComplete)&&i||e&&!n)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},y.killChildTweensOf=function(t,e){if(null!=t){var i,r,n,s,a,o=x.tweenLookup;if("string"==typeof t&&(t=v.selector(t)||t),b(t)&&(t=d(t)),w(t))for(s=t.length;-1<--s;)y.killChildTweensOf(t[s],e);else{for(n in i=[],o)for(r=o[n].target.parentNode;r;)r===t&&(i=i.concat(o[n].tweens)),r=r.parentNode;for(a=i.length,s=0;s<a;s++)e&&i[s].totalTime(i[s].totalDuration()),i[s]._enabled(!1,!1)}}};var n=function(t,e,i,r){e=!1!==e,i=!1!==i;for(var n,s,a=u(r=!1!==r),o=e&&i&&r,l=a.length;-1<--l;)s=a[l],(o||s instanceof _||(n=s.target===s.vars.onComplete)&&i||e&&!n)&&s.paused(t)};return y.pauseAll=function(t,e,i){n(!0,t,e,i)},y.resumeAll=function(t,e,i){n(!1,t,e,i)},y.globalTimeScale=function(t){var e=r._rootTimeline,i=v.ticker.time;return arguments.length?(t=t||T,e._startTime=i-(i-e._startTime)*e._timeScale/t,e=r._rootFramesTimeline,i=v.ticker.frame,e._startTime=i-(i-e._startTime)*e._timeScale/t,e._timeScale=r._rootTimeline._timeScale=t,t):e._timeScale},t.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this.duration()?this._time/this._duration:this.ratio},t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},t.time=function(t,e){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var i=this._duration,r=this._cycle,n=r*(i+this._repeatDelay);return i<t&&(t=i),this.totalTime(this._yoyo&&1&r?i-t+n:this._repeat?t+n:t,e)},t.duration=function(t){return arguments.length?r.prototype.duration.call(this,t):this._duration},t.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},y},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(u,f,p){var d=function(t){f.call(this,t);var e,i,r=this,n=r.vars;for(i in r._labels={},r.autoRemoveChildren=!!n.autoRemoveChildren,r.smoothChildTiming=!!n.smoothChildTiming,r._sortChildren=!0,r._onUpdate=n.onUpdate,n)e=n[i],c(e)&&-1!==e.join("").indexOf("{self}")&&(n[i]=r._swapSelfInParams(e));c(n.tweens)&&r.add(n.tweens,0,n.align,n.stagger)},g=1e-8,t=p._internals,e=d._internals={},m=t.isSelector,c=t.isArray,y=t.lazyTweens,v=t.lazyRender,a=_gsScope._gsDefine.globals,T=function(t){var e,i={};for(e in t)i[e]=t[e];return i},x=function(t,e,i){var r,n,s=t.cycle;for(r in s)n=s[r],t[r]="function"==typeof n?n(i,e[i],e):n[i%n.length];delete t.cycle},s=e.pauseCallback=function(){},h=function(t,e,i,r){var n="immediateRender";return n in e||(e[n]=!(i&&!1===i[n]||r)),e},b=function(t){if("function"==typeof t)return t;var p="object"==typeof t?t:{each:t},d=p.ease,m=p.from||0,g=p.base||0,y={},v=isNaN(m),T=p.axis,x={center:.5,end:1}[m]||0;return function(t,e,i){var r,n,s,a,o,l,h,_,u,f=(i||p).length,c=y[f];if(!c){if(!(u="auto"===p.grid?0:(p.grid||[1/0])[0])){for(h=-1/0;h<(h=i[u++].getBoundingClientRect().left)&&u<f;);u--}for(c=y[f]=[],r=v?Math.min(u,f)*x-.5:m%u,n=v?f*x/u-.5:m/u|0,_=1/(h=0),l=0;l<f;l++)s=l%u-r,a=n-(l/u|0),c[l]=o=T?Math.abs("y"===T?a:s):Math.sqrt(s*s+a*a),h<o&&(h=o),o<_&&(_=o);c.max=h-_,c.min=_,c.v=f=p.amount||p.each*(f<u?f-1:T?"y"===T?f/u:u:Math.max(u,f/u))||0,c.b=f<0?g-f:g}return f=(c[t]-c.min)/c.max,c.b+(d?d.getRatio(f):f)*c.v}},i=d.prototype=new f;return d.version="2.1.3",d.distribute=b,i.constructor=d,i.kill()._gc=i._forcingPlayhead=i._hasPause=!1,i.to=function(t,e,i,r){var n=i.repeat&&a.TweenMax||p;return e?this.add(new n(t,e,i),r):this.set(t,i,r)},i.from=function(t,e,i,r){return this.add((i.repeat&&a.TweenMax||p).from(t,e,h(0,i)),r)},i.fromTo=function(t,e,i,r,n){var s=r.repeat&&a.TweenMax||p;return r=h(0,r,i),e?this.add(s.fromTo(t,e,i,r),n):this.set(t,r,n)},i.staggerTo=function(t,e,i,r,n,s,a,o){var l,h,_=new d({onComplete:s,onCompleteParams:a,callbackScope:o,smoothChildTiming:this.smoothChildTiming}),u=b(i.stagger||r),f=i.startAt,c=i.cycle;for("string"==typeof t&&(t=p.selector(t)||t),m(t=t||[])&&(t=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i}(t)),h=0;h<t.length;h++)l=T(i),f&&(l.startAt=T(f),f.cycle&&x(l.startAt,t,h)),c&&(x(l,t,h),null!=l.duration&&(e=l.duration,delete l.duration)),_.to(t[h],e,l,u(h,t[h],t));return this.add(_,n)},i.staggerFrom=function(t,e,i,r,n,s,a,o){return i.runBackwards=!0,this.staggerTo(t,e,h(0,i),r,n,s,a,o)},i.staggerFromTo=function(t,e,i,r,n,s,a,o,l){return r.startAt=i,this.staggerTo(t,e,h(0,r,i),n,s,a,o,l)},i.call=function(t,e,i,r){return this.add(p.delayedCall(0,t,e,i),r)},i.set=function(t,e,i){return this.add(new p(t,0,h(0,e,null,!0)),i)},d.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,r,n,s,a=new d(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,n=o._first;n;)s=n._next,e&&n instanceof p&&n.target===n.vars.onComplete||((r=n._startTime-n._delay)<0&&(i=1),a.add(n,r)),n=s;return o.add(a,0),i&&a.totalDuration(),a},i.add=function(t,e,i,r){var n,s,a,o,l,h,_=this;if("number"!=typeof e&&(e=_._parseTimeOrLabel(e,0,!0,t)),!(t instanceof u)){if(t instanceof Array||t&&t.push&&c(t)){for(i=i||"normal",r=r||0,n=e,s=t.length,a=0;a<s;a++)c(o=t[a])&&(o=new d({tweens:o})),_.add(o,n),"string"!=typeof o&&"function"!=typeof o&&("sequence"===i?n=o._startTime+o.totalDuration()/o._timeScale:"start"===i&&(o._startTime-=o.delay())),n+=r;return _._uncache(!0)}if("string"==typeof t)return _.addLabel(t,e);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=p.delayedCall(0,t)}if(f.prototype.add.call(_,t,e),(t._time||!t._duration&&t._initted)&&(n=(_.rawTime()-t._startTime)*t._timeScale,(!t._duration||1e-5<Math.abs(Math.max(0,Math.min(t.totalDuration(),n)))-t._totalTime)&&t.render(n,!1,!1)),(_._gc||_._time===_._duration)&&!_._paused&&_._duration<_.duration())for(h=(l=_).rawTime()>t._startTime;l._timeline;)h&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,!1),l=l._timeline;return _},i.remove=function(t){if(t instanceof u){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?u._rootFramesTimeline:u._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&c(t)){for(var i=t.length;-1<--i;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},i._remove=function(t,e){return f.prototype._remove.call(this,t,e),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},i.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},i.insert=i.insertMultiple=function(t,e,i,r){return this.add(t,e||0,i,r)},i.appendMultiple=function(t,e,i,r){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,r)},i.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},i.addPause=function(t,e,i,r){var n=p.delayedCall(0,s,i,r||this);return n.vars.onComplete=n.vars.onReverseComplete=e,n.data="isPause",this._hasPause=!0,this.add(n,t)},i.removeLabel=function(t){return delete this._labels[t],this},i.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},i._parseTimeOrLabel=function(t,e,i,r){var n,s;if(r instanceof u&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&c(r)))for(s=r.length;-1<--s;)r[s]instanceof u&&r[s].timeline===this&&this.remove(r[s]);if(n="number"!=typeof t||e?99999999999<this.duration()?this.recent().endTime(!1):this._duration:0,"string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-n:0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=n);else{if(-1===(s=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=n+e:e:this._labels[t]+e;e=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=1<s?this._parseTimeOrLabel(t.substr(0,s-1),0,i):n}return Number(t)+e},i.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(t,e){return this.play(t,e)},i.gotoAndStop=function(t,e){return this.pause(t,e)},i.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,s,a,o,l,h,_,u=this,f=u._time,c=u._dirty?u.totalDuration():u._totalDuration,p=u._startTime,d=u._timeScale,m=u._paused;if(f!==u._time&&(t+=u._time-f),u._hasPause&&!u._forcingPlayhead&&!e){if(f<t)for(r=u._first;r&&r._startTime<=t&&!l;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===u._rawPrevTime||(l=r),r=r._next;else for(r=u._last;r&&r._startTime>=t&&!l;)r._duration||"isPause"===r.data&&0<r._rawPrevTime&&(l=r),r=r._prev;l&&(u._time=u._totalTime=t=l._startTime,_=u._startTime+(u._reversed?u._duration-t:t)/u._timeScale)}if(c-g<=t&&0<=t)u._totalTime=u._time=c,u._reversed||u._hasPausedChild()||(n=!0,a="onComplete",o=!!u._timeline.autoRemoveChildren,0===u._duration&&(t<=0&&-g<=t||u._rawPrevTime<0||u._rawPrevTime===g)&&u._rawPrevTime!==t&&u._first&&(o=!0,u._rawPrevTime>g&&(a="onReverseComplete"))),u._rawPrevTime=u._duration||!e||t||u._rawPrevTime===t?t:g,t=c+1e-4;else if(t<g)if(u._totalTime=u._time=0,-g<t&&(t=0),(0!==f||0===u._duration&&u._rawPrevTime!==g&&(0<u._rawPrevTime||t<0&&0<=u._rawPrevTime))&&(a="onReverseComplete",n=u._reversed),t<0)u._active=!1,u._timeline.autoRemoveChildren&&u._reversed?(o=n=!0,a="onReverseComplete"):0<=u._rawPrevTime&&u._first&&(o=!0),u._rawPrevTime=t;else{if(u._rawPrevTime=u._duration||!e||t||u._rawPrevTime===t?t:g,0===t&&n)for(r=u._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;t=0,u._initted||(o=!0)}else u._totalTime=u._time=u._rawPrevTime=t;if(u._time!==f&&u._first||i||o||l){if(u._initted||(u._initted=!0),u._active||!u._paused&&u._time!==f&&0<t&&(u._active=!0),0===f&&u.vars.onStart&&(0===u._time&&u._duration||e||u._callback("onStart")),f<=(h=u._time))for(r=u._first;r&&(s=r._next,h===u._time&&(!u._paused||m));)(r._active||r._startTime<=h&&!r._paused&&!r._gc)&&(l===r&&(u.pause(),u._pauseTime=_),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;else for(r=u._last;r&&(s=r._prev,h===u._time&&(!u._paused||m));){if(r._active||r._startTime<=f&&!r._paused&&!r._gc){if(l===r){for(l=r._prev;l&&l.endTime()>u._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,u.pause(),u._pauseTime=_}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)}r=s}u._onUpdate&&(e||(y.length&&v(),u._callback("onUpdate"))),a&&(u._gc||(p===u._startTime||d!==u._timeScale)&&(0===u._time||c>=u.totalDuration())&&(n&&(y.length&&v(),u._timeline.autoRemoveChildren&&u._enabled(!1,!1),u._active=!1),!e&&u.vars[a]&&u._callback(a)))}},i._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof d&&t._hasPausedChild())return!0;t=t._next}return!1},i.getChildren=function(t,e,i,r){r=r||-9999999999;for(var n=[],s=this._first,a=0;s;)s._startTime<r||(s instanceof p?!1!==e&&(n[a++]=s):(!1!==i&&(n[a++]=s),!1!==t&&(a=(n=n.concat(s.getChildren(!0,e,i))).length))),s=s._next;return n},i.getTweensOf=function(t,e){var i,r,n=this._gc,s=[],a=0;for(n&&this._enabled(!0,!0),r=(i=p.getTweensOf(t)).length;-1<--r;)(i[r].timeline===this||e&&this._contains(i[r]))&&(s[a++]=i[r]);return n&&this._enabled(!1,!0),s},i.recent=function(){return this._recent},i._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},i.shiftChildren=function(t,e,i){i=i||0;for(var r,n=this._first,s=this._labels;n;)n._startTime>=i&&(n._startTime+=t),n=n._next;if(e)for(r in s)s[r]>=i&&(s[r]+=t);return this._uncache(!0)},i._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),r=i.length,n=!1;-1<--r;)i[r]._kill(t,e)&&(n=!0);return n},i.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;-1<--i;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return u.prototype.invalidate.call(this)},i._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return f.prototype._enabled.call(this,t,e)},i.totalTime=function(t,e,i){this._forcingPlayhead=!0;var r=u.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},i.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(t){if(arguments.length)return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this;if(this._dirty){for(var e,i,r=0,n=this,s=n._last,a=999999999999;s;)e=s._prev,s._dirty&&s.totalDuration(),s._startTime>a&&n._sortChildren&&!s._paused&&!n._calculatingDuration?(n._calculatingDuration=1,n.add(s,s._startTime-s._delay),n._calculatingDuration=0):a=s._startTime,s._startTime<0&&!s._paused&&(r-=s._startTime,n._timeline.smoothChildTiming&&(n._startTime+=s._startTime/n._timeScale,n._time-=s._startTime,n._totalTime-=s._startTime,n._rawPrevTime-=s._startTime),n.shiftChildren(-s._startTime,!1,-9999999999),a=0),r<(i=s._startTime+s._totalDuration/s._timeScale)&&(r=i),s=e;n._duration=n._totalDuration=r,n._dirty=!1}return this._totalDuration},i.paused=function(t){if(!1===t&&this._paused)for(var e=this._first;e;)e._startTime===this._time&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return u.prototype.paused.apply(this,arguments)},i.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===u._rootFramesTimeline},i.rawTime=function(t){return t&&(this._paused||this._repeat&&0<this.time()&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,o,t){var i=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},R=1e-8,r=o._internals,A=r.lazyTweens,C=r.lazyRender,l=_gsScope._gsDefine.globals,h=new t(null,null,1,0),n=i.prototype=new e;return n.constructor=i,n.kill()._gc=!1,i.version="2.1.3",n.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},n.addCallback=function(t,e,i,r){return this.add(o.delayedCall(0,t,i,r),e)},n.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),r=i.length,n=this._parseTimeOrLabel(e);-1<--r;)i[r]._startTime===n&&i[r]._enabled(!1,!1);return this},n.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},n.tweenTo=function(t,e){e=e||{};var i,r,n,s={ease:h,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},a=e.repeat&&l.TweenMax||o;for(r in e)s[r]=e[r];return s.time=this._parseTimeOrLabel(t),i=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,n=new a(this,i,s),s.onStart=function(){n.target.paused(!0),n.vars.time===n.target.time()||i!==n.duration()||n.isFromTo||n.duration(Math.abs(n.vars.time-n.target.time())/n.target._timeScale).render(n.time(),!0,!0),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||n,e.onStartParams||[])},n},n.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var r=this.tweenTo(e,i);return r.isFromTo=1,r.duration(Math.abs(r.vars.time-t)/this._timeScale||.001)},n.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var r,n,s,a,o,l,h,_,u,f=this,c=f._time,p=f._dirty?f.totalDuration():f._totalDuration,d=f._duration,m=f._totalTime,g=f._startTime,y=f._timeScale,v=f._rawPrevTime,T=f._paused,x=f._cycle;if(c!==f._time&&(t+=f._time-c),p-R<=t&&0<=t)f._locked||(f._totalTime=p,f._cycle=f._repeat),f._reversed||f._hasPausedChild()||(n=!0,a="onComplete",o=!!f._timeline.autoRemoveChildren,0===f._duration&&(t<=0&&-R<=t||v<0||v===R)&&v!==t&&f._first&&(o=!0,R<v&&(a="onReverseComplete"))),f._rawPrevTime=f._duration||!e||t||f._rawPrevTime===t?t:R,f._yoyo&&1&f._cycle?f._time=t=0:t=(f._time=d)+1e-4;else if(t<R)if(f._locked||(f._totalTime=f._cycle=0),f._time=0,-R<t&&(t=0),(0!==c||0===d&&v!==R&&(0<v||t<0&&0<=v)&&!f._locked)&&(a="onReverseComplete",n=f._reversed),t<0)f._active=!1,f._timeline.autoRemoveChildren&&f._reversed?(o=n=!0,a="onReverseComplete"):0<=v&&f._first&&(o=!0),f._rawPrevTime=t;else{if(f._rawPrevTime=d||!e||t||f._rawPrevTime===t?t:R,0===t&&n)for(r=f._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;t=0,f._initted||(o=!0)}else 0===d&&v<0&&(o=!0),f._time=f._rawPrevTime=t,f._locked||(f._totalTime=t,0!==f._repeat&&(l=d+f._repeatDelay,f._cycle=f._totalTime/l>>0,f._cycle&&f._cycle===f._totalTime/l&&m<=t&&f._cycle--,f._time=f._totalTime-f._cycle*l,f._yoyo&&1&f._cycle&&(f._time=d-f._time),f._time>d?t=(f._time=d)+1e-4:f._time<0?f._time=t=0:t=f._time));if(f._hasPause&&!f._forcingPlayhead&&!e){if(c<(t=f._time)||f._repeat&&x!==f._cycle)for(r=f._first;r&&r._startTime<=t&&!h;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===f._rawPrevTime||(h=r),r=r._next;else for(r=f._last;r&&r._startTime>=t&&!h;)r._duration||"isPause"===r.data&&0<r._rawPrevTime&&(h=r),r=r._prev;h&&(u=f._startTime+(f._reversed?f._duration-h._startTime:h._startTime)/f._timeScale,h._startTime<d&&(f._time=f._rawPrevTime=t=h._startTime,f._totalTime=t+f._cycle*(f._totalDuration+f._repeatDelay)))}if(f._cycle!==x&&!f._locked){var b=f._yoyo&&0!=(1&x),w=b===(f._yoyo&&0!=(1&f._cycle)),P=f._totalTime,O=f._cycle,S=f._rawPrevTime,k=f._time;if(f._totalTime=x*d,f._cycle<x?b=!b:f._totalTime+=d,f._time=c,f._rawPrevTime=0===d?v-1e-4:v,f._cycle=x,f._locked=!0,c=b?0:d,f.render(c,e,0===d),e||f._gc||f.vars.onRepeat&&(f._cycle=O,f._locked=!1,f._callback("onRepeat")),c!==f._time)return;if(w&&(f._cycle=x,f._locked=!0,c=b?d+1e-4:-1e-4,f.render(c,!0,!1)),f._locked=!1,f._paused&&!T)return;f._time=k,f._totalTime=P,f._cycle=O,f._rawPrevTime=S}if(f._time!==c&&f._first||i||o||h){if(f._initted||(f._initted=!0),f._active||!f._paused&&f._totalTime!==m&&0<t&&(f._active=!0),0===m&&f.vars.onStart&&(0===f._totalTime&&f._totalDuration||e||f._callback("onStart")),c<=(_=f._time))for(r=f._first;r&&(s=r._next,_===f._time&&(!f._paused||T));)(r._active||r._startTime<=f._time&&!r._paused&&!r._gc)&&(h===r&&(f.pause(),f._pauseTime=u),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s;else for(r=f._last;r&&(s=r._prev,_===f._time&&(!f._paused||T));){if(r._active||r._startTime<=c&&!r._paused&&!r._gc){if(h===r){for(h=r._prev;h&&h.endTime()>f._time;)h.render(h._reversed?h.totalDuration()-(t-h._startTime)*h._timeScale:(t-h._startTime)*h._timeScale,e,i),h=h._prev;h=null,f.pause(),f._pauseTime=u}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)}r=s}f._onUpdate&&(e||(A.length&&C(),f._callback("onUpdate"))),a&&(f._locked||f._gc||(g===f._startTime||y!==f._timeScale)&&(0===f._time||p>=f.totalDuration())&&(n&&(A.length&&C(),f._timeline.autoRemoveChildren&&f._enabled(!1,!1),f._active=!1),!e&&f.vars[a]&&f._callback(a)))}else m!==f._totalTime&&f._onUpdate&&(e||f._callback("onUpdate"))},n.getActive=function(t,e,i){var r,n,s=[],a=this.getChildren(t||null==t,e||null==t,!!i),o=0,l=a.length;for(r=0;r<l;r++)(n=a[r]).isActive()&&(s[o++]=n);return s},n.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),r=i.length;for(e=0;e<r;e++)if(i[e].time>t)return i[e].name;return null},n.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;-1<--i;)if(e[i].time<t)return e[i].name;return null},n.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},n.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},n.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},n.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},n.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},n.time=function(t,e){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var i=this._duration,r=this._cycle,n=r*(i+this._repeatDelay);return i<t&&(t=i),this.totalTime(this._yoyo&&1&r?i-t+n:this._repeat?t+n:t,e)},n.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},n.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},n.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+R)},i},!0),P=180/Math.PI,x=[],b=[],w=[],g={},i=_gsScope._gsDefine.globals,y=function(t,e,i,r){i===r&&(i=r-(r-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=r,this.da=r-t,this.ca=i-t,this.ba=e-t},O=function(t,e,i,r){var n={a:t},s={},a={},o={c:r},l=(t+e)/2,h=(e+i)/2,_=(i+r)/2,u=(l+h)/2,f=(h+_)/2,c=(f-u)/8;return n.b=l+(t-l)/4,s.b=u+c,n.c=s.a=(n.b+s.b)/2,s.c=a.a=(u+f)/2,a.b=f-c,o.b=_+(r-_)/4,a.c=o.a=(a.b+o.b)/2,[n,s,a,o]},v=function(t,e,i,r,n){var s,a,o,l,h,_,u,f,c,p,d,m,g,y=t.length-1,v=0,T=t[0].a;for(s=0;s<y;s++)a=(h=t[v]).a,o=h.d,l=t[v+1].d,f=n?(d=x[s],g=((m=b[s])+d)*e*.25/(r?.5:w[s]||.5),o-((_=o-(o-a)*(r?.5*e:0!==d?g/d:0))+(((u=o+(l-o)*(r?.5*e:0!==m?g/m:0))-_)*(3*d/(d+m)+.5)/4||0))):o-((_=o-(o-a)*e*.5)+(u=o+(l-o)*e*.5))/2,_+=f,u+=f,h.c=c=_,h.b=0!==s?T:T=h.a+.6*(h.c-h.a),h.da=o-a,h.ca=c-a,h.ba=T-a,i?(p=O(a,T,c,o),t.splice(v,1,p[0],p[1],p[2],p[3]),v+=4):v++,T=u;(h=t[v]).b=T,h.c=T+.4*(h.d-T),h.da=h.d-h.a,h.ca=h.c-h.a,h.ba=T-h.a,i&&(p=O(h.a,T,h.c,h.d),t.splice(v,1,p[0],p[1],p[2],p[3]))},T=function(t,e,i,r){var n,s,a,o,l,h,_=[];if(r)for(s=(t=[r].concat(t)).length;-1<--s;)"string"==typeof(h=t[s][e])&&"="===h.charAt(1)&&(t[s][e]=r[e]+Number(h.charAt(0)+h.substr(2)));if((n=t.length-2)<0)return _[0]=new y(t[0][e],0,0,t[0][e]),_;for(s=0;s<n;s++)a=t[s][e],o=t[s+1][e],_[s]=new y(a,0,0,o),i&&(l=t[s+2][e],x[s]=(x[s]||0)+(o-a)*(o-a),b[s]=(b[s]||0)+(l-o)*(l-o));return _[s]=new y(t[s][e],0,0,t[s+1][e]),_},c=function(t,e,i,r,n,s){var a,o,l,h,_,u,f,c,p={},d=[],m=s||t[0];for(o in n="string"==typeof n?","+n+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])d.push(o);if(1<t.length){for(c=t[t.length-1],f=!0,a=d.length;-1<--a;)if(o=d[a],.05<Math.abs(m[o]-c[o])){f=!1;break}f&&(t=t.concat(),s&&t.unshift(s),t.push(t[1]),s=t[t.length-3])}for(x.length=b.length=w.length=0,a=d.length;-1<--a;)o=d[a],g[o]=-1!==n.indexOf(","+o+","),p[o]=T(t,o,g[o],s);for(a=x.length;-1<--a;)x[a]=Math.sqrt(x[a]),b[a]=Math.sqrt(b[a]);if(!r){for(a=d.length;-1<--a;)if(g[o])for(u=(l=p[d[a]]).length-1,h=0;h<u;h++)_=l[h+1].da/b[h]+l[h].da/x[h]||0,w[h]=(w[h]||0)+_*_;for(a=w.length;-1<--a;)w[a]=Math.sqrt(w[a])}for(a=d.length,h=i?4:1;-1<--a;)l=p[o=d[a]],v(l,e,i,r,g[o]),f&&(l.splice(0,h),l.splice(l.length-h,h));return p},p=function(t,e,i){for(var r,n,s,a,o,l,h,_,u,f,c,p=1/i,d=t.length;-1<--d;)for(s=(f=t[d]).a,a=f.d-s,o=f.c-s,l=f.b-s,r=n=0,_=1;_<=i;_++)r=n-(n=((h=p*_)*h*a+3*(u=1-h)*(h*o+u*l))*h),e[c=d*i+_-1]=(e[c]||0)+r*r},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.9",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var r,n,s,a,o,l=e.values||[],h={},_=l[0],u=e.autoRotate||i.vars.orientToBezier;for(r in this._autoRotate=u?u instanceof Array?u:[["x","y","rotation",!0===u?0:Number(u)||0]]:null,_)this._props.push(r);for(s=this._props.length;-1<--s;)r=this._props[s],this._overwriteProps.push(r),n=this._func[r]="function"==typeof t[r],h[r]=n?t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(t[r]),o||h[r]!==l[0][r]&&(o=h);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?c(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):function(t,e,i){var r,n,s,a,o,l,h,_,u,f,c,p={},d="cubic"===(e=e||"soft")?3:2,m="soft"===e,g=[];if(m&&i&&(t=[i].concat(t)),null==t||t.length<d+1)throw"invalid Bezier data";for(u in t[0])g.push(u);for(l=g.length;-1<--l;){for(p[u=g[l]]=o=[],f=0,_=t.length,h=0;h<_;h++)r=null==i?t[h][u]:"string"==typeof(c=t[h][u])&&"="===c.charAt(1)?i[u]+Number(c.charAt(0)+c.substr(2)):Number(c),m&&1<h&&h<_-1&&(o[f++]=(r+o[f-2])/2),o[f++]=r;for(_=f-d+1,h=f=0;h<_;h+=d)r=o[h],n=o[h+1],s=o[h+2],a=2===d?0:o[h+3],o[f++]=c=3===d?new y(r,n,s,a):new y(r,(2*n+r)/3,(2*n+s)/3,s);o.length=f}return p}(l,e.type,h),this._segCount=this._beziers[r].length,this._timeRes){var f=function(t,e){var i,r,n,s,a=[],o=[],l=0,h=0,_=(e=e>>0||6)-1,u=[],f=[];for(i in t)p(t[i],a,e);for(n=a.length,r=0;r<n;r++)l+=Math.sqrt(a[r]),f[s=r%e]=l,s===_&&(h+=l,u[s=r/e>>0]=f,o[s]=h,l=0,f=[]);return{length:h,lengths:o,segments:u}}(this._beziers,this._timeRes);this._length=f.length,this._lengths=f.lengths,this._segments=f.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(u=this._autoRotate)for(this._initialRotations=[],u[0]instanceof Array||(this._autoRotate=u=[u]),s=u.length;-1<--s;){for(a=0;a<3;a++)r=u[s][a],this._func[r]="function"==typeof t[r]&&t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)];r=u[s][2],this._initialRotations[s]=(this._func[r]?this._func[r].call(this._target):this._target[r])||0,this._overwriteProps.push(r)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var e,i,r,n,s,a,o,l,h,_,u,f=this._segCount,c=this._func,p=this._target,d=t!==this._startRatio;if(this._timeRes){if(h=this._lengths,_=this._curSeg,u=t*this._length,r=this._li,u>this._l2&&r<f-1){for(l=f-1;r<l&&(this._l2=h[++r])<=u;);this._l1=h[r-1],this._li=r,this._curSeg=_=this._segments[r],this._s2=_[this._s1=this._si=0]}else if(u<this._l1&&0<r){for(;0<r&&(this._l1=h[--r])>=u;);0===r&&u<this._l1?this._l1=0:r++,this._l2=h[r],this._li=r,this._curSeg=_=this._segments[r],this._s1=_[(this._si=_.length-1)-1]||0,this._s2=_[this._si]}if(e=r,u-=this._l1,r=this._si,u>this._s2&&r<_.length-1){for(l=_.length-1;r<l&&(this._s2=_[++r])<=u;);this._s1=_[r-1],this._si=r}else if(u<this._s1&&0<r){for(;0<r&&(this._s1=_[--r])>=u;);0===r&&u<this._s1?this._s1=0:r++,this._s2=_[r],this._si=r}a=1===t?1:(r+(u-this._s1)/(this._s2-this._s1))*this._prec||0}else a=(t-(e=t<0?0:1<=t?f-1:f*t>>0)*(1/f))*f;for(i=1-a,r=this._props.length;-1<--r;)n=this._props[r],o=(a*a*(s=this._beziers[n][e]).da+3*i*(a*s.ca+i*s.ba))*a+s.a,this._mod[n]&&(o=this._mod[n](o,p)),c[n]?p[n](o):p[n]=o;if(this._autoRotate){var m,g,y,v,T,x,b,w=this._autoRotate;for(r=w.length;-1<--r;)n=w[r][2],x=w[r][3]||0,b=!0===w[r][4]?1:P,s=this._beziers[w[r][0]],m=this._beziers[w[r][1]],s&&m&&(s=s[e],m=m[e],g=s.a+(s.b-s.a)*a,g+=((v=s.b+(s.c-s.b)*a)-g)*a,v+=(s.c+(s.d-s.c)*a-v)*a,y=m.a+(m.b-m.a)*a,y+=((T=m.b+(m.c-m.b)*a)-y)*a,T+=(m.c+(m.d-m.c)*a-T)*a,o=d?Math.atan2(T-y,v-g)*b+x:this._initialRotations[r],this._mod[n]&&(o=this._mod[n](o,p)),c[n]?p[n](o):p[n]=o)}}}),r=m.prototype,m.bezierThrough=c,m.cubicToQuadratic=O,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new y(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=i.CSSPlugin;if(t){var e=t._internals,c=e._parseToProxy,p=e._setPluginRatio,d=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,i,r,n,s){e instanceof Array&&(e={values:e}),s=new m;var a,o,l,h=e.values,_=h.length-1,u=[],f={};if(_<0)return n;for(a=0;a<=_;a++)l=c(t,h[a],r,n,s,_!==a),u[a]=l.end;for(o in e)f[o]=e[o];return f.values=u,(n=new d(t,"bezier",0,0,l.pt,2)).data=l,n.plugin=s,n.setRatio=p,0===f.autoRotate&&(f.autoRotate=!0),!f.autoRotate||f.autoRotate instanceof Array||(a=!0===f.autoRotate?0:Number(f.autoRotate),f.autoRotate=null!=l.end.left?[["left","top","rotation",a,!1]]:null!=l.end.x&&[["x","y","rotation",a,!1]]),f.autoRotate&&(r._transform||r._enableTransforms(!1),l.autoRotate=r._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,r._overwriteProps.push("rotation")),s._onInitTween(l.proxy,f,r._tween),n}})}},r._mod=function(t){for(var e,i=this._overwriteProps,r=i.length;-1<--r;)(e=t[i[r]])&&"function"==typeof e&&(this._mod[i[r]]=e)},r._kill=function(t){var e,i,r=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=r.length;-1<--i;)r[i]===e&&r.splice(i,1);if(r=this._autoRotate)for(i=r.length;-1<--i;)t[r[i][2]]&&r.splice(i,1);return this._super._kill.call(this,t)},_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(s,B){var p,P,O,d,Y=function(){s.call(this,"css"),this._overwriteProps.length=0,this.setRatio=Y.prototype.setRatio},h=_gsScope._gsDefine.globals,m={},t=Y.prototype=new s("css");(t.constructor=Y).version="2.1.3",Y.API=2,Y.defaultTransformPerspective=0,Y.defaultSkewType="compensated",Y.defaultSmoothOrigin=!0,t="px",Y.suffixMap={top:t,right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};var k,g,y,j,v,S,R,A,e,i,C=/(?:\-|\.|\b)(\d|\.|e\-)+/g,M=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,T=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,n=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b),?/gi,_=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,D=/(?:\d|\-|\+|=|#|\.)*/g,F=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,a=/alpha\(opacity *=.+?\)/i,b=/^(rgb|hsl)/,o=/([A-Z])/g,l=/-([a-z])/gi,w=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,u=function(t,e){return e.toUpperCase()},c=/(?:Left|Right|Width)/i,f=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,z=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,E=/,(?=[^\)]*(?:\(|$))/gi,I=/[\s,\(]/i,U=Math.PI/180,V=180/Math.PI,X={},r={style:{}},N=_gsScope.document||{createElement:function(){return r}},L=function(t,e){var i=N.createElementNS?N.createElementNS(e||"http://www.w3.org/1999/xhtml",t):N.createElement(t);return i.style?i:N.createElement(t)},q=L("div"),W=L("img"),G=Y._internals={_specialProps:m},Z=(_gsScope.navigator||{}).userAgent||"",H=(e=Z.indexOf("Android"),i=L("a"),y=-1!==Z.indexOf("Safari")&&-1===Z.indexOf("Chrome")&&(-1===e||3<parseFloat(Z.substr(e+8,2))),v=y&&parseFloat(Z.substr(Z.indexOf("Version/")+8,2))<6,j=-1!==Z.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Z)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Z))&&(S=parseFloat(RegExp.$1)),!!i&&(i.style.cssText="top:1px;opacity:.55;",/^0.55/.test(i.style.opacity))),$=function(t){return F.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Q=function(t){_gsScope.console&&console.log(t)},K="",J="",tt=function(t,e){var i,r,n=(e=e||q).style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;-1<--r&&void 0===n[i[r]+t];);return 0<=r?(K="-"+(J=3===r?"ms":i[r]).toLowerCase()+"-",J+t):null},et="undefined"!=typeof window?window:N.defaultView||{getComputedStyle:function(){}},it=function(t){return et.getComputedStyle(t)},rt=Y.getStyle=function(t,e,i,r,n){var s;return H||"opacity"!==e?(!r&&t.style[e]?s=t.style[e]:(i=i||it(t))?s=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(o,"-$1").toLowerCase()):t.currentStyle&&(s=t.currentStyle[e]),null==n||s&&"none"!==s&&"auto"!==s&&"auto auto"!==s?s:n):$(t)},nt=G.convertToPixels=function(t,e,i,r,n){if("px"===r||!r&&"lineHeight"!==e)return i;if("auto"===r||!i)return 0;var s,a,o,l=c.test(e),h=t,_=q.style,u=i<0,f=1===i;if(u&&(i=-i),f&&(i*=100),"lineHeight"!==e||r)if("%"===r&&-1!==e.indexOf("border"))s=i/100*(l?t.clientWidth:t.clientHeight);else{if(_.cssText="border:0 solid red;position:"+rt(t,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)_[l?"borderLeftWidth":"borderTopWidth"]=i+r;else{if(h=t.parentNode||N.body,-1!==rt(h,"display").indexOf("flex")&&(_.position="absolute"),a=h._gsCache,o=B.ticker.frame,a&&l&&a.time===o)return a.width*i/100;_[l?"width":"height"]=i+r}h.appendChild(q),s=parseFloat(q[l?"offsetWidth":"offsetHeight"]),h.removeChild(q),l&&"%"===r&&!1!==Y.cacheWidths&&((a=h._gsCache=h._gsCache||{}).time=o,a.width=s/i*100),0!==s||n||(s=nt(t,e,i,r,!0))}else a=it(t).lineHeight,t.style.lineHeight=i,s=parseFloat(it(t).lineHeight),t.style.lineHeight=a;return f&&(s/=100),u?-s:s},st=G.calculateOffset=function(t,e,i){if("absolute"!==rt(t,"position",i))return 0;var r="left"===e?"Left":"Top",n=rt(t,"margin"+r,i);return t["offset"+r]-(nt(t,e,parseFloat(n),n.replace(D,""))||0)},at=function(t,e){var i,r,n,s={};if(e=e||it(t))if(i=e.length)for(;-1<--i;)(-1===(n=e[i]).indexOf("-transform")||Xt===n)&&(s[n.replace(l,u)]=e.getPropertyValue(n));else for(i in e)(-1===i.indexOf("Transform")||It===i)&&(s[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===s[i]&&(s[i.replace(l,u)]=e[i]);return H||(s.opacity=$(t)),r=$t(t,e,!1),s.rotation=r.rotation,s.skewX=r.skewX,s.scaleX=r.scaleX,s.scaleY=r.scaleY,s.x=r.x,s.y=r.y,Lt&&(s.z=r.z,s.rotationX=r.rotationX,s.rotationY=r.rotationY,s.scaleZ=r.scaleZ),s.filters&&delete s.filters,s},ot=function(t,e,i,r,n){var s,a,o,l={},h=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(s=i[a])||n&&n[a])&&-1===a.indexOf("Origin")&&("number"==typeof s||"string"==typeof s)&&(l[a]="auto"!==s||"left"!==a&&"top"!==a?""!==s&&"auto"!==s&&"none"!==s||"string"!=typeof e[a]||""===e[a].replace(_,"")?s:0:st(t,a),void 0!==h[a]&&(o=new bt(h,a,h[a],o)));if(r)for(a in r)"className"!==a&&(l[a]=r[a]);return{difs:l,firstMPT:o}},lt={width:["Left","Right"],height:["Top","Bottom"]},ht=["marginLeft","marginRight","marginTop","marginBottom"],_t=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||it(t))[e]||0;if(t.getCTM&&Gt(t))return t.getBBox()[e]||0;var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=lt[e],s=n.length;for(i=i||it(t);-1<--s;)r-=parseFloat(rt(t,"padding"+n[s],i,!0))||0,r-=parseFloat(rt(t,"border"+n[s]+"Width",i,!0))||0;return r},ut=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var i,r=t.split(" "),n=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":r[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":r[1];if(3<r.length&&!e){for(r=t.split(", ").join(",").split(","),t=[],i=0;i<r.length;i++)t.push(ut(r[i]));return t.join(",")}return null==s?s="center"===n?"50%":"0":"center"===s&&(s="50%"),("center"===n||isNaN(parseFloat(n))&&-1===(n+"").indexOf("="))&&(n="50%"),t=n+" "+s+(2<r.length?" "+r[2]:""),e&&(e.oxp=-1!==n.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===n.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(n.replace(_,"")),e.oy=parseFloat(s.replace(_,"")),e.v=t),e||t},ft=function(t,e){return"function"==typeof t&&(t=t(A,R)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){"function"==typeof t&&(t=t(A,R));var i="string"==typeof t&&"="===t.charAt(1);return"string"==typeof t&&"v"===t.charAt(t.length-2)&&(t=(i?t.substr(0,2):0)+window["inner"+("vh"===t.substr(-2)?"Height":"Width")]*(parseFloat(i?t.substr(2):t)/100)),null==t?e:i?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},pt=function(t,e,i,r){var n,s,a,o,l;return"function"==typeof t&&(t=t(A,R)),(o=null==t?e:"number"==typeof t?t:(n=360,s=t.split("_"),a=((l="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(s[0].substr(2)):parseFloat(s[0]))*(-1===t.indexOf("rad")?1:V)-(l?0:e),s.length&&(r&&(r[i]=e+a),-1!==t.indexOf("short")&&((a%=n)!==a%180&&(a=a<0?a+n:a-n)),-1!==t.indexOf("_cw")&&a<0?a=(a+3599999999640)%n-(a/n|0)*n:-1!==t.indexOf("ccw")&&0<a&&(a=(a-3599999999640)%n-(a/n|0)*n)),e+a))<1e-6&&-1e-6<o&&(o=0),o},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},mt=function(t,e,i){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},gt=Y.parseColor=function(t,e){var i,r,n,s,a,o,l,h,_,u,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),dt[t])i=dt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(r=t.charAt(1))+r+(n=t.charAt(2))+n+(s=t.charAt(3))+s),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(C),e){if(-1!==t.indexOf("="))return t.match(M)}else a=Number(i[0])%360/360,o=Number(i[1])/100,r=2*(l=Number(i[2])/100)-(n=l<=.5?l*(o+1):l+o-l*o),3<i.length&&(i[3]=Number(i[3])),i[0]=mt(a+1/3,r,n),i[1]=mt(a,r,n),i[2]=mt(a-1/3,r,n);else i=t.match(C)||dt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),3<i.length&&(i[3]=Number(i[3]))}else i=dt.black;return e&&!f&&(r=i[0]/255,n=i[1]/255,s=i[2]/255,l=((h=Math.max(r,n,s))+(_=Math.min(r,n,s)))/2,h===_?a=o=0:(u=h-_,o=.5<l?u/(2-h-_):u/(h+_),a=h===r?(n-s)/u+(n<s?6:0):h===n?(s-r)/u+2:(r-n)/u+4,a*=60),i[0]=a+.5|0,i[1]=100*o+.5|0,i[2]=100*l+.5|0),i},yt=function(t,e){var i,r,n,s=t.match(vt)||[],a=0,o="";if(!s.length)return t;for(i=0;i<s.length;i++)r=s[i],a+=(n=t.substr(a,t.indexOf(r,a)-a)).length+r.length,3===(r=gt(r,e)).length&&r.push(1),o+=n+(e?"hsla("+r[0]+","+r[1]+"%,"+r[2]+"%,"+r[3]:"rgba("+r.join(","))+")";return o+t.substr(a)},vt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in dt)vt+="|"+t+"\\b";vt=new RegExp(vt+")","gi"),Y.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];vt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=yt(t[0],e),t[1]=yt(t[1],e)),vt.lastIndex=0},B.defaultStringFilter||(B.defaultStringFilter=Y.colorStringFilter);var Tt=function(t,e,s,a){if(null==t)return function(t){return t};var o,l=e?(t.match(vt)||[""])[0]:"",h=t.split(l).join("").match(T)||[],_=t.substr(0,t.indexOf(h[0])),u=")"===t.charAt(t.length-1)?")":"",f=-1!==t.indexOf(" ")?" ":",",c=h.length,p=0<c?h[0].replace(C,""):"";return c?o=e?function(t){var e,i,r,n;if("number"==typeof t)t+=p;else if(a&&E.test(t)){for(n=t.replace(E,"|").split("|"),r=0;r<n.length;r++)n[r]=o(n[r]);return n.join(",")}if(e=(t.match(vt)||[l])[0],r=(i=t.split(e).join("").match(T)||[]).length,c>r--)for(;++r<c;)i[r]=s?i[(r-1)/2|0]:h[r];return _+i.join(f)+f+e+u+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,r;if("number"==typeof t)t+=p;else if(a&&E.test(t)){for(i=t.replace(E,"|").split("|"),r=0;r<i.length;r++)i[r]=o(i[r]);return i.join(",")}if(r=(e=t.match(","===f?T:n)||[]).length,c>r--)for(;++r<c;)e[r]=s?e[(r-1)/2|0]:h[r];return(_&&"none"!==t&&t.substr(0,t.indexOf(e[0]))||_)+e.join(f)+u}:function(t){return t}},xt=function(h){return h=h.split(","),function(t,e,i,r,n,s,a){var o,l=(e+"").split(" ");for(a={},o=0;o<4;o++)a[h[o]]=l[o]=l[o]||l[(o-1)/2>>0];return r.parse(t,a,n,s)}},bt=(G._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,n,s,a=this.data,o=a.proxy,l=a.firstMPT;l;)e=o[l.v],l.r?e=l.r(e):e<1e-6&&-1e-6<e&&(e=0),l.t[l.p]=e,l=l._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod.call(this._tween,o.rotation,this.t,this._tween):o.rotation),1===t||0===t)for(l=a.firstMPT,s=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,r=1;r<i.l;r++)n+=i["xn"+r]+i["xs"+(r+1)];i[s]=n}}else i[s]=i.s+i.xs0;l=l._next}},function(t,e,i,r,n){this.t=t,this.p=e,this.v=i,this.r=n,r&&((r._prev=this)._next=r)}),wt=(G._parseToProxy=function(t,e,i,r,n,s){var a,o,l,h,_,u=r,f={},c={},p=i._transform,d=X;for(i._transform=null,X=e,r=_=i.parse(t,e,r,n),X=d,s&&(i._transform=p,u&&(u._prev=null,u._prev&&(u._prev._next=null)));r&&r!==u;){if(r.type<=1&&(c[o=r.p]=r.s+r.c,f[o]=r.s,s||(h=new bt(r,"s",o,h,r.r),r.c=0),1===r.type))for(a=r.l;0<--a;)l="xn"+a,c[o=r.p+"_"+l]=r.data[l],f[o]=r[l],s||(h=new bt(r,l,o,h,r.rxp[l]));r=r._next}return{proxy:f,end:c,firstMPT:h,pt:_}},G.CSSPropTween=function(t,e,i,r,n,s,a,o,l,h,_){this.t=t,this.p=e,this.s=i,this.c=r,this.n=a||e,t instanceof wt||d.push(this.n),this.r=o?"function"==typeof o?o:Math.round:o,this.type=s||0,l&&(this.pr=l,p=!0),this.b=void 0===h?i:h,this.e=void 0===_?i+r:_,n&&((this._next=n)._prev=this)}),Pt=function(t,e,i,r,n,s){var a=new wt(t,e,i,r-i,n,-1,s);return a.b=i,a.e=a.xs0=r,a},Ot=Y.parseComplex=function(t,e,i,r,n,s,a,o,l,h){i=i||s||"","function"==typeof r&&(r=r(A,R)),a=new wt(t,e,0,0,a,h?2:1,null,!1,o,i,r),r+="",n&&vt.test(r+i)&&(r=[i,r],Y.colorStringFilter(r),i=r[0],r=r[1]);var _,u,f,c,p,d,m,g,y,v,T,x,b,w=i.split(", ").join(",").split(" "),P=r.split(", ").join(",").split(" "),O=w.length,S=!1!==k;for((-1!==r.indexOf(",")||-1!==i.indexOf(","))&&(P=-1!==(r+i).indexOf("rgb")||-1!==(r+i).indexOf("hsl")?(w=w.join(" ").replace(E,", ").split(" "),P.join(" ").replace(E,", ").split(" ")):(w=w.join(" ").split(",").join(", ").split(" "),P.join(" ").split(",").join(", ").split(" ")),O=w.length),O!==P.length&&(O=(w=(s||"").split(" ")).length),a.plugin=l,a.setRatio=h,_=vt.lastIndex=0;_<O;_++)if(c=w[_],p=P[_]+"",(g=parseFloat(c))||0===g)a.appendXtra("",g,ft(p,g),p.replace(M,""),!(!S||-1===p.indexOf("px"))&&Math.round,!0);else if(n&&vt.test(c))x=")"+((x=p.indexOf(")")+1)?p.substr(x):""),b=-1!==p.indexOf("hsl")&&H,v=p,c=gt(c,b),p=gt(p,b),(y=6<c.length+p.length)&&!H&&0===p[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(P[_]).join("transparent")):(H||(y=!1),b?a.appendXtra(v.substr(0,v.indexOf("hsl"))+(y?"hsla(":"hsl("),c[0],ft(p[0],c[0]),",",!1,!0).appendXtra("",c[1],ft(p[1],c[1]),"%,",!1).appendXtra("",c[2],ft(p[2],c[2]),y?"%,":"%"+x,!1):a.appendXtra(v.substr(0,v.indexOf("rgb"))+(y?"rgba(":"rgb("),c[0],p[0]-c[0],",",Math.round,!0).appendXtra("",c[1],p[1]-c[1],",",Math.round).appendXtra("",c[2],p[2]-c[2],y?",":x,Math.round),y&&(c=c.length<4?1:c[3],a.appendXtra("",c,(p.length<4?1:p[3])-c,x,!1))),vt.lastIndex=0;else if(d=c.match(C)){if(!(m=p.match(M))||m.length!==d.length)return a;for(u=f=0;u<d.length;u++)T=d[u],v=c.indexOf(T,f),a.appendXtra(c.substr(f,v-f),Number(T),ft(m[u],T),"",!(!S||"px"!==c.substr(v+T.length,2))&&Math.round,0===u),f=v+T.length;a["xs"+a.l]+=c.substr(f)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+p:p;if(-1!==r.indexOf("=")&&a.data){for(x=a.xs0+a.data.s,_=1;_<a.l;_++)x+=a["xs"+_]+a.data["xn"+_];a.e=x+a["xs"+_]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},St=9;for((t=wt.prototype).l=t.pr=0;0<--St;)t["xn"+St]=0,t["xs"+St]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,r,n,s){var a=this,o=a.l;return a["xs"+o]+=s&&(o||a["xs"+o])?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",0<o?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=n,a["xn"+o]=e,a.plugin||(a.xfirst=new wt(a,"xn"+o,e,i,a.xfirst||a,0,a.n,n,a.pr),a.xfirst.xs0=0)):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=n)):a["xs"+o]+=e+(r||""),a};var kt=function(t,e){e=e||{},this.p=e.prefix&&tt(t)||t,m[t]=m[this.p]=this,this.format=e.formatter||Tt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.allowFunc=e.allowFunc,this.pr=e.priority||0},Rt=G._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,n=t.split(","),s=e.defaultValue;for(i=i||[s],r=0;r<n.length;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||s,new kt(n[r],e)},At=G._registerPluginProp=function(t){if(!m[t]){var l=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Rt(t,{parser:function(t,e,i,r,n,s,a){var o=h.com.greensock.plugins[l];return o?(o._cssRegister(),m[i].parse(t,e,i,r,n,s,a)):(Q("Error: "+l+" js file not loaded."),n)}})}};(t=kt.prototype).parseComplex=function(t,e,i,r,n,s){var a,o,l,h,_,u,f=this.keyword;if(this.multi&&(E.test(i)||E.test(e)?(o=e.replace(E,"|").split("|"),l=i.replace(E,"|").split("|")):f&&(o=[e],l=[i])),l){for(h=l.length>o.length?l.length:o.length,a=0;a<h;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,f&&((_=e.indexOf(f))!==(u=i.indexOf(f))&&(-1===u?o[a]=o[a].split(f).join(""):-1===_&&(o[a]+=" "+f)));e=o.join(", "),i=l.join(", ")}return Ot(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,n,s)},t.parse=function(t,e,i,r,n,s,a){return this.parseComplex(t.style,this.format(rt(t,this.p,O,!1,this.dflt)),this.format(e),n,s)},Y.registerSpecialProp=function(t,l,h){Rt(t,{parser:function(t,e,i,r,n,s,a){var o=new wt(t,i,0,0,n,2,i,!1,h);return o.plugin=s,o.setRatio=l(t,e,r._tween,i),o},priority:h})},Y.useSVGTransformAttr=!0;var Ct,Mt,Dt,Ft,zt,Et="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),It=tt("transform"),Xt=K+"transform",Nt=tt("transformOrigin"),Lt=null!==tt("perspective"),Bt=G.Transform=function(){this.perspective=parseFloat(Y.defaultTransformPerspective)||0,this.force3D=!(!1===Y.defaultForce3D||!Lt)&&(Y.defaultForce3D||"auto")},Yt=_gsScope.SVGElement,jt=function(t,e,i){var r,n=N.createElementNS("http://www.w3.org/2000/svg",t),s=/([a-z])([A-Z])/g;for(r in i)n.setAttributeNS(null,r.replace(s,"$1-$2").toLowerCase(),i[r]);return e.appendChild(n),n},Ut=N.documentElement||{},Vt=(zt=S||/Android/i.test(Z)&&!_gsScope.chrome,N.createElementNS&&Ut.appendChild&&!zt&&(Mt=jt("svg",Ut),Ft=(Dt=jt("rect",Mt,{width:100,height:50,x:100})).getBoundingClientRect().width,Dt.style[Nt]="50% 50%",Dt.style[It]="scaleX(0.5)",zt=Ft===Dt.getBoundingClientRect().width&&!(j&&Lt),Ut.removeChild(Mt)),zt),qt=function(t,e,i,r,n,s){var a,o,l,h,_,u,f,c,p,d,m,g,y,v,T=t._gsTransform,x=Ht(t,!0);T&&(y=T.xOrigin,v=T.yOrigin),(!r||(a=r.split(" ")).length<2)&&(0===(f=t.getBBox()).x&&0===f.y&&f.width+f.height===0&&(f={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),a=[(-1!==(e=ut(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*f.width:parseFloat(e[0]))+f.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*f.height:parseFloat(e[1]))+f.y]),i.xOrigin=h=parseFloat(a[0]),i.yOrigin=_=parseFloat(a[1]),r&&x!==Zt&&(u=x[0],f=x[1],c=x[2],p=x[3],d=x[4],m=x[5],(g=u*p-f*c)&&(o=h*(p/g)+_*(-c/g)+(c*m-p*d)/g,l=h*(-f/g)+_*(u/g)-(u*m-f*d)/g,h=i.xOrigin=a[0]=o,_=i.yOrigin=a[1]=l)),T&&(s&&(i.xOffset=T.xOffset,i.yOffset=T.yOffset,T=i),n||!1!==n&&!1!==Y.defaultSmoothOrigin?(o=h-y,l=_-v,T.xOffset+=o*x[0]+l*x[2]-o,T.yOffset+=o*x[1]+l*x[3]-l):T.xOffset=T.yOffset=0),s||t.setAttribute("data-svg-origin",a.join(" "))},Wt=function(t){var e,i=L("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,n=this.nextSibling,s=this.style.cssText;if(Ut.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Wt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return n?r.insertBefore(this,n):r.appendChild(this),Ut.removeChild(i),this.style.cssText=s,e},Gt=function(t){return!(!Yt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return Wt.call(e,!0)}}(t))},Zt=[1,0,0,1,0,0],Ht=function(t,e){var i,r,n,s,a,o,l,h=t._gsTransform||new Bt,_=t.style;if(It?r=rt(t,Xt,null,!0):t.currentStyle&&(r=(r=t.currentStyle.filter.match(f))&&4===r.length?[r[0].substr(4),Number(r[2].substr(4)),Number(r[1].substr(4)),r[3].substr(4),h.x||0,h.y||0].join(","):""),i=!r||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,It&&i&&!t.offsetParent&&t!==Ut&&(s=_.display,_.display="block",(l=t.parentNode)&&t.offsetParent||(a=1,o=t.nextSibling,Ut.appendChild(t)),i=!(r=rt(t,Xt,null,!0))||"none"===r||"matrix(1, 0, 0, 1, 0, 0)"===r,s?_.display=s:te(_,"display"),a&&(o?l.insertBefore(t,o):l?l.appendChild(t):Ut.removeChild(t))),(h.svg||t.getCTM&&Gt(t))&&(i&&-1!==(_[It]+"").indexOf("matrix")&&(r=_[It],i=0),n=t.getAttribute("transform"),i&&n&&(r="matrix("+(n=t.transform.baseVal.consolidate().matrix).a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")",i=0)),i)return Zt;for(n=(r||"").match(C)||[],St=n.length;-1<--St;)s=Number(n[St]),n[St]=(a=s-(s|=0))?(1e5*a+(a<0?-.5:.5)|0)/1e5+s:s;return e&&6<n.length?[n[0],n[1],n[4],n[5],n[12],n[13]]:n},$t=G.getTransform=function(t,e,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var n,s,a,o,l,h,_=i&&t._gsTransform||new Bt,u=_.scaleX<0,f=Lt&&(parseFloat(rt(t,Nt,e,!1,"0 0 0").split(" ")[2])||_.zOrigin)||0,c=parseFloat(Y.defaultTransformPerspective)||0;if(_.svg=!(!t.getCTM||!Gt(t)),_.svg&&(qt(t,rt(t,Nt,e,!1,"50% 50%")+"",_,t.getAttribute("data-svg-origin")),Ct=Y.useSVGTransformAttr||Vt),(n=Ht(t))!==Zt){if(16===n.length){var p,d,m,g,y,v=n[0],T=n[1],x=n[2],b=n[3],w=n[4],P=n[5],O=n[6],S=n[7],k=n[8],R=n[9],A=n[10],C=n[12],M=n[13],D=n[14],F=n[11],z=Math.atan2(O,A);_.zOrigin&&(C=k*(D=-_.zOrigin)-n[12],M=R*D-n[13],D=A*D+_.zOrigin-n[14]),_.rotationX=z*V,z&&(p=w*(g=Math.cos(-z))+k*(y=Math.sin(-z)),d=P*g+R*y,m=O*g+A*y,k=w*-y+k*g,R=P*-y+R*g,A=O*-y+A*g,F=S*-y+F*g,w=p,P=d,O=m),z=Math.atan2(-x,A),_.rotationY=z*V,z&&(d=T*(g=Math.cos(-z))-R*(y=Math.sin(-z)),m=x*g-A*y,R=T*y+R*g,A=x*y+A*g,F=b*y+F*g,v=p=v*g-k*y,T=d,x=m),z=Math.atan2(T,v),_.rotation=z*V,z&&(p=v*(g=Math.cos(z))+T*(y=Math.sin(z)),d=w*g+P*y,m=k*g+R*y,T=T*g-v*y,P=P*g-w*y,R=R*g-k*y,v=p,w=d,k=m),_.rotationX&&359.9<Math.abs(_.rotationX)+Math.abs(_.rotation)&&(_.rotationX=_.rotation=0,_.rotationY=180-_.rotationY),z=Math.atan2(w,P),_.scaleX=(1e5*Math.sqrt(v*v+T*T+x*x)+.5|0)/1e5,_.scaleY=(1e5*Math.sqrt(P*P+O*O)+.5|0)/1e5,_.scaleZ=(1e5*Math.sqrt(k*k+R*R+A*A)+.5|0)/1e5,v/=_.scaleX,w/=_.scaleY,T/=_.scaleX,P/=_.scaleY,2e-5<Math.abs(z)?(_.skewX=z*V,w=0,"simple"!==_.skewType&&(_.scaleY*=1/Math.cos(z))):_.skewX=0,_.perspective=F?1/(F<0?-F:F):0,_.x=C,_.y=M,_.z=D,_.svg&&(_.x-=_.xOrigin-(_.xOrigin*v-_.yOrigin*w),_.y-=_.yOrigin-(_.yOrigin*T-_.xOrigin*P))}else if(!Lt||r||!n.length||_.x!==n[4]||_.y!==n[5]||!_.rotationX&&!_.rotationY){var E=6<=n.length,I=E?n[0]:1,X=n[1]||0,N=n[2]||0,L=E?n[3]:1;_.x=n[4]||0,_.y=n[5]||0,a=Math.sqrt(I*I+X*X),o=Math.sqrt(L*L+N*N),l=I||X?Math.atan2(X,I)*V:_.rotation||0,h=N||L?Math.atan2(N,L)*V+l:_.skewX||0,_.scaleX=a,_.scaleY=o,_.rotation=l,_.skewX=h,Lt&&(_.rotationX=_.rotationY=_.z=0,_.perspective=c,_.scaleZ=1),_.svg&&(_.x-=_.xOrigin-(_.xOrigin*I+_.yOrigin*N),_.y-=_.yOrigin-(_.xOrigin*X+_.yOrigin*L))}for(s in 90<Math.abs(_.skewX)&&Math.abs(_.skewX)<270&&(u?(_.scaleX*=-1,_.skewX+=_.rotation<=0?180:-180,_.rotation+=_.rotation<=0?180:-180):(_.scaleY*=-1,_.skewX+=_.skewX<=0?180:-180)),_.zOrigin=f,_)_[s]<2e-5&&-2e-5<_[s]&&(_[s]=0)}return i&&((t._gsTransform=_).svg&&(Ct&&t.style[It]?B.delayedCall(.001,function(){te(t.style,It)}):!Ct&&t.getAttribute("transform")&&B.delayedCall(.001,function(){t.removeAttribute("transform")}))),_},Qt=function(t){var e,i,r=this.data,n=-r.rotation*U,s=n+r.skewX*U,a=1e5,o=(Math.cos(n)*r.scaleX*a|0)/a,l=(Math.sin(n)*r.scaleX*a|0)/a,h=(Math.sin(s)*-r.scaleY*a|0)/a,_=(Math.cos(s)*r.scaleY*a|0)/a,u=this.t.style,f=this.t.currentStyle;if(f){i=l,l=-h,h=-i,e=f.filter,u.filter="";var c,p,d=this.t.offsetWidth,m=this.t.offsetHeight,g="absolute"!==f.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+h+", M22="+_,v=r.x+d*r.xPercent/100,T=r.y+m*r.yPercent/100;if(null!=r.ox&&(v+=(c=(r.oxp?d*r.ox*.01:r.ox)-d/2)-(c*o+(p=(r.oyp?m*r.oy*.01:r.oy)-m/2)*l),T+=p-(c*h+p*_)),g?y+=", Dx="+((c=d/2)-(c*o+(p=m/2)*l)+v)+", Dy="+(p-(c*h+p*_)+T)+")":y+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=e.replace(z,y):u.filter=y+" "+e,(0===t||1===t)&&1===o&&0===l&&0===h&&1===_&&(g&&-1===y.indexOf("Dx=0, Dy=0")||F.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&u.removeAttribute("filter")),!g){var x,b,w,P=S<8?1:-1;for(c=r.ieOffsetX||0,p=r.ieOffsetY||0,r.ieOffsetX=Math.round((d-((o<0?-o:o)*d+(l<0?-l:l)*m))/2+v),r.ieOffsetY=Math.round((m-((_<0?-_:_)*m+(h<0?-h:h)*d))/2+T),St=0;St<4;St++)w=(i=-1!==(x=f[b=ht[St]]).indexOf("px")?parseFloat(x):nt(this.t,b,parseFloat(x),x.replace(D,""))||0)!==r[b]?St<2?-r.ieOffsetX:-r.ieOffsetY:St<2?c-r.ieOffsetX:p-r.ieOffsetY,u[b]=(r[b]=Math.round(i-w*(0===St||2===St?1:P)))+"px"}}},Kt=G.set3DTransformRatio=G.setTransformRatio=function(t){var e,i,r,n,s,a,o,l,h,_,u,f,c,p,d,m,g,y,v,T,x,b,w,P=this.data,O=this.t.style,S=P.rotation,k=P.rotationX,R=P.rotationY,A=P.scaleX,C=P.scaleY,M=P.scaleZ,D=P.x,F=P.y,z=P.z,E=P.svg,I=P.perspective,X=P.force3D,N=P.skewY,L=P.skewX;if(N&&(L+=N,S+=N),!((1!==t&&0!==t||"auto"!==X||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&X||z||I||R||k||1!==M)||Ct&&E||!Lt)S||L||E?(S*=U,b=L*U,w=1e5,i=Math.cos(S)*A,s=Math.sin(S)*A,r=Math.sin(S-b)*-C,a=Math.cos(S-b)*C,b&&"simple"===P.skewType&&(e=Math.tan(b-N*U),r*=e=Math.sqrt(1+e*e),a*=e,N&&(e=Math.tan(N*U),i*=e=Math.sqrt(1+e*e),s*=e)),E&&(D+=P.xOrigin-(P.xOrigin*i+P.yOrigin*r)+P.xOffset,F+=P.yOrigin-(P.xOrigin*s+P.yOrigin*a)+P.yOffset,Ct&&(P.xPercent||P.yPercent)&&(d=this.t.getBBox(),D+=.01*P.xPercent*d.width,F+=.01*P.yPercent*d.height),D<(d=1e-6)&&-d<D&&(D=0),F<d&&-d<F&&(F=0)),v=(i*w|0)/w+","+(s*w|0)/w+","+(r*w|0)/w+","+(a*w|0)/w+","+D+","+F+")",E&&Ct?this.t.setAttribute("transform","matrix("+v):O[It]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix(":"matrix(")+v):O[It]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+C+","+D+","+F+")";else{if(j&&(A<(d=1e-4)&&-d<A&&(A=M=2e-5),C<d&&-d<C&&(C=M=2e-5),!I||P.z||P.rotationX||P.rotationY||(I=0)),S||L)S*=U,m=i=Math.cos(S),g=s=Math.sin(S),L&&(S-=L*U,m=Math.cos(S),g=Math.sin(S),"simple"===P.skewType&&(e=Math.tan((L-N)*U),m*=e=Math.sqrt(1+e*e),g*=e,P.skewY&&(e=Math.tan(N*U),i*=e=Math.sqrt(1+e*e),s*=e))),r=-g,a=m;else{if(!(R||k||1!==M||I||E))return void(O[It]=(P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) translate3d(":"translate3d(")+D+"px,"+F+"px,"+z+"px)"+(1!==A||1!==C?" scale("+A+","+C+")":""));i=a=1,r=s=0}_=1,n=o=l=h=u=f=0,c=I?-1/I:0,p=P.zOrigin,d=1e-6,T=",",x="0",(S=R*U)&&(m=Math.cos(S),u=c*(l=-(g=Math.sin(S))),n=i*g,o=s*g,c*=_=m,i*=m,s*=m),(S=k*U)&&(e=r*(m=Math.cos(S))+n*(g=Math.sin(S)),y=a*m+o*g,h=_*g,f=c*g,n=r*-g+n*m,o=a*-g+o*m,_*=m,c*=m,r=e,a=y),1!==M&&(n*=M,o*=M,_*=M,c*=M),1!==C&&(r*=C,a*=C,h*=C,f*=C),1!==A&&(i*=A,s*=A,l*=A,u*=A),(p||E)&&(p&&(D+=n*-p,F+=o*-p,z+=_*-p+p),E&&(D+=P.xOrigin-(P.xOrigin*i+P.yOrigin*r)+P.xOffset,F+=P.yOrigin-(P.xOrigin*s+P.yOrigin*a)+P.yOffset),D<d&&-d<D&&(D=x),F<d&&-d<F&&(F=x),z<d&&-d<z&&(z=0)),v=P.xPercent||P.yPercent?"translate("+P.xPercent+"%,"+P.yPercent+"%) matrix3d(":"matrix3d(",v+=(i<d&&-d<i?x:i)+T+(s<d&&-d<s?x:s)+T+(l<d&&-d<l?x:l),v+=T+(u<d&&-d<u?x:u)+T+(r<d&&-d<r?x:r)+T+(a<d&&-d<a?x:a),k||R||1!==M?(v+=T+(h<d&&-d<h?x:h)+T+(f<d&&-d<f?x:f)+T+(n<d&&-d<n?x:n),v+=T+(o<d&&-d<o?x:o)+T+(_<d&&-d<_?x:_)+T+(c<d&&-d<c?x:c)+T):v+=",0,0,0,0,1,0,",v+=D+T+F+T+z+T+(I?1+-z/I:1)+")",O[It]=v}};(t=Bt.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,Rt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,r,n,s,a){if(r._lastParsedTransform===a)return n;var o=(r._lastParsedTransform=a).scale&&"function"==typeof a.scale?a.scale:0;o&&(a.scale=o(A,t));var l,h,_,u,f,c,p,d,m,g=t._gsTransform,y=t.style,v=Et.length,T=a,x={},b="transformOrigin",w=$t(t,O,!0,T.parseTransform),P=T.transform&&("function"==typeof T.transform?T.transform(A,R):T.transform);if(w.skewType=T.skewType||w.skewType||Y.defaultSkewType,r._transform=w,"rotationZ"in T&&(T.rotation=T.rotationZ),P&&"string"==typeof P&&It)(h=q.style)[It]=P,h.display="block",h.position="absolute",-1!==P.indexOf("%")&&(h.width=rt(t,"width"),h.height=rt(t,"height")),N.body.appendChild(q),l=$t(q,null,!1),"simple"===w.skewType&&(l.scaleY*=Math.cos(l.skewX*U)),w.svg&&(c=w.xOrigin,p=w.yOrigin,l.x-=w.xOffset,l.y-=w.yOffset,(T.transformOrigin||T.svgOrigin)&&(P={},qt(t,ut(T.transformOrigin),P,T.svgOrigin,T.smoothOrigin,!0),c=P.xOrigin,p=P.yOrigin,l.x-=P.xOffset-w.xOffset,l.y-=P.yOffset-w.yOffset),(c||p)&&(d=Ht(q,!0),l.x-=c-(c*d[0]+p*d[2]),l.y-=p-(c*d[1]+p*d[3]))),N.body.removeChild(q),l.perspective||(l.perspective=w.perspective),null!=T.xPercent&&(l.xPercent=ct(T.xPercent,w.xPercent)),null!=T.yPercent&&(l.yPercent=ct(T.yPercent,w.yPercent));else if("object"==typeof T){if(l={scaleX:ct(null!=T.scaleX?T.scaleX:T.scale,w.scaleX),scaleY:ct(null!=T.scaleY?T.scaleY:T.scale,w.scaleY),scaleZ:ct(T.scaleZ,w.scaleZ),x:ct(T.x,w.x),y:ct(T.y,w.y),z:ct(T.z,w.z),xPercent:ct(T.xPercent,w.xPercent),yPercent:ct(T.yPercent,w.yPercent),perspective:ct(T.transformPerspective,w.perspective)},null!=(f=T.directionalRotation))if("object"==typeof f)for(h in f)T[h]=f[h];else T.rotation=f;"string"==typeof T.x&&-1!==T.x.indexOf("%")&&(l.x=0,l.xPercent=ct(T.x,w.xPercent)),"string"==typeof T.y&&-1!==T.y.indexOf("%")&&(l.y=0,l.yPercent=ct(T.y,w.yPercent)),l.rotation=pt("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":w.rotation,w.rotation,"rotation",x),Lt&&(l.rotationX=pt("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":w.rotationX||0,w.rotationX,"rotationX",x),l.rotationY=pt("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":w.rotationY||0,w.rotationY,"rotationY",x)),l.skewX=pt(T.skewX,w.skewX),l.skewY=pt(T.skewY,w.skewY)}for(Lt&&null!=T.force3D&&(w.force3D=T.force3D,u=!0),(_=w.force3D||w.z||w.rotationX||w.rotationY||l.z||l.rotationX||l.rotationY||l.perspective)||null==T.scale||(l.scaleZ=1);-1<--v;)(1e-6<(P=l[m=Et[v]]-w[m])||P<-1e-6||null!=T[m]||null!=X[m])&&(u=!0,n=new wt(w,m,w[m],P,n),m in x&&(n.e=x[m]),n.xs0=0,n.plugin=s,r._overwriteProps.push(n.n));return P="function"==typeof T.transformOrigin?T.transformOrigin(A,R):T.transformOrigin,w.svg&&(P||T.svgOrigin)&&(c=w.xOffset,p=w.yOffset,qt(t,ut(P),l,T.svgOrigin,T.smoothOrigin),n=Pt(w,"xOrigin",(g?w:l).xOrigin,l.xOrigin,n,b),n=Pt(w,"yOrigin",(g?w:l).yOrigin,l.yOrigin,n,b),(c!==w.xOffset||p!==w.yOffset)&&(n=Pt(w,"xOffset",g?c:w.xOffset,w.xOffset,n,b),n=Pt(w,"yOffset",g?p:w.yOffset,w.yOffset,n,b)),P="0px 0px"),(P||Lt&&_&&w.zOrigin)&&(It?(u=!0,m=Nt,P||(P=(P=(rt(t,m,O,!1,"50% 50%")+"").split(" "))[0]+" "+P[1]+" "+w.zOrigin+"px"),P+="",(n=new wt(y,m,0,0,n,-1,b)).b=y[m],n.plugin=s,Lt?(h=w.zOrigin,P=P.split(" "),w.zOrigin=(2<P.length?parseFloat(P[2]):h)||0,n.xs0=n.e=P[0]+" "+(P[1]||"50%")+" 0px",(n=new wt(w,"zOrigin",0,0,n,-1,n.n)).b=h,n.xs0=n.e=w.zOrigin):n.xs0=n.e=P):ut(P+"",w)),u&&(r._transformType=w.svg&&Ct||!_&&3!==this._transformType?2:3),o&&(a.scale=o),n},allowFunc:!0,prefix:!0}),Rt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Rt("clipPath",{defaultValue:"inset(0%)",prefix:!0,multi:!0,formatter:Tt("inset(0% 0% 0% 0%)",!1,!0)}),Rt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,r,n,s){e=this.format(e);var a,o,l,h,_,u,f,c,p,d,m,g,y,v,T,x,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],w=t.style;for(p=parseFloat(t.offsetWidth),d=parseFloat(t.offsetHeight),a=e.split(" "),o=0;o<b.length;o++)this.p.indexOf("border")&&(b[o]=tt(b[o])),-1!==(_=h=rt(t,b[o],O,!1,"0px")).indexOf(" ")&&(_=(h=_.split(" "))[0],h=h[1]),u=l=a[o],f=parseFloat(_),g=_.substr((f+"").length),""===(m=(y="="===u.charAt(1))?(c=parseInt(u.charAt(0)+"1",10),u=u.substr(2),c*=parseFloat(u),u.substr((c+"").length-(c<0?1:0))||""):(c=parseFloat(u),u.substr((c+"").length)))&&(m=P[i]||g),m!==g&&(v=nt(t,"borderLeft",f,g),T=nt(t,"borderTop",f,g),h="%"===m?(_=v/p*100+"%",T/d*100+"%"):"em"===m?(_=v/(x=nt(t,"borderLeft",1,"em"))+"em",T/x+"em"):(_=v+"px",T+"px"),y&&(u=parseFloat(_)+c+m,l=parseFloat(h)+c+m)),n=Ot(w,b[o],_+" "+h,u+" "+l,!1,"0px",n);return n},prefix:!0,formatter:Tt("0px 0px 0px 0px",!1,!0)}),Rt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,r,n,s){return Ot(t.style,i,this.format(rt(t,i,O,!1,"0px 0px")),this.format(e),!1,"0px",n)},prefix:!0,formatter:Tt("0px 0px",!1,!0)}),Rt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,n,s){var a,o,l,h,_,u,f="background-position",c=O||it(t),p=this.format((c?S?c.getPropertyValue(f+"-x")+" "+c.getPropertyValue(f+"-y"):c.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),d=this.format(e);if(-1!==p.indexOf("%")!=(-1!==d.indexOf("%"))&&d.split(",").length<2&&((u=rt(t,"backgroundImage").replace(w,""))&&"none"!==u)){for(a=p.split(" "),o=d.split(" "),W.setAttribute("src",u),l=2;-1<--l;)(h=-1!==(p=a[l]).indexOf("%"))!==(-1!==o[l].indexOf("%"))&&(_=0===l?t.offsetWidth-W.width:t.offsetHeight-W.height,a[l]=h?parseFloat(p)/100*_+"px":parseFloat(p)/_*100+"%");p=a.join(" ")}return this.parseComplex(t.style,p,d,n,s)},formatter:ut}),Rt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return"co"===(t+="").substr(0,2)?t:ut(-1===t.indexOf(" ")?t+" "+t:t)}}),Rt("perspective",{defaultValue:"0px",prefix:!0}),Rt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Rt("transformStyle",{prefix:!0}),Rt("backfaceVisibility",{prefix:!0}),Rt("userSelect",{prefix:!0}),Rt("margin",{parser:xt("marginTop,marginRight,marginBottom,marginLeft")}),Rt("padding",{parser:xt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Rt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,n,s){var a,o,l;return e=S<9?(o=t.currentStyle,l=S<8?" ":",",a="rect("+o.clipTop+l+o.clipRight+l+o.clipBottom+l+o.clipLeft+")",this.format(e).split(",").join(l)):(a=this.format(rt(t,this.p,O,!1,this.dflt)),this.format(e)),this.parseComplex(t.style,a,e,n,s)}}),Rt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Rt("autoRound,strictUnits",{parser:function(t,e,i,r,n){return n}}),Rt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,n,s){var a=rt(t,"borderTopWidth",O,!1,"0px"),o=this.format(e).split(" "),l=o[0].replace(D,"");return"px"!==l&&(a=parseFloat(a)/nt(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(a+" "+rt(t,"borderTopStyle",O,!1,"solid")+" "+rt(t,"borderTopColor",O,!1,"#000")),o.join(" "),n,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(vt)||["#000"])[0]}}),Rt("borderWidth",{parser:xt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Rt("float,cssFloat,styleFloat",{parser:function(t,e,i,r,n,s){var a=t.style,o="cssFloat"in a?"cssFloat":"styleFloat";return new wt(a,o,0,0,n,-1,i,!1,0,a[o],e)}});var Jt=function(t){var e,i=this.t,r=i.filter||rt(this.data,"filter")||"",n=this.s+this.c*t|0;100===n&&(e=-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),!rt(this.data,"filter")):(i.filter=r.replace(a,""),!0)),e||(this.xn1&&(i.filter=r=r||"alpha(opacity="+n+")"),-1===r.indexOf("pacity")?0===n&&this.xn1||(i.filter=r+" alpha(opacity="+n+")"):i.filter=r.replace(F,"opacity="+n))};Rt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,n,s){var a=parseFloat(rt(t,"opacity",O,!1,"1")),o=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),l&&1===a&&"hidden"===rt(t,"visibility",O)&&0!==e&&(a=0),H?n=new wt(o,"opacity",a,e-a,n):((n=new wt(o,"opacity",100*a,100*(e-a),n)).xn1=l?1:0,o.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=s,n.setRatio=Jt),l&&((n=new wt(o,"visibility",0,0,n,-1,null,!1,0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",r._overwriteProps.push(n.n),r._overwriteProps.push(i)),n}});var te=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(o,"-$1").toLowerCase())):t.removeAttribute(e))},ee=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:te(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Rt("className",{parser:function(t,e,i,r,n,s,a){var o,l,h,_,u,f=t.getAttribute("class")||"",c=t.style.cssText;if((n=r._classNamePT=new wt(t,i,0,0,n,2)).setRatio=ee,n.pr=-11,p=!0,n.b=f,l=at(t,O),h=t._gsClassPT){for(_={},u=h.data;u;)_[u.p]=1,u=u._next;h.setRatio(1)}return(t._gsClassPT=n).e="="!==e.charAt(1)?e:f.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",n.e),o=ot(t,l,at(t),a,_),t.setAttribute("class",f),n.data=o.firstMPT,t.style.cssText!==c&&(t.style.cssText=c),n.xfirst=r.parse(t,o.difs,n,s)}});var ie=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,n,s,a=this.t.style,o=m.transform.parse;if("all"===this.e)n=!(a.cssText="");else for(r=(e=this.e.split(" ").join("").split(",")).length;-1<--r;)i=e[r],m[i]&&(m[i].parse===o?n=!0:i="transformOrigin"===i?Nt:m[i].p),te(a,i);n&&(te(a,It),(s=this.t._gsTransform)&&(s.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Rt("clearProps",{parser:function(t,e,i,r,n){return(n=new wt(t,i,0,0,n,2)).setRatio=ie,n.e=e,n.pr=-10,n.data=r._tween,p=!0,n}}),t="bezier,throwProps,physicsProps,physics2D".split(","),St=t.length;St--;)At(t[St]);(t=Y.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,i,r){if(!t.nodeType)return!1;this._target=R=t,this._tween=i,this._vars=e,A=r,k=e.autoRound,p=!1,P=e.suffixMap||Y.suffixMap,O=it(t),d=this._overwriteProps;var n,s,a,o,l,h,_,u,f,c=t.style;if(g&&""===c.zIndex&&(("auto"===(n=rt(t,"zIndex",O))||""===n)&&this._addLazySet(c,"zIndex",0)),"string"==typeof e&&(o=c.cssText,n=at(t,O),c.cssText=o+";"+e,n=ot(t,n,at(t)).difs,!H&&x.test(e)&&(n.opacity=parseFloat(RegExp.$1)),e=n,c.cssText=o),e.className?this._firstPT=s=m.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=s=this.parse(t,e,null),this._transformType){for(f=3===this._transformType,It?y&&(g=!0,""===c.zIndex&&(("auto"===(_=rt(t,"zIndex",O))||""===_)&&this._addLazySet(c,"zIndex",0)),v&&this._addLazySet(c,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(f?"visible":"hidden"))):c.zoom=1,a=s;a&&a._next;)a=a._next;u=new wt(t,"transform",0,0,null,2),this._linkCSSP(u,null,a),u.setRatio=It?Kt:Qt,u.data=this._transform||$t(t,O,!0),u.tween=i,u.pr=-1,d.pop()}if(p){for(;s;){for(h=s._next,a=o;a&&a.pr>s.pr;)a=a._next;(s._prev=a?a._prev:l)?s._prev._next=s:o=s,(s._next=a)?a._prev=s:l=s,s=h}this._firstPT=o}return!0},t.parse=function(t,e,i,r){var n,s,a,o,l,h,_,u,f,c,p=t.style;for(n in e){if(h=e[n],s=m[n],"function"!=typeof h||s&&s.allowFunc||(h=h(A,R)),s)i=s.parse(t,h,n,this,i,r,e);else{if("--"===n.substr(0,2)){this._tween._propLookup[n]=this._addTween.call(this._tween,t.style,"setProperty",it(t).getPropertyValue(n)+"",h+"",n,!1,n);continue}l=rt(t,n,O)+"",f="string"==typeof h,"color"===n||"fill"===n||"stroke"===n||-1!==n.indexOf("Color")||f&&b.test(h)?(f||(h=(3<(h=gt(h)).length?"rgba(":"rgb(")+h.join(",")+")"),i=Ot(p,n,l,h,!0,"transparent",i,0,r)):f&&I.test(h)?i=Ot(p,n,l,h,!0,null,i,0,r):(_=(a=parseFloat(l))||0===a?l.substr((a+"").length):"",(""===l||"auto"===l)&&(_="width"===n||"height"===n?(a=_t(t,n,O),"px"):"left"===n||"top"===n?(a=st(t,n,O),"px"):(a="opacity"!==n?0:1,"")),""===(u=(c=f&&"="===h.charAt(1))?(o=parseInt(h.charAt(0)+"1",10),h=h.substr(2),o*=parseFloat(h),h.replace(D,"")):(o=parseFloat(h),f?h.replace(D,""):""))&&(u=n in P?P[n]:_),h=o||0===o?(c?o+a:o)+u:e[n],_!==u&&(""!==u||"lineHeight"===n)&&(o||0===o)&&a&&(a=nt(t,n,a,_),"%"===u?(a/=nt(t,n,100,"%")/100,!0!==e.strictUnits&&(l=a+"%")):"em"===u||"rem"===u||"vw"===u||"vh"===u?a/=nt(t,n,1,u):"px"!==u&&(o=nt(t,n,o,u),u="px"),c&&(o||0===o)&&(h=o+a+u)),c&&(o+=a),!a&&0!==a||!o&&0!==o?void 0!==p[n]&&(h||h+""!="NaN"&&null!=h)?(i=new wt(p,n,o||a||0,0,i,-1,n,!1,0,l,h)).xs0="none"!==h||"display"!==n&&-1===n.indexOf("Style")?h:l:Q("invalid "+n+" tween value: "+e[n]):(i=new wt(p,n,a,o-a,i,0,n,!1!==k&&("px"===u||"zIndex"===n),0,l,h)).xs0=u)}r&&i&&!i.plugin&&(i.plugin=r)}return i},t.setRatio=function(t){var e,i,r,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=n.r(e):e<1e-6&&-1e-6<e&&(e=0),n.type)if(1===n.type)if(2===(r=n.l))n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===r)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+e+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(e=n.r(n.s+n.c),n.type){if(1===n.type){for(r=n.l,i=n.xs0+e+n.xs1,r=1;r<n.l;r++)i+=n["xn"+r]+n["xs"+(r+1)];n.t[n.p]=i}}else n.t[n.p]=e+n.xs0;else n.t[n.p]=n.e;else n.setRatio(t);n=n._next}},t._enableTransforms=function(t){this._transform=this._transform||$t(this._target,O,!0),this._transformType=this._transform.svg&&Ct||!t&&3!==this._transformType?2:3};var re=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};t._addLazySet=function(t,e,i){var r=this._firstPT=new wt(t,e,0,0,this._firstPT,2);r.e=i,r.setRatio=re,r.data=this},t._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&(e.r=t[e.p]),e=e._next},t._kill=function(t){var e,i,r,n=t;if(t.autoAlpha||t.alpha){for(i in n={},t)n[i]=t[i];n.opacity=1,n.autoAlpha&&(n.visibility=1)}for(t.className&&(e=this._classNamePT)&&((r=e.xfirst)&&r._prev?this._linkCSSP(r._prev,e._next,r._prev._prev):r===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,r._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==i&&e.plugin._kill&&(e.plugin._kill(t),i=e.plugin),e=e._next;return s.prototype._kill.call(this,n)};var ne=function(t,e,i){var r,n,s,a;if(t.slice)for(n=t.length;-1<--n;)ne(t[n],e,i);else for(n=(r=t.childNodes).length;-1<--n;)a=(s=r[n]).type,s.style&&(e.push(at(s)),i&&i.push(s)),1!==a&&9!==a&&11!==a||!s.childNodes.length||ne(s,e,i)};return Y.cascadeTo=function(t,e,i){var r,n,s,a,o=B.to(t,e,i),l=[o],h=[],_=[],u=[],f=B._internals.reservedProps;for(t=o._targets||o.target,ne(t,h,u),o.render(e,!0,!0),ne(t,_),o.render(0,!0,!0),o._enabled(!0),r=u.length;-1<--r;)if((n=ot(u[r],h[r],_[r])).firstMPT){for(s in n=n.difs,i)f[s]&&(n[s]=i[s]);for(s in a={},n)a[s]=h[r][s];l.push(B.fromTo(u[r],e,a,n))}return l},s.activate([Y]),Y},!0),t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),l=function(e){var i=e<1?Math.pow(10,(e+"").length-2):1;return function(t){return(Math.round(t/e)*e*i|0)/i}},h=function(t,e){for(;t;)t.f||t.blob||(t.m=e||Math.round),t=t._next},(e=t.prototype)._onInitAllProps=function(){var t,e,i,r,n=this._tween,s=n.vars.roundProps,a={},o=n._propLookup.roundProps;if("object"!=typeof s||s.push)for("string"==typeof s&&(s=s.split(",")),i=s.length;-1<--i;)a[s[i]]=Math.round;else for(r in s)a[r]=l(s[r]);for(r in a)for(t=n._firstPT;t;)e=t._next,t.pg?t.t._mod(a):t.n===r&&(2===t.f&&t.t?h(t.t._firstPT,a[r]):(this._add(t.t,r,t.s,t.c,a[r]),e&&(e._prev=t._prev),t._prev?t._prev._next=e:n._firstPT===t&&(n._firstPT=e),t._next=t._prev=null,n._propLookup[r]=o)),t=e;return!1},e._add=function(t,e,i,r,n){this._addTween(t,e,i,i+r,e,n||Math.round),this._overwriteProps.push(e)},_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,r){var n,s;if("function"!=typeof t.setAttribute)return!1;for(n in e)"function"==typeof(s=e[n])&&(s=s(r,t)),this._addTween(t,"setAttribute",t.getAttribute(n)+"",s+"",n,!1,n),this._overwriteProps.push(n);return!0}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,r){"object"!=typeof e&&(e={rotation:e}),this.finals={};var n,s,a,o,l,h,_=!0===e.useRadians?2*Math.PI:360;for(n in e)"useRadians"!==n&&("function"==typeof(o=e[n])&&(o=o(r,t)),s=(h=(o+"").split("_"))[0],a=parseFloat("function"!=typeof t[n]?t[n]:t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]()),l=(o=this.finals[n]="string"==typeof s&&"="===s.charAt(1)?a+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0)-a,h.length&&(-1!==(s=h.join("_")).indexOf("short")&&((l%=_)!==l%(_/2)&&(l=l<0?l+_:l-_)),-1!==s.indexOf("_cw")&&l<0?l=(l+9999999999*_)%_-(l/_|0)*_:-1!==s.indexOf("ccw")&&0<l&&(l=(l-9999999999*_)%_-(l/_|0)*_)),(1e-6<l||l<-1e-6)&&(this._addTween(t,n,a,a+l,n),this._overwriteProps.push(n)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(m){var i,r,e,t,n=_gsScope.GreenSockGlobals||_gsScope,s=n.com.greensock,a=2*Math.PI,o=Math.PI/2,l=s._class,h=function(t,e){var i=l("easing."+t,function(){},!0),r=i.prototype=new m;return r.constructor=i,r.getRatio=e,i},_=m.register||function(){},u=function(t,e,i,r,n){var s=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new r},!0);return _(s,t),s},g=function(t,e,i){this.t=t,this.v=e,i&&(((this.next=i).prev=this).c=i.v-e,this.gap=i.t-t)},f=function(t,e){var i=l("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=i.prototype=new m;return r.constructor=i,r.getRatio=e,r.config=function(t){return new i(t)},i},c=u("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),p=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),d=p.prototype=new m;return d.constructor=p,d.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},p.ease=new p(.7,.7),d.config=p.config=function(t,e,i){return new p(t,e,i)},(d=(i=l("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new m).constructor=i,d.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},d.config=i.config=function(t,e){return new i(t,e)},(d=(r=l("easing.ExpoScaleEase",function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i},!0)).prototype=new m).constructor=r,d.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},d.config=r.config=function(t,e,i){return new r(t,e,i)},(d=(e=l("easing.RoughEase",function(t){for(var e,i,r,n,s,a,o=(t=t||{}).taper||"none",l=[],h=0,_=0|(t.points||20),u=_,f=!1!==t.randomize,c=!0===t.clamp,p=t.template instanceof m?t.template:null,d="number"==typeof t.strength?.4*t.strength:.4;-1<--u;)e=f?Math.random():1/_*u,i=p?p.getRatio(e):e,r="none"===o?d:"out"===o?(n=1-e)*n*d:"in"===o?e*e*d:(n=e<.5?2*e:2*(1-e))*n*.5*d,f?i+=Math.random()*r-.5*r:u%2?i+=.5*r:i-=.5*r,c&&(1<i?i=1:i<0&&(i=0)),l[h++]={x:e,y:i};for(l.sort(function(t,e){return t.x-e.x}),a=new g(1,1,null),u=_;-1<--u;)s=l[u],a=new g(s.x,s.y,a);this._prev=new g(0,0,0!==a.t?a:a.next)},!0)).prototype=new m).constructor=e,d.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},d.config=function(t){return new e(t)},e.ease=new e,u("Bounce",h("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=t<.5;return t=(t=e?1-2*t:2*t-1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),u("Elastic",(t=function(t,e,i){var r=l("easing."+t,function(t,e){this._p1=1<=t?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),n=r.prototype=new m;return n.constructor=r,n.getRatio=e,n.config=function(t,e){return new r(t,e)},r})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),t("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),t("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),u("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",h("SineOut",function(t){return Math.sin(t*o)}),h("SineIn",function(t){return 1-Math.cos(t*o)}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(t){return m.map[t]}},!0),_(n.SlowMo,"SlowMo","ease,"),_(e,"RoughEase","ease,"),_(i,"SteppedEase","ease,"),c},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(f,c){"use strict";var p={},r=f.document,d=f.GreenSockGlobals=f.GreenSockGlobals||f,t=d[c];if(t)return"undefined"!=typeof module&&module.exports&&(module.exports=t);var e,i,n,m,g,s,a,y=function(t){var e,i=t.split("."),r=d;for(e=0;e<i.length;e++)r[i[e]]=r=r[i[e]]||{};return r},u=y("com.greensock"),v=1e-8,l=function(t){var e,i=[],r=t.length;for(e=0;e!==r;i.push(t[e++]));return i},T=function(){},x=(s=Object.prototype.toString,a=s.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&s.call(t)===a)}),b={},w=function(o,l,h,_){this.sc=b[o]?b[o].sc:[],(b[o]=this).gsClass=null,this.func=h;var u=[];this.check=function(t){for(var e,i,r,n,s=l.length,a=s;-1<--s;)(e=b[l[s]]||new w(l[s],[])).gsClass?(u[s]=e.gsClass,a--):t&&e.sc.push(this);if(0===a&&h){if(r=(i=("com.greensock."+o).split(".")).pop(),n=y(i.join("."))[r]=this.gsClass=h.apply(h,u),_)if(d[r]=p[r]=n,"undefined"!=typeof module&&module.exports)if(o===c)for(s in module.exports=p[c]=n,p)n[s]=p[s];else p[c]&&(p[c][r]=n);else"function"==typeof define&&define.amd&&define((f.GreenSockAMDPath?f.GreenSockAMDPath+"/":"")+o.split(".").pop(),[],function(){return n});for(s=0;s<this.sc.length;s++)this.sc[s].check()}},this.check(!0)},o=f._gsDefine=function(t,e,i,r){return new w(t,e,i,r)},P=u._class=function(t,e,i){return e=e||function(){},o(t,[],function(){return e},i),e};o.globals=d;var h=[0,0,1,1],O=P("easing.Ease",function(t,e,i,r){this._func=t,this._type=i||0,this._power=r||0,this._params=e?h.concat(e):h},!0),S=O.map={},_=O.register=function(t,e,i,r){for(var n,s,a,o,l=e.split(","),h=l.length,_=(i||"easeIn,easeOut,easeInOut").split(",");-1<--h;)for(s=l[h],n=r?P("easing."+s,null,!0):u.easing[s]||{},a=_.length;-1<--a;)o=_[a],S[s+"."+o]=S[o+s]=n[o]=t.getRatio?t:t[o]||new t};for((n=O.prototype)._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,r=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?r*=r:2===i?r*=r*r:3===i?r*=r*r*r:4===i&&(r*=r*r*r*r),1===e?1-r:2===e?r:t<.5?r/2:1-r/2},i=(e=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--i;)n=e[i]+",Power"+i,_(new O(null,null,1,i),n,"easeOut",!0),_(new O(null,null,2,i),n,"easeIn"+(0===i?",easeNone":"")),_(new O(null,null,3,i),n,"easeInOut");S.linear=u.easing.Linear.easeIn,S.swing=u.easing.Quad.easeInOut;var k=P("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(n=k.prototype).addEventListener=function(t,e,i,r,n){n=n||0;var s,a,o=this._listeners[t],l=0;for(this!==m||g||m.wake(),null==o&&(this._listeners[t]=o=[]),a=o.length;-1<--a;)(s=o[a]).c===e&&s.s===i?o.splice(a,1):0===l&&s.pr<n&&(l=a+1);o.splice(l,0,{c:e,s:i,up:r,pr:n})},n.removeEventListener=function(t,e){var i,r=this._listeners[t];if(r)for(i=r.length;-1<--i;)if(r[i].c===e)return void r.splice(i,1)},n.dispatchEvent=function(t){var e,i,r,n=this._listeners[t];if(n)for(1<(e=n.length)&&(n=n.slice(0)),i=this._eventTarget;-1<--e;)(r=n[e])&&(r.up?r.c.call(r.s||i,{type:t,target:i}):r.c.call(r.s||i))};var R=f.requestAnimationFrame,A=f.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},M=C();for(i=(e=["ms","moz","webkit","o"]).length;-1<--i&&!R;)R=f[e[i]+"RequestAnimationFrame"],A=f[e[i]+"CancelAnimationFrame"]||f[e[i]+"CancelRequestAnimationFrame"];P("Ticker",function(t,e){var n,s,a,o,l,h=this,_=C(),i=!(!1===e||!R)&&"auto",u=500,f=33,c=function(t){var e,i,r=C()-M;u<r&&(_+=r-f),M+=r,h.time=(M-_)/1e3,e=h.time-l,(!n||0<e||!0===t)&&(h.frame++,l+=e+(o<=e?.004:o-e),i=!0),!0!==t&&(a=s(c)),i&&h.dispatchEvent("tick")};k.call(h),h.time=h.frame=0,h.tick=function(){c(!0)},h.lagSmoothing=function(t,e){return arguments.length?(u=t||1e8,void(f=Math.min(e,u,0))):u<1e8},h.sleep=function(){null!=a&&(i&&A?A(a):clearTimeout(a),s=T,a=null,h===m&&(g=!1))},h.wake=function(t){null!==a?h.sleep():t?_+=-M+(M=C()):10<h.frame&&(M=C()-u+5),s=0===n?T:i&&R?R:function(t){return setTimeout(t,1e3*(l-h.time)+1|0)},h===m&&(g=!0),c(2)},h.fps=function(t){return arguments.length?(o=1/((n=t)||60),l=this.time+o,void h.wake()):n},h.useRAF=function(t){return arguments.length?(h.sleep(),i=t,void h.fps(n)):i},h.fps(t),setTimeout(function(){"auto"===i&&h.frame<5&&"hidden"!==(r||{}).visibilityState&&h.useRAF(!1)},1500)}),(n=u.Ticker.prototype=new u.events.EventDispatcher).constructor=u.Ticker;var D=P("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!!e.immediateRender,this.data=e.data,this._reversed=!!e.reversed,K){g||m.wake();var i=this.vars.useFrames?Q:K;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});m=D.ticker=new u.Ticker,(n=D.prototype)._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var F=function(){g&&2e3<C()-M&&("hidden"!==(r||{}).visibilityState||!m.lagSmoothing())&&m.wake();var t=setTimeout(F,2e3);t.unref&&t.unref()};F(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(t,e,i){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-v},n._enabled=function(t,e){return g||m.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(t,e){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},n._callback=function(t){var e=this.vars,i=e[t],r=e[t+"Params"],n=e[t+"Scope"]||e.callbackScope||this;switch(r?r.length:0){case 0:i.call(n);break;case 1:i.call(n,r[0]);break;case 2:i.call(n,r[0],r[1]);break;default:i.apply(n,r)}},n.eventCallback=function(t,e,i,r){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=x(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(g||m.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(r<t&&!i&&(t=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(X.length&&tt(),this.render(t,e,!1),X.length&&tt())}return this},n.progress=n.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||v,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;var e,i,r=this._timeline;return t!=this._paused&&r&&(g||t||m.wake(),i=(e=r.rawTime())-this._pauseTime,!t&&r.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=r.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var z=P("core.SimpleTimeline",function(t){D.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(n=z.prototype=new D).constructor=z,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e,i,r){var n,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),n=this._last,this._sortChildren)for(s=t._startTime;n&&n._startTime>s;)n=n._prev;return n?(t._next=n._next,n._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=n,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)r=n._next,(n._active||t>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r},n.rawTime=function(){return g||m.wake(),this._totalTime};var E=P("TweenLite",function(t,e,i){if(D.call(this,e,i),this.render=E.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:E.selector(t)||t;var r,n,s,a=t.jquery||t.length&&t!==f&&t[0]&&(t[0]===f||t[0].nodeType&&t[0].style&&!t.nodeType),o=this.vars.overwrite;if(this._overwrite=o=null==o?$[E.defaultOverwrite]:"number"==typeof o?o>>0:$[o],(a||t instanceof Array||t.push&&x(t))&&"number"!=typeof t[0])for(this._targets=s=l(t),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)(n=s[r])?"string"!=typeof n?n.length&&n!==f&&n[0]&&(n[0]===f||n[0].nodeType&&n[0].style&&!n.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(l(n))):(this._siblings[r]=et(n,this,!1),1===o&&1<this._siblings[r].length&&rt(n,this,null,1,this._siblings[r])):"string"==typeof(n=s[r--]=E.selector(n))&&s.splice(r+1,1):s.splice(r--,1);else this._propLookup={},this._siblings=et(t,this,!1),1===o&&1<this._siblings.length&&rt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-v,this.render(Math.min(0,-this._delay)))},!0),I=function(t){return t&&t.length&&t!==f&&t[0]&&(t[0]===f||t[0].nodeType&&t[0].style&&!t.nodeType)};(n=E.prototype=new D).constructor=E,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,E.version="2.1.3",E.defaultEase=n._ease=new O(null,null,1,1),E.defaultOverwrite="auto",E.ticker=m,E.autoSleep=120,E.lagSmoothing=function(t,e){m.lagSmoothing(t,e)},E.selector=f.$||f.jQuery||function(t){var e=f.$||f.jQuery;return e?(E.selector=e)(t):(r||(r=f.document),r?r.querySelectorAll?r.querySelectorAll(t):r.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var X=[],N={},L=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,Y=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m.call(this._tween,e,this._target||i.t,this._tween):e<1e-6&&-1e-6<e&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},j=function(t){return(1e3*t|0)/1e3+""},U=function(t,e,i,r){var n,s,a,o,l,h,_,u=[],f=0,c="",p=0;for(u.start=t,u.end=e,t=u[0]=t+"",e=u[1]=e+"",i&&(i(u),t=u[0],e=u[1]),u.length=0,n=t.match(L)||[],s=e.match(L)||[],r&&(r._next=null,r.blob=1,u._firstPT=u._applyPT=r),l=s.length,o=0;o<l;o++)_=s[o],c+=(h=e.substr(f,e.indexOf(_,f)-f))||!o?h:",",f+=h.length,p?p=(p+1)%5:"rgba("===h.substr(-5)&&(p=1),_===n[o]||n.length<=o?c+=_:(c&&(u.push(c),c=""),a=parseFloat(n[o]),u.push(a),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:a,c:("="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*parseFloat(_.substr(2)):parseFloat(_)-a)||0,f:0,m:p&&p<4?Math.round:j}),f+=_.length;return(c+=e.substr(f))&&u.push(c),u.setRatio=Y,B.test(e)&&(u.end=null),u},V=function(t,e,i,r,n,s,a,o,l){"function"==typeof r&&(r=r(l||0,t));var h=typeof t[e],_="function"!==h?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),u="get"!==i?i:_?a?t[_](a):t[_]():t[e],f="string"==typeof r&&"="===r.charAt(1),c={t:t,p:e,s:u,f:"function"===h,pg:0,n:n||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:f?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-u||0};return("number"!=typeof u||"number"!=typeof r&&!f)&&(a||isNaN(u)||!f&&isNaN(r)||"boolean"==typeof u||"boolean"==typeof r?(c.fp=a,c={t:U(u,f?parseFloat(c.s)+c.c+(c.s+"").replace(/[0-9\-\.]/g,""):r,o||E.defaultStringFilter,c),p:"setRatio",s:0,c:1,f:2,pg:0,n:n||e,pr:0,m:0}):(c.s=parseFloat(u),f||(c.c=parseFloat(r)-c.s||0))),c.c?((c._next=this._firstPT)&&(c._next._prev=c),this._firstPT=c):void 0},q=E._internals={isArray:x,isSelector:I,lazyTweens:X,blobDif:U},W=E._plugins={},G=q.tweenLookup={},Z=0,H=q.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},$={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=D._rootFramesTimeline=new z,K=D._rootTimeline=new z,J=30,tt=q.lazyRender=function(){var t,e,i=X.length;for(N={},t=0;t<i;t++)(e=X[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);X.length=0};K._startTime=m.time,Q._startTime=m.frame,K._active=Q._active=!0,setTimeout(tt,1),D._updateRoot=E.render=function(){var t,e,i;if(X.length&&tt(),K.render((m.time-K._startTime)*K._timeScale,!1,!1),Q.render((m.frame-Q._startTime)*Q._timeScale,!1,!1),X.length&&tt(),m.frame>=J){for(i in J=m.frame+(parseInt(E.autoSleep,10)||120),G){for(t=(e=G[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete G[i]}if((!(i=K._first)||i._paused)&&E.autoSleep&&!Q._first&&1===m._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||m.sleep()}}},m.addEventListener("tick",D._updateRoot);var et=function(t,e,i){var r,n,s=t._gsTweenID;if(G[s||(t._gsTweenID=s="t"+Z++)]||(G[s]={target:t,tweens:[]}),e&&((r=G[s].tweens)[n=r.length]=e,i))for(;-1<--n;)r[n]===e&&r.splice(n,1);return G[s].tweens},it=function(t,e,i,r){var n,s,a=t.vars.onOverwrite;return a&&(n=a(t,e,i,r)),(a=E.onOverwrite)&&(s=a(t,e,i,r)),!1!==n&&!1!==s},rt=function(t,e,i,r,n){var s,a,o,l;if(1===r||4<=r){for(l=n.length,s=0;s<l;s++)if((o=n[s])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===r)break;return a}var h,_=e._startTime+v,u=[],f=0,c=0===e._duration;for(s=n.length;-1<--s;)(o=n[s])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||nt(e,0,c),0===nt(o,h,c)&&(u[f++]=o)):o._startTime<=_&&o._startTime+o.totalDuration()/o._timeScale>_&&((c||!o._initted)&&_-o._startTime<=2e-8||(u[f++]=o)));for(s=f;-1<--s;)if(l=(o=u[s])._firstPT,2===r&&o._kill(i,t,e)&&(a=!0),2!==r||!o._firstPT&&o._initted&&l){if(2!==r&&!it(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},nt=function(t,e,i){for(var r=t._timeline,n=r._timeScale,s=t._startTime;r._timeline;){if(s+=r._startTime,n*=r._timeScale,r._paused)return-100;r=r._timeline}return e<(s/=n)?s-e:i&&s===e||!t._initted&&s-e<2e-8?v:(s+=t.totalDuration()/t._timeScale/n)>e+v?0:s-e-v};n._init=function(){var t,e,i,r,n,s,a=this.vars,o=this._overwrittenProps,l=this._duration,h=!!a.immediateRender,_=a.ease,u=this._startAt;if(a.startAt){for(r in u&&(u.render(-1,!0),u.kill()),n={},a.startAt)n[r]=a.startAt[r];if(n.data="isStart",n.overwrite=!1,n.immediateRender=!0,n.lazy=h&&!1!==a.lazy,n.startAt=n.delay=null,n.onUpdate=a.onUpdate,n.onUpdateParams=a.onUpdateParams,n.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=E.to(this.target||{},0,n),h)if(0<this._time)this._startAt=null;else if(0!==l)return}else if(a.runBackwards&&0!==l)if(u)u.render(-1,!0),u.kill(),this._startAt=null;else{for(r in 0!==this._time&&(h=!1),i={},a)H[r]&&"autoCSS"!==r||(i[r]=a[r]);if(i.overwrite=0,i.data="isFromStart",i.lazy=h&&!1!==a.lazy,i.immediateRender=h,this._startAt=E.to(this.target,0,i),h){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=_=_?_ instanceof O?_:"function"==typeof _?new O(_,a.easeParams):S[_]||E.defaultEase:E.defaultEase,a.easeParams instanceof Array&&_.config&&(this._ease=_.config.apply(_,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(s=this._targets.length,t=0;t<s;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o,0);if(e&&E._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},n._initProps=function(t,e,i,r,n){var s,a,o,l,h,_;if(null==t)return!1;for(s in N[t._gsTweenID]&&tt(),this.vars.css||t.style&&t!==f&&t.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(t,e){var i,r={};for(i in t)H[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!W[i]||W[i]&&W[i]._autoCSS)||(r[i]=t[i],delete t[i]);t.css=r}(this.vars,t),this.vars)if(_=this.vars[s],H[s])_&&(_ instanceof Array||_.push&&x(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[s]=_=this._swapSelfInParams(_,this));else if(W[s]&&(l=new W[s])._onInitTween(t,this.vars[s],this,n)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:l._priority,m:0},a=l._overwriteProps.length;-1<--a;)e[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else e[s]=V.call(this,t,s,"get",_,s,0,null,this.vars.stringFilter,n);return r&&this._kill(r,t)?this._initProps(t,e,i,r,n):1<this._overwrite&&this._firstPT&&1<i.length&&rt(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,r,n)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(N[t._gsTweenID]=!0),o)},n.render=function(t,e,i){var r,n,s,a,o=this,l=o._time,h=o._duration,_=o._rawPrevTime;if(h-v<=t&&0<=t)o._totalTime=o._time=h,o.ratio=o._ease._calcEnd?o._ease.getRatio(1):1,o._reversed||(r=!0,n="onComplete",i=i||o._timeline.autoRemoveChildren),0===h&&(o._initted||!o.vars.lazy||i)&&(o._startTime===o._timeline._duration&&(t=0),(_<0||t<=0&&-v<=t||_===v&&"isPause"!==o.data)&&_!==t&&(i=!0,v<_&&(n="onReverseComplete")),o._rawPrevTime=a=!e||t||_===t?t:v);else if(t<v)o._totalTime=o._time=0,o.ratio=o._ease._calcEnd?o._ease.getRatio(0):0,(0!==l||0===h&&0<_)&&(n="onReverseComplete",r=o._reversed),-v<t?t=0:t<0&&(o._active=!1,0===h&&(o._initted||!o.vars.lazy||i)&&(0<=_&&(_!==v||"isPause"!==o.data)&&(i=!0),o._rawPrevTime=a=!e||t||_===t?t:v)),(!o._initted||o._startAt&&o._startAt.progress())&&(i=!0);else if(o._totalTime=o._time=t,o._easeType){var u=t/h,f=o._easeType,c=o._easePower;(1===f||3===f&&.5<=u)&&(u=1-u),3===f&&(u*=2),1===c?u*=u:2===c?u*=u*u:3===c?u*=u*u*u:4===c&&(u*=u*u*u*u),o.ratio=1===f?1-u:2===f?u:t/h<.5?u/2:1-u/2}else o.ratio=o._ease.getRatio(t/h);if(o._time!==l||i){if(!o._initted){if(o._init(),!o._initted||o._gc)return;if(!i&&o._firstPT&&(!1!==o.vars.lazy&&o._duration||o.vars.lazy&&!o._duration))return o._time=o._totalTime=l,o._rawPrevTime=_,X.push(o),void(o._lazy=[t,e]);o._time&&!r?o.ratio=o._ease.getRatio(o._time/h):r&&o._ease._calcEnd&&(o.ratio=o._ease.getRatio(0===o._time?0:1))}for(!1!==o._lazy&&(o._lazy=!1),o._active||!o._paused&&o._time!==l&&0<=t&&(o._active=!0),0===l&&(o._startAt&&(0<=t?o._startAt.render(t,!0,i):n||(n="_dummyGS")),o.vars.onStart&&(0!==o._time||0===h)&&(e||o._callback("onStart"))),s=o._firstPT;s;)s.f?s.t[s.p](s.c*o.ratio+s.s):s.t[s.p]=s.c*o.ratio+s.s,s=s._next;o._onUpdate&&(t<0&&o._startAt&&-1e-4!==t&&o._startAt.render(t,!0,i),e||(o._time!==l||r||i)&&o._callback("onUpdate")),n&&(!o._gc||i)&&(t<0&&o._startAt&&!o._onUpdate&&-1e-4!==t&&o._startAt.render(t,!0,i),r&&(o._timeline.autoRemoveChildren&&o._enabled(!1,!1),o._active=!1),!e&&o.vars[n]&&o._callback(n),0===h&&o._rawPrevTime===v&&a!==v&&(o._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:E.selector(e)||e;var r,n,s,a,o,l,h,_,u,f=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline,c=this._firstPT;if((x(e)||I(e))&&"number"!=typeof e[0])for(r=e.length;-1<--r;)this._kill(t,e[r],i)&&(l=!0);else{if(this._targets){for(r=this._targets.length;-1<--r;)if(e===this._targets[r]){o=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[r]=t?this._overwrittenProps[r]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,n=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,_=t!==n&&"all"!==n&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(E.onOverwrite||this.vars.onOverwrite)){for(s in h)o[s]&&(u||(u=[]),u.push(s));if((u||!t)&&!it(this,i,e,u))return!1}for(s in h)(a=o[s])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(h)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[s]),_&&(n[s]=1);!this._firstPT&&this._initted&&c&&this._enabled(!1,!1)}}return l},n.invalidate=function(){this._notifyPluginsOfEnabled&&E._onPluginEvent("_onDisable",this);var t=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],D.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-v,this.render(t,!1,!1!==this.vars.lazy)),this},n._enabled=function(t,e){if(g||m.wake(),t&&this._gc){var i,r=this._targets;if(r)for(i=r.length;-1<--i;)this._siblings[i]=et(r[i],this,!0);else this._siblings=et(this.target,this,!0)}return D.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&E._onPluginEvent(t?"_onEnable":"_onDisable",this)},E.to=function(t,e,i){return new E(t,e,i)},E.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new E(t,e,i)},E.fromTo=function(t,e,i,r){return r.startAt=i,r.immediateRender=0!=r.immediateRender&&0!=i.immediateRender,new E(t,e,r)},E.delayedCall=function(t,e,i,r,n){return new E(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:r,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:n,overwrite:0})},E.set=function(t,e){return new E(t,0,e)},E.getTweensOf=function(t,e){if(null==t)return[];var i,r,n,s;if(t="string"!=typeof t?t:E.selector(t)||t,(x(t)||I(t))&&"number"!=typeof t[0]){for(i=t.length,r=[];-1<--i;)r=r.concat(E.getTweensOf(t[i],e));for(i=r.length;-1<--i;)for(s=r[i],n=i;-1<--n;)s===r[n]&&r.splice(i,1)}else if(t._gsTweenID)for(i=(r=et(t).concat()).length;-1<--i;)(r[i]._gc||e&&!r[i].isActive())&&r.splice(i,1);return r||[]},E.killTweensOf=E.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var r=E.getTweensOf(t,e),n=r.length;-1<--n;)r[n]._kill(i,t)};var st=P("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=st.prototype},!0);if(n=st.prototype,st.version="1.19.0",st.API=2,n._firstPT=null,n._addTween=V,n.setRatio=Y,n._kill=function(t){var e,i=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},n._mod=n._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},E._onPluginEvent=function(t,e){var i,r,n,s,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,r=n;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:s)?o._prev._next=o:n=o,(o._next=r)?r._prev=o:s=o,o=a}o=e._firstPT=n}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},st.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===st.API&&(W[(new t[e])._propName]=t[e]);return!0},o.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,r=t.priority||0,n=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=P("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){st.call(this,i,r),this._overwriteProps=n||[]},!0===t.global),o=a.prototype=new st(i);for(e in(o.constructor=a).API=t.API,s)"function"==typeof t[e]&&(o[s[e]]=t[e]);return a.version=t.version,st.activate([a]),a},e=f._gsQueue){for(i=0;i<e.length;i++)e[i]();for(n in b)b[n].func||f.console.log("GSAP encountered missing dependency: "+n)}g=!1}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,function(e){"use strict";function Ie(e){return e}function ze(e){return ht(e)[0]||(Pt(e)?console.warn("Element not found:",e):null)}function p(e){return Math.round(1e5*e)/1e5||0}function i(){return"undefined"!=typeof window}function o(){return ct||i()&&(ct=window.gsap)&&ct.registerPlugin&&ct}function Le(e){return!!~h.indexOf(e)}function Ne(e,t){return~Ot.indexOf(e)&&Ot[Ot.indexOf(e)+1][t]}function Fe(t,e){var r=e.s,n=e.sc,i=O.indexOf(t),o=n===qt.sc?1:2;return~i||(i=O.push(t)-1),O[i+o]||(O[i+o]=Ne(t,r)||(Le(t)?n:function(e){return arguments.length?t[r]=e:t[r]}))}function De(e){return Ne(e,"getBoundingClientRect")||(Le(e)?function(){return Gt.width=ut.innerWidth,Gt.height=ut.innerHeight,Gt}:function(){return Vt(e)})}function We(e,t){var r=t.s,n=t.d2,i=t.d,o=t.a;return(r="scroll"+n)&&(o=Ne(e,r))?o()-De(e)()[i]:Le(e)?(pt[r]||dt[r])-(ut["inner"+n]||dt["client"+n]||pt["client"+n]):e[r]-e["offset"+n]}function s(e,t){for(var r=0;r<k.length;r+=3)t&&!~t.indexOf(k[r+1])||e(k[r],k[r+1],k[r+2])}function He(e){return"function"==typeof e}function qe(e){return"number"==typeof e}function Ve(e){return"object"==typeof e}function a(e){return He(e)&&e()}function l(r,n){return function(){var e=a(r),t=a(n);return function(){a(e),a(t)}}}function je(e,t,r){return e&&e.progress(t?0:1)&&r&&e.pause()}function Ue(e,t){var r=t(e);r&&r.totalTime&&(e.callbackAnimation=r)}function Xe(e){return ut.getComputedStyle(e)}function Ye(e,t){for(var r in t)r in e||(e[r]=t[r]);return e}function Ze(e,t){var r=t.d2;return e["offset"+r]||e["client"+r]||0}function $e(e){var t,r=[],n=e.labels,i=e.duration();for(t in n)r.push(n[t]/i);return r}function Ge(n){var i=ct.utils.snap(n),o=Array.isArray(n)&&n.slice(0).sort(function(e,t){return e-t});return o?function(e,t){var r;if(!t)return i(e);if(0<t){for(e-=1e-4,r=0;r<o.length;r++)if(o[r]>=e)return o[r];return o[r-1]}for(r=o.length,e+=1e-4;r--;)if(o[r]<=e)return o[r];return o[0]}:function(e,t){var r=i(e);return!t||Math.abs(r-e)<.001||r-e<0==t<0?r:i(t<0?e-n:e+n)}}function c(t,r,e,n){return e.split(",").forEach(function(e){return t(r,e,n)})}function Je(e,t,r){return e.addEventListener(t,r,{passive:!0})}function Ke(e,t,r){return e.removeEventListener(t,r)}function Qe(e,t){if(Pt(e)){var r=e.indexOf("="),n=~r?(e.charAt(r-1)+1)*parseFloat(e.substr(r+1)):0;~r&&(e.indexOf("%")>r&&(n*=t/100),e=e.substr(0,r-1)),e=n+(e in A?A[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e}function et(e,t,r,n,i,o,s,a){var l=i.startColor,c=i.endColor,u=i.fontSize,f=i.indent,d=i.fontWeight,p=ft.createElement("div"),h=Le(r)||"fixed"===Ne(r,"pinType"),g=-1!==e.indexOf("scroller"),v=h?pt:r,m=-1!==e.indexOf("start"),y=m?l:c,x="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return x+="position:"+((g||a)&&h?"fixed;":"absolute;"),!g&&!a&&h||(x+=(n===qt?P:_)+":"+(o+parseFloat(f))+"px;"),s&&(x+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),p._isStart=m,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=x,p.innerText=t||0===t?e+"-"+t:e,v.children[0]?v.insertBefore(p,v.children[0]):v.appendChild(p),p._offset=p["offset"+n.op.d2],R(p,0,n,m),p}function u(){return 20<Tt()-Et&&q()}function tt(){var e=Tt();Et!==e?(q(),Et||L("scrollStart"),Et=e):m=m||v(q)}function rt(){return!mt&&!r&&!ft.fullscreenElement&&g.restart(!0)}function f(e){var t,r=ct.ticker.frame,n=[],i=0;if(S!==r||Ct){for(D();i<z.length;i+=4)(t=ut.matchMedia(z[i]).matches)!==z[i+3]&&((z[i+3]=t)?n.push(i):D(1,z[i])||He(z[i+2])&&z[i+2]());for(F(),i=0;i<n.length;i++)t=n[i],St=z[t],z[t+2]=z[t+1](e);St=0,d&&W(0,1),S=r,L("matchMedia")}}function nt(){return Ke(Y,"scrollEnd",nt)||W(!0)}function n(){return O.forEach(function(e){return"function"==typeof e&&(e.rec=0)})}function it(e,t,r,n){if(e.parentNode!==t){for(var i,o=V.length,s=t.style,a=e.style;o--;)s[i=V[o]]=r[i];s.position="absolute"===r.position?"absolute":"relative","inline"===r.display&&(s.display="inline-block"),a[_]=a[P]="auto",s.overflow="visible",s.boxSizing="border-box",s[At]=Ze(e,Ht)+Wt,s[Rt]=Ze(e,qt)+Wt,s[Nt]=a[Ft]=a.top=a[M]="0",$t(n),a[At]=a.maxWidth=r[At],a[Rt]=a.maxHeight=r[Rt],a[Nt]=r[Nt],e.parentNode.insertBefore(t,e),t.appendChild(e)}}function ot(e){for(var t=j.length,r=e.style,n=[],i=0;i<t;i++)n.push(j[i],r[j[i]]);return n.t=e,n}function st(e,t,r,n,i,o,s,a,l,c,u,f,d){He(e)&&(e=e(a)),Pt(e)&&"max"===e.substr(0,3)&&(e=f+("="===e.charAt(4)?Qe("0"+e.substr(3),r):0));var p,h,g,v=d?d.time():0;if(d&&d.seek(0),qe(e))s&&R(s,r,n,!0);else{He(t)&&(t=t(a));var m,y,x,b,w=e.split(" ");g=ze(t)||pt,(m=Vt(g)||{})&&(m.left||m.top)||"none"!==Xe(g).display||(b=g.style.display,g.style.display="block",m=Vt(g),b?g.style.display=b:g.style.removeProperty("display")),y=Qe(w[0],m[n.d]),x=Qe(w[1]||"0",r),e=m[n.p]-l[n.p]-c+y+i-x,s&&R(s,x,n,r-x<20||s._isStart&&20<x),r-=r-x}if(o){var k=e+r,S=o._isStart;p="scroll"+n.d2,R(o,k,n,S&&20<k||!S&&(u?Math.max(pt[p],dt[p]):o.parentNode[p])<=k+1),u&&(l=Vt(s),u&&(o.style[n.op.p]=l[n.op.p]-n.op.m-o._offset+Wt))}return d&&g&&(p=Vt(g),d.seek(f),h=Vt(g),d._caScrollDist=p[n.p]-h[n.p],e=e/d._caScrollDist*f),d&&d.seek(v),d?e:Math.round(e)}function at(e,t,r,n){if(e.parentNode!==t){var i,o,s=e.style;if(t===pt){for(i in e._stOrig=s.cssText,o=Xe(e))+i||X.test(i)||!o[i]||"string"!=typeof s[i]||"0"===i||(s[i]=o[i]);s.top=r,s.left=n}else s.cssText=e._stOrig;ct.core.getCache(e).uncache=1,t.appendChild(e)}}function lt(a,e){function l(e,t,r,n,i){var o=l.tween,s=t.onComplete;return o&&o.kill(),c=Math.round(r),t[d]=e,(t.modifiers={})[d]=function(e){return(e=p(f()))!==c&&e!==u&&2<Math.abs(e-c)?(o.kill(),l.tween=0):e=r+n*o.ratio+i*o.ratio*o.ratio,u=c,c=p(e)},t.onComplete=function(){l.tween=0,s&&s.call(o)},o=l.tween=ct.to(a,t)}var c,u,f=Fe(a,e),d="_scroll"+e.p2;return a[d]=f,a.addEventListener("wheel",function(){return l.tween&&l.tween.kill()&&(l.tween=0)},{passive:!0}),l}var ct,d,ut,ft,dt,pt,h,g,v,m,ht,gt,vt,y,mt,yt,x,xt,b,w,k,bt,wt,r,kt,St,S,C,Ct=1,Ot=[],O=[],Tt=Date.now,T=Tt(),Et=0,Mt=1,Pt=function(e){return"string"==typeof e},_t=Math.abs,t="scrollLeft",E="scrollTop",M="left",P="right",_="bottom",At="width",Rt="height",Bt="Right",It="Left",zt="Top",Lt="Bottom",Nt="padding",Ft="margin",Dt="Width",Wt="px",Ht={s:t,p:M,p2:It,os:P,os2:Bt,d:At,d2:Dt,a:"x",sc:function(e){return arguments.length?ut.scrollTo(e,qt.sc()):ut.pageXOffset||ft[t]||dt[t]||pt[t]||0}},qt={s:E,p:"top",p2:zt,os:_,os2:Lt,d:Rt,d2:"Height",a:"y",op:Ht,sc:function(e){return arguments.length?ut.scrollTo(Ht.sc(),e):ut.pageYOffset||ft[E]||dt[E]||pt[E]||0}},Vt=function(e,t){var r=t&&"matrix(1, 0, 0, 1, 0, 0)"!==Xe(e)[x]&&ct.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return r&&r.progress(0).kill(),n},jt={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ut={toggleActions:"play",anticipatePin:0},A={top:0,left:0,center:.5,bottom:1,right:1},R=function(e,t,r,n){var i={display:"block"},o=r[n?"os2":"p2"],s=r[n?"p2":"os2"];e._isFlipped=n,i[r.a+"Percent"]=n?-100:0,i[r.a]=n?"1px":0,i["border"+o+Dt]=1,i["border"+s+Dt]=0,i[r.p]=t+"px",ct.set(e,i)},Xt=[],Yt={},B={},I=[],z=[],L=function(e){return B[e]&&B[e].map(function(e){return e()})||I},N=[],F=function(e){for(var t=0;t<N.length;t+=5)e&&N[t+4]!==e||(N[t].style.cssText=N[t+1],N[t].getBBox&&N[t].setAttribute("transform",N[t+2]||""),N[t+3].uncache=1)},D=function(e,t){var r;for(xt=0;xt<Xt.length;xt++)r=Xt[xt],t&&r.media!==t||(e?r.kill(1):r.revert());t&&F(t),t||L("revert")},W=function(e,t){if(!Et||e){C=!0;var r=L("refreshInit");bt&&Y.sort(),t||D(),Xt.forEach(function(e){return e.refresh()}),r.forEach(function(e){return e&&e.render&&e.render(-1)}),n(),g.pause(),C=!1,L("refresh")}else Je(Y,"scrollEnd",nt)},H=0,Zt=1,q=function(){if(!C){var e=Xt.length,t=Tt(),r=50<=t-T,n=e&&Xt[0].scroll();if(Zt=n<H?-1:1,H=n,r&&(Et&&!yt&&200<t-Et&&(Et=0,L("scrollEnd")),vt=T,T=t),Zt<0){for(xt=e;0<xt--;)Xt[xt]&&Xt[xt].update(0,r);Zt=1}else for(xt=0;xt<e;xt++)Xt[xt]&&Xt[xt].update(0,r);m=0}},V=[M,"top",_,P,Ft+Lt,Ft+Bt,Ft+zt,Ft+It,"display","flexShrink","float","zIndex","grid-column-start","grid-column-end","grid-row-start","grid-row-end","grid-area","justify-self","align-self","place-self"],j=V.concat([At,Rt,"boxSizing","max"+Dt,"maxHeight","position",Ft,Nt,Nt+zt,Nt+Bt,Nt+Lt,Nt+It]),U=/([A-Z])/g,$t=function(e){if(e){var t,r,n=e.t.style,i=e.length,o=0;for((e.t._gsap||ct.core.getCache(e.t)).uncache=1;o<i;o+=2)r=e[o+1],t=e[o],r?n[t]=r:n[t]&&n.removeProperty(t.replace(U,"-$1").toLowerCase())}},Gt={left:0,top:0},X=/(?:webkit|moz|length|cssText|inset)/i;Ht.op=qt;var Y=(Jt.prototype.init=function(S,C){if(this.progress=this.start=0,this.vars&&this.kill(1),Mt){var m,n,f,O,T,E,M,P,_,A,R,e,B,I,z,L,N,t,F,y,D,W,x,H,b,w,r,k,q,V,i,d,j,U,X,Y,Z,$=(S=Ye(Pt(S)||qe(S)||S.nodeType?{trigger:S}:S,Ut)).onUpdate,G=S.toggleClass,o=S.id,J=S.onToggle,K=S.onRefresh,Q=S.scrub,ee=S.trigger,te=S.pin,re=S.pinSpacing,ne=S.invalidateOnRefresh,ie=S.anticipatePin,s=S.onScrubComplete,p=S.onSnapComplete,oe=S.once,se=S.snap,ae=S.pinReparent,a=S.pinSpacer,le=S.containerAnimation,ce=S.fastScrollEnd,ue=S.preventOverlaps,fe=S.horizontal||S.containerAnimation&&!1!==S.horizontal?Ht:qt,de=!Q&&0!==Q,pe=ze(S.scroller||ut),l=ct.core.getCache(pe),he=Le(pe),ge="fixed"===("pinType"in S?S.pinType:Ne(pe,"pinType")||he&&"fixed"),ve=[S.onEnter,S.onLeave,S.onEnterBack,S.onLeaveBack],me=de&&S.toggleActions.split(" "),c="markers"in S?S.markers:Ut.markers,ye=he?0:parseFloat(Xe(pe)["border"+fe.p2+Dt])||0,xe=this,u=S.onRefreshInit&&function(){return S.onRefreshInit(xe)},be=(Me=pe,Pe=he,Ae=(_e=fe).d,Re=_e.d2,Be=_e.a,(Be=Ne(Me,"getBoundingClientRect"))?function(){return Be()[Ae]}:function(){return(Pe?ut["inner"+Re]:Me["client"+Re])||0}),we=(Ee=pe,!he||~Ot.indexOf(Ee)?De(Ee):function(){return Gt}),h=0,ke=Fe(pe,fe);if(xe.media=St,ie*=45,xe.scroller=pe,xe.scroll=le?le.time.bind(le):ke,O=ke(),xe.vars=S,C=C||S.animation,"refreshPriority"in S&&(bt=1),l.tweenScroll=l.tweenScroll||{top:lt(pe,qt),left:lt(pe,Ht)},xe.tweenTo=m=l.tweenScroll[fe.p],C&&(C.vars.lazy=!1,C._initted||!1!==C.vars.immediateRender&&!1!==S.immediateRender&&C.render(0,!0,!0),xe.animation=C.pause(),C.scrollTrigger=xe,(i=qe(Q)&&Q)&&(V=ct.to(C,{ease:"power3",duration:i,onComplete:function(){return s&&s(xe)}})),k=0,o=o||C.vars.id),Xt.push(xe),se&&(Ve(se)&&!se.push||(se={snapTo:se}),"scrollBehavior"in pt.style&&ct.set(he?[pt,dt]:pe,{scrollBehavior:"auto"}),f=He(se.snapTo)?se.snapTo:"labels"===se.snapTo?(Te=C,function(e){return ct.utils.snap($e(Te),e)}):"labelsDirectional"===se.snapTo?(Oe=C,function(e,t){return Ge($e(Oe))(e,t.direction)}):!1!==se.directional?function(e,t){return Ge(se.snapTo)(e,t.direction)}:ct.utils.snap(se.snapTo),d=Ve(d=se.duration||{min:.1,max:2})?gt(d.min,d.max):gt(d,d),j=ct.delayedCall(se.delay||i/2||.1,function(){if(Math.abs(xe.getVelocity())<10&&!yt&&h!==ke()){var e=C&&!de?C.totalProgress():xe.progress,t=(e-q)/(Tt()-vt)*1e3||0,r=ct.utils.clamp(-xe.progress,1-xe.progress,_t(t/2)*t/.185),n=xe.progress+(!1===se.inertia?0:r),i=gt(0,1,f(n,xe)),o=ke(),s=Math.round(E+i*B),a=se.onStart,l=se.onInterrupt,c=se.onComplete,u=m.tween;if(o<=M&&E<=o&&s!==o){if(u&&!u._initted&&u.data<=_t(s-o))return;!1===se.inertia&&(r=i-xe.progress),m(s,{duration:d(_t(.185*Math.max(_t(n-e),_t(i-e))/t/.05||0)),ease:se.ease||"power3",data:_t(s-o),onInterrupt:function(){return j.restart(!0)&&l&&l(xe)},onComplete:function(){h=ke(),k=q=C&&!de?C.totalProgress():xe.progress,p&&p(xe),c&&c(xe)}},o,r*B,s-o-r*B),a&&a(xe,m.tween)}}else xe.isActive&&j.restart(!0)}).pause()),o&&(Yt[o]=xe),ee=xe.trigger=ze(ee||te),te=!0===te?ee:ze(te),Pt(G)&&(G={targets:ee,className:G}),te&&(!1===re||re===Ft||(re=!(!re&&"flex"===Xe(te.parentNode).display)&&Nt),xe.pin=te,!1!==S.force3D&&ct.set(te,{force3D:!0}),(n=ct.core.getCache(te)).spacer?I=n.pinState:(a&&((a=ze(a))&&!a.nodeType&&(a=a.current||a.nativeElement),n.spacerIsNative=!!a,a&&(n.spacerState=ot(a))),n.spacer=N=a||ft.createElement("div"),N.classList.add("pin-spacer"),o&&N.classList.add("pin-spacer-"+o),n.pinState=I=ot(te)),xe.spacer=N=n.spacer,r=Xe(te),x=r[re+fe.os2],F=ct.getProperty(te),y=ct.quickSetter(te,fe.a,Wt),it(te,N,r),L=ot(te)),c&&(e=Ve(c)?Ye(c,jt):jt,A=et("scroller-start",o,pe,fe,e,0),R=et("scroller-end",o,pe,fe,e,0,A),t=A["offset"+fe.op.d2],P=et("start",o,pe,fe,e,t,0,le),_=et("end",o,pe,fe,e,t,0,le),le&&(Z=ct.quickSetter([P,_],fe.a,Wt)),ge||Ot.length&&!0===Ne(pe,"fixedMarkers")||(Ce=Xe(Se=he?pt:pe).position,Se.style.position="absolute"===Ce||"fixed"===Ce?Ce:"relative",ct.set([A,R],{force3D:!0}),b=ct.quickSetter(A,fe.a,Wt),w=ct.quickSetter(R,fe.a,Wt))),le){var g=le.vars.onUpdate,v=le.vars.onUpdateParams;le.eventCallback("onUpdate",function(){xe.update(0,0,1),g&&g.apply(v||[])})}xe.previous=function(){return Xt[Xt.indexOf(xe)-1]},xe.next=function(){return Xt[Xt.indexOf(xe)+1]},xe.revert=function(e){var t=!1!==e||!xe.enabled,r=mt;t!==xe.isReverted&&(t&&(xe.scroll.rec||(xe.scroll.rec=ke()),X=Math.max(ke(),xe.scroll.rec||0),U=xe.progress,Y=C&&C.progress()),P&&[P,_,A,R].forEach(function(e){return e.style.display=t?"none":"block"}),t&&(mt=1),xe.update(t),mt=r,te&&(t?function(e,t,r){$t(r);var n=e._gsap;if(n.spacerIsNative)$t(n.spacerState);else if(e.parentNode===t){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}}(te,N,I):ae&&xe.isActive||it(te,N,Xe(te),H)),xe.isReverted=t)},xe.refresh=function(e,t){if(!mt&&xe.enabled||t)if(te&&e&&Et)Je(Jt,"scrollEnd",nt);else{mt=1,V&&V.pause(),ne&&C&&C.progress(0).invalidate(),xe.isReverted||xe.revert();for(var r,n,i,o,s,a,l,c,u,f,d=be(),p=we(),h=le?le.duration():We(pe,fe),g=0,v=0,m=S.end,y=S.endTrigger||ee,x=S.start||(0!==S.start&&ee?te?"0 0":"0 100%":0),b=S.pinnedContainer&&ze(S.pinnedContainer),w=ee&&Math.max(0,Xt.indexOf(xe))||0,k=w;k--;)(a=Xt[k]).end||a.refresh(0,1)||(mt=1),!(l=a.pin)||l!==ee&&l!==te||a.isReverted||((f=f||[]).unshift(a),a.revert());for(He(x)&&(x=x(xe)),E=st(x,ee,d,fe,ke(),P,A,xe,p,ye,ge,h,le)||(te?-.001:0),He(m)&&(m=m(xe)),Pt(m)&&!m.indexOf("+=")&&(~m.indexOf(" ")?m=(Pt(x)?x.split(" ")[0]:"")+m:(g=Qe(m.substr(2),d),m=Pt(x)?x:E+g,y=ee)),M=Math.max(E,st(m||(y?"100% 0":h),y,d,fe,ke()+g,_,R,xe,p,ye,ge,h,le))||-.001,B=M-E||(E-=.01)&&.001,g=0,k=w;k--;)(l=(a=Xt[k]).pin)&&a.start-a._pinPush<E&&!le&&(r=a.end-a.start,l!==ee&&l!==b||qe(x)||(g+=r),l===te&&(v+=r));if(E+=g,M+=g,xe._pinPush=v,P&&g&&((r={})[fe.a]="+="+g,b&&(r[fe.p]="-="+ke()),ct.set([P,_],r)),te)r=Xe(te),o=fe===qt,i=ke(),D=parseFloat(F(fe.a))+v,!h&&1<M&&((he?pt:pe).style["overflow-"+fe.a]="scroll"),it(te,N,r),L=ot(te),n=Vt(te,!0),c=ge&&Fe(pe,o?Ht:qt)(),re&&((H=[re+fe.os2,B+v+Wt]).t=N,(k=re===Nt?Ze(te,fe)+B+v:0)&&H.push(fe.d,k+Wt),$t(H),ge&&ke(X)),ge&&((s={top:n.top+(o?i-E:c)+Wt,left:n.left+(o?c:i-E)+Wt,boxSizing:"border-box",position:"fixed"})[At]=s.maxWidth=Math.ceil(n.width)+Wt,s[Rt]=s.maxHeight=Math.ceil(n.height)+Wt,s[Ft]=s[Ft+zt]=s[Ft+Bt]=s[Ft+Lt]=s[Ft+It]="0",s[Nt]=r[Nt],s[Nt+zt]=r[Nt+zt],s[Nt+Bt]=r[Nt+Bt],s[Nt+Lt]=r[Nt+Lt],s[Nt+It]=r[Nt+It],z=function(e,t,r){for(var n,i=[],o=e.length,s=r?8:0;s<o;s+=2)n=e[s],i.push(n,n in t?t[n]:e[s+1]);return i.t=e.t,i}(I,s,ae)),C?(u=C._initted,wt(1),C.render(C.duration(),!0,!0),W=F(fe.a)-D+B+v,B!==W&&z.splice(z.length-2,2),C.render(0,!0,!0),u||C.invalidate(),wt(0)):W=B;else if(ee&&ke()&&!le)for(n=ee.parentNode;n&&n!==pt;)n._pinOffset&&(E-=n._pinOffset,M-=n._pinOffset),n=n.parentNode;f&&f.forEach(function(e){return e.revert(!1)}),xe.start=E,xe.end=M,O=T=ke(),le||(O<X&&ke(X),xe.scroll.rec=0),xe.revert(!1),mt=0,C&&de&&C._initted&&C.progress()!==Y&&C.progress(Y,!0).render(C.time(),!0,!0),U!==xe.progress&&(C&&!de&&C.totalProgress(U,!0),xe.progress=U,xe.update(0,0,1)),te&&re&&(N._pinOffset=Math.round(xe.progress*W)),K&&K(xe)}},xe.getVelocity=function(){return(ke()-T)/(Tt()-vt)*1e3||0},xe.endAnimation=function(){je(xe.callbackAnimation),C&&(V?V.progress(1):C.paused()?de||je(C,xe.direction<0,1):je(C,C.reversed()))},xe.getTrailing=function(t){var e=Xt.indexOf(xe),r=0<xe.direction?Xt.slice(0,e).reverse():Xt.slice(e+1);return Pt(t)?r.filter(function(e){return e.vars.preventOverlaps===t}):r},xe.update=function(e,t,r){if(!le||r||e){var n,i,o,s,a,l,c,u=xe.scroll(),f=e?0:(u-E)/B,d=f<0?0:1<f?1:f||0,p=xe.progress;if(t&&(T=O,O=le?ke():u,se&&(q=k,k=C&&!de?C.totalProgress():d)),ie&&!d&&te&&!mt&&!Ct&&Et&&E<u+(u-T)/(Tt()-vt)*ie&&(d=1e-4),d!==p&&xe.enabled){if(s=(a=(n=xe.isActive=!!d&&d<1)!=(!!p&&p<1))||!!d!=!!p,xe.direction=p<d?1:-1,xe.progress=d,s&&!mt&&(i=d&&!p?0:1===d?1:1===p?2:3,de&&(o=!a&&"none"!==me[i+1]&&me[i+1]||me[i],c=C&&("complete"===o||"reset"===o||o in C))),ue&&a&&(c||Q||!C)&&(He(ue)?ue(xe):xe.getTrailing(ue).forEach(function(e){return e.endAnimation()})),de||(!V||mt||Ct?C&&C.totalProgress(d,!!mt):(V.vars.totalProgress=d,V.invalidate().restart())),te)if(e&&re&&(N.style[re+fe.os2]=x),ge){if(s){if(l=!e&&p<d&&u<M+1&&u+1>=We(pe,fe),ae)if(e||!n&&!l)at(te,N);else{var h=Vt(te,!0),g=u-E;at(te,pt,h.top+(fe===qt?g:0)+Wt,h.left+(fe===qt?0:g)+Wt)}$t(n||l?z:L),W!==B&&d<1&&n||y(D+(1!==d||l?0:W))}}else y(D+W*d);!se||m.tween||mt||Ct||j.restart(!0),G&&(a||oe&&d&&(d<1||!kt))&&ht(G.targets).forEach(function(e){return e.classList[n||oe?"add":"remove"](G.className)}),!$||de||e||$(xe),s&&!mt?(de&&(c&&("complete"===o?C.pause().totalProgress(1):"reset"===o?C.restart(!0).pause():"restart"===o?C.restart(!0):C[o]()),$&&$(xe)),!a&&kt||(J&&a&&Ue(xe,J),ve[i]&&Ue(xe,ve[i]),oe&&(1===d?xe.kill(!1,1):ve[i]=0),a||ve[i=1===d?1:3]&&Ue(xe,ve[i])),ce&&!n&&Math.abs(xe.getVelocity())>(qe(ce)?ce:2500)&&(je(xe.callbackAnimation),V?V.progress(1):je(C,!d,1))):de&&$&&!mt&&$(xe)}if(w){var v=le?u/le.duration()*(le._caScrollDist||0):u;b(v+(A._isFlipped?1:0)),w(v)}Z&&Z(-u/le.duration()*(le._caScrollDist||0))}},xe.enable=function(e,t){xe.enabled||(xe.enabled=!0,Je(pe,"resize",rt),Je(pe,"scroll",tt),u&&Je(Jt,"refreshInit",u),!1!==e&&(xe.progress=U=0,O=T=h=ke()),!1!==t&&xe.refresh())},xe.getTween=function(e){return e&&m?m.tween:V},xe.disable=function(e,t){if(xe.enabled&&(!1!==e&&xe.revert(),xe.enabled=xe.isActive=!1,t||V&&V.pause(),X=0,n&&(n.uncache=1),u&&Ke(Jt,"refreshInit",u),j&&(j.pause(),m.tween&&m.tween.kill()&&(m.tween=0)),!he)){for(var r=Xt.length;r--;)if(Xt[r].scroller===pe&&Xt[r]!==xe)return;Ke(pe,"resize",rt),Ke(pe,"scroll",tt)}},xe.kill=function(e,t){xe.disable(e,t),V&&V.kill(),o&&delete Yt[o];var r=Xt.indexOf(xe);Xt.splice(r,1),r===xt&&0<Zt&&xt--,r=0,Xt.forEach(function(e){return e.scroller===xe.scroller&&(r=1)}),r||(xe.scroll.rec=0),C&&(C.scrollTrigger=null,e&&C.render(-1),t||C.kill()),P&&[P,_,A,R].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),te&&(n&&(n.uncache=1),r=0,Xt.forEach(function(e){return e.pin===te&&r++}),r||(n.spacer=0))},xe.enable(!1,!1),C&&C.add&&!B?ct.delayedCall(.01,function(){return E||M||xe.refresh()})&&(B=.01)&&(E=M=0):xe.refresh()}else this.update=this.refresh=this.kill=Ie;var Se,Ce,Oe,Te,Ee,Me,Pe,_e,Ae,Re,Be},Jt.register=function(e){if(!d&&(ct=e||o(),i()&&window.document&&(ut=window,ft=document,dt=ft.documentElement,pt=ft.body),ct&&(ht=ct.utils.toArray,gt=ct.utils.clamp,wt=ct.core.suppressOverwrites||Ie,ct.core.globals("ScrollTrigger",Jt),pt))){v=ut.requestAnimationFrame||function(e){return setTimeout(e,16)},Je(ut,"wheel",tt),h=[ut,ft,dt,pt],Je(ft,"scroll",tt);var t,r=pt.style,n=r.borderTopStyle;r.borderTopStyle="solid",t=Vt(pt),qt.m=Math.round(t.top+qt.sc())||0,Ht.m=Math.round(t.left+Ht.sc())||0,n?r.borderTopStyle=n:r.removeProperty("border-top-style"),y=setInterval(u,200),ct.delayedCall(.5,function(){return Ct=0}),Je(ft,"touchcancel",Ie),Je(pt,"touchstart",Ie),c(Je,ft,"pointerdown,touchstart,mousedown",function(){return yt=1}),c(Je,ft,"pointerup,touchend,mouseup",function(){return yt=0}),x=ct.utils.checkPrefix("transform"),j.push(x),d=Tt(),g=ct.delayedCall(.2,W).pause(),k=[ft,"visibilitychange",function(){var e=ut.innerWidth,t=ut.innerHeight;ft.hidden?(b=e,w=t):b===e&&w===t||rt()},ft,"DOMContentLoaded",W,ut,"load",function(){return Et||W()},ut,"resize",rt],s(Je)}return d},Jt.defaults=function(e){for(var t in e)Ut[t]=e[t]},Jt.kill=function(){Mt=0,Xt.slice(0).forEach(function(e){return e.kill(1)})},Jt.config=function(e){"limitCallbacks"in e&&(kt=!!e.limitCallbacks);var t=e.syncInterval;t&&clearInterval(y)||(y=t)&&setInterval(u,t),"autoRefreshEvents"in e&&(s(Ke)||s(Je,e.autoRefreshEvents||"none"),r=-1===(e.autoRefreshEvents+"").indexOf("resize"))},Jt.scrollerProxy=function(e,t){var r=ze(e),n=O.indexOf(r),i=Le(r);~n&&O.splice(n,i?6:2),i?Ot.unshift(ut,t,pt,t,dt,t):Ot.unshift(r,t)},Jt.matchMedia=function(e){var t,r,n,i,o;for(r in e)n=z.indexOf(r),i=e[r],"all"===(St=r)?i():(t=ut.matchMedia(r))&&(t.matches&&(o=i()),~n?(z[n+1]=l(z[n+1],i),z[n+2]=l(z[n+2],o)):(n=z.length,z.push(r,i,o),t.addListener?t.addListener(f):t.addEventListener("change",f)),z[n+3]=t.matches),St=0;return z},Jt.clearMatchMedia=function(e){e||(z.length=0),0<=(e=z.indexOf(e))&&z.splice(e,4)},Jt.isInViewport=function(e,t,r){var n=(Pt(e)?ze(e):e).getBoundingClientRect(),i=n[r?At:Rt]*t||0;return r?0<n.right-i&&n.left+i<ut.innerWidth:0<n.bottom-i&&n.top+i<ut.innerHeight},Jt.positionInViewport=function(e,t,r){Pt(e)&&(e=ze(e));var n=e.getBoundingClientRect(),i=n[r?At:Rt],o=null==t?i/2:t in A?A[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return r?(n.left+o)/ut.innerWidth:(n.top+o)/ut.innerHeight},Jt);function Jt(e,t){d||Jt.register(ct)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(e,t)}Y.version="3.8.0",Y.saveStyles=function(e){return e?ht(e).forEach(function(e){if(e&&e.style){var t=N.indexOf(e);0<=t&&N.splice(t,5),N.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),ct.core.getCache(e),St)}}):N},Y.revert=function(e,t){return D(!e,t)},Y.create=function(e,t){return new Y(e,t)},Y.refresh=function(e){return e?rt():(d||Y.register())&&W(!0)},Y.update=q,Y.clearScrollMemory=n,Y.maxScroll=function(e,t){return We(e,t?Ht:qt)},Y.getScrollFunc=function(e,t){return Fe(ze(e),t?Ht:qt)},Y.getById=function(e){return Yt[e]},Y.getAll=function(){return Xt.slice(0)},Y.isScrolling=function(){return!!Et},Y.snapDirectional=Ge,Y.addEventListener=function(e,t){var r=B[e]||(B[e]=[]);~r.indexOf(t)||r.push(t)},Y.removeEventListener=function(e,t){var r=B[e],n=r&&r.indexOf(t);0<=n&&r.splice(n,1)},Y.batch=function(e,t){function r(e,t){var r=[],n=[],i=ct.delayedCall(s,function(){t(r,n),r=[],n=[]}).pause();return function(e){r.length||i.restart(!0),r.push(e.trigger),n.push(e),a<=r.length&&i.progress(1)}}var n,i=[],o={},s=t.interval||.016,a=t.batchMax||1e9;for(n in t)o[n]="on"===n.substr(0,2)&&He(t[n])&&"onRefreshInit"!==n?r(0,t[n]):t[n];return He(a)&&(a=a(),Je(Y,"refresh",function(){return a=t.batchMax()})),ht(e).forEach(function(e){var t={};for(n in o)t[n]=o[n];t.trigger=e,i.push(Y.create(t))}),i},Y.sort=function(e){return Xt.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},o()&&ct.registerPlugin(Y),e.ScrollTrigger=Y,e.default=Y,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default});
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,function(){"use strict";var _=function(){};_.version="2.0.7",window.addEventListener("mousewheel",function(){});var P="data-scrollmagic-pin-spacer";_.Controller=function(e){var n,r,i="REVERSE",t="PAUSED",o=z.defaults,s=this,a=k.extend({},o,e),l=[],c=!1,f=0,u=t,d=!0,h=0,p=!0,g=function(){0<a.refreshInterval&&(r=window.setTimeout(E,a.refreshInterval))},v=function(){return a.vertical?k.get.scrollTop(a.container):k.get.scrollLeft(a.container)},m=function(){return a.vertical?k.get.height(a.container):k.get.width(a.container)},w=this._setScrollPos=function(e){a.vertical?d?window.scrollTo(k.get.scrollLeft(),e):a.container.scrollTop=e:d?window.scrollTo(e,k.get.scrollTop()):a.container.scrollLeft=e},y=function(){if(p&&c){var e=k.type.Array(c)?c:l.slice(0);c=!1;var t=f,n=(f=s.scrollPos())-t;0!==n&&(u=0<n?"FORWARD":i),u===i&&e.reverse(),e.forEach(function(e,t){e.update(!0)})}},S=function(){n=k.rAF(y)},b=function(e){"resize"==e.type&&(h=m(),u=t),!0!==c&&(c=!0,S())},E=function(){if(!d&&h!=m()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(e){(t=document.createEvent("Event")).initEvent("resize",!1,!1)}a.container.dispatchEvent(t)}l.forEach(function(e,t){e.refresh()}),g()};this._options=a;var x=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t};return this.addScene=function(e){if(k.type.Array(e))e.forEach(function(e,t){s.addScene(e)});else if(e instanceof _.Scene)if(e.controller()!==s)e.addTo(s);else if(l.indexOf(e)<0)for(var t in l.push(e),l=x(l),e.on("shift.controller_sort",function(){l=x(l)}),a.globalSceneOptions)e[t]&&e[t].call(e,a.globalSceneOptions[t]);return s},this.removeScene=function(e){if(k.type.Array(e))e.forEach(function(e,t){s.removeScene(e)});else{var t=l.indexOf(e);-1<t&&(e.off("shift.controller_sort"),l.splice(t,1),e.remove())}return s},this.updateScene=function(e,n){return k.type.Array(e)?e.forEach(function(e,t){s.updateScene(e,n)}):n?e.update(!0):!0!==c&&e instanceof _.Scene&&(-1==(c=c||[]).indexOf(e)&&c.push(e),c=x(c),S()),s},this.update=function(e){return b({type:"resize"}),e&&y(),s},this.scrollTo=function(e,t){if(k.type.Number(e))w.call(a.container,e,t);else if(e instanceof _.Scene)e.controller()===s&&s.scrollTo(e.scrollOffset(),t);else if(k.type.Function(e))w=e;else{var n=k.get.elements(e)[0];if(n){for(;n.parentNode.hasAttribute(P);)n=n.parentNode;var r=a.vertical?"top":"left",i=k.get.offset(a.container),o=k.get.offset(n);d||(i[r]-=s.scrollPos()),s.scrollTo(o[r]-i[r],t)}}return s},this.scrollPos=function(e){return arguments.length?(k.type.Function(e)&&(v=e),s):v.call(s)},this.info=function(e){var t={size:h,vertical:a.vertical,scrollPos:f,scrollDirection:u,container:a.container,isDocument:d};return arguments.length?void 0!==t[e]?t[e]:void 0:t},this.loglevel=function(e){return s},this.enabled=function(e){return arguments.length?(p!=e&&(p=!!e,s.updateScene(l,!0)),s):p},this.destroy=function(e){window.clearTimeout(r);for(var t=l.length;t--;)l[t].destroy(e);return a.container.removeEventListener("resize",b),a.container.removeEventListener("scroll",b),k.cAF(n),null},function(){for(var e in a)o.hasOwnProperty(e)||delete a[e];if(a.container=k.get.elements(a.container)[0],!a.container)throw"ScrollMagic.Controller init failed.";(d=a.container===window||a.container===document.body||!document.body.contains(a.container))&&(a.container=window),h=m(),a.container.addEventListener("resize",b),a.container.addEventListener("scroll",b);var t=parseInt(a.refreshInterval,10);a.refreshInterval=k.type.Number(t)?t:o.refreshInterval,g()}(),s};var z={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};_.Controller.addOption=function(e,t){z.defaults[e]=t},_.Controller.extend=function(e){var t=this;_.Controller=function(){return t.apply(this,arguments),this.$super=k.extend({},this),e.apply(this,arguments)||this},k.extend(_.Controller,t),_.Controller.prototype=t.prototype,_.Controller.prototype.constructor=_.Controller},_.Scene=function(e){var n,l,c="BEFORE",f="DURING",u="AFTER",r=D.defaults,d=this,h=k.extend({},r,e),p=c,g=0,a={start:0,end:0},v=0,i=!0,s={};this.on=function(e,i){return k.type.Function(i)&&(e=e.trim().split(" ")).forEach(function(e){var t=e.split("."),n=t[0],r=t[1];"*"!=n&&(s[n]||(s[n]=[]),s[n].push({namespace:r||"",callback:i}))}),d},this.off=function(e,o){return e&&(e=e.trim().split(" ")).forEach(function(e,t){var n=e.split("."),r=n[0],i=n[1]||"";("*"===r?Object.keys(s):[r]).forEach(function(e){for(var t=s[e]||[],n=t.length;n--;){var r=t[n];!r||i!==r.namespace&&"*"!==i||o&&o!=r.callback||t.splice(n,1)}t.length||delete s[e]})}),d},this.trigger=function(e,n){if(e){var t=e.trim().split("."),r=t[0],i=t[1],o=s[r];o&&o.forEach(function(e,t){i&&i!==e.namespace||e.callback.call(d,new _.Event(r,e.namespace,d,n))})}return d},d.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?y():"reverse"===e.what&&d.update())}).on("shift.internal",function(e){t(),d.update()}),this.addTo=function(e){return e instanceof _.Controller&&l!=e&&(l&&l.removeScene(d),l=e,E(),o(!0),y(!0),t(),l.info("container").addEventListener("resize",S),e.addScene(d),d.trigger("add",{controller:l}),d.update()),d},this.enabled=function(e){return arguments.length?(i!=e&&(i=!!e,d.update(!0)),d):i},this.remove=function(){if(l){l.info("container").removeEventListener("resize",S);var e=l;l=void 0,e.removeScene(d),d.trigger("remove")}return d},this.destroy=function(e){return d.trigger("destroy",{reset:e}),d.remove(),d.off("*.*"),null},this.update=function(e){if(l)if(e)if(l.enabled()&&i){var t,n=l.info("scrollPos");t=0<h.duration?(n-a.start)/(a.end-a.start):n>=a.start?1:0,d.trigger("update",{startPos:a.start,endPos:a.end,scrollPos:n}),d.progress(t)}else m&&p===f&&C(!0);else l.updateScene(d,!1);return d},this.refresh=function(){return o(),y(),d},this.progress=function(e){if(arguments.length){var t=!1,n=p,r=l?l.info("scrollDirection"):"PAUSED",i=h.reverse||g<=e;if(0===h.duration?(t=g!=e,p=0==(g=e<1&&i?0:1)?c:f):e<0&&p!==c&&i?(p=c,t=!(g=0)):0<=e&&e<1&&i?(g=e,p=f,t=!0):1<=e&&p!==u?(g=1,p=u,t=!0):p!==f||i||C(),t){var o={progress:g,state:p,scrollDirection:r},s=p!=n,a=function(e){d.trigger(e,o)};s&&n!==f&&(a("enter"),a(n===c?"start":"end")),a("progress"),s&&p!==f&&(a(p===c?"start":"end"),a("leave"))}return d}return g};var m,w,t=function(){a={start:v+h.offset},l&&h.triggerElement&&(a.start-=l.info("size")*h.triggerHook),a.end=a.start+h.duration},o=function(e){if(n){var t="duration";x(t,n.call(d))&&!e&&(d.trigger("change",{what:t,newval:h[t]}),d.trigger("shift",{reason:t}))}},y=function(e){var t=0,n=h.triggerElement;if(l&&(n||0<v)){if(n)if(n.parentNode){for(var r=l.info(),i=k.get.offset(r.container),o=r.vertical?"top":"left";n.parentNode.hasAttribute(P);)n=n.parentNode;var s=k.get.offset(n);r.isDocument||(i[o]-=l.scrollPos()),t=s[o]-i[o]}else d.triggerElement(void 0);var a=t!=v;v=t,a&&!e&&d.trigger("shift",{reason:"triggerElementPosition"})}},S=function(e){0<h.triggerHook&&d.trigger("shift",{reason:"containerResize"})},b=k.extend(D.validate,{duration:function(e){if(k.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return l?l.info("size")*t:0}}if(k.type.Function(e)){n=e;try{e=parseFloat(n.call(d))}catch(t){e=-1}}if(e=parseFloat(e),!k.type.Number(e)||e<0)throw n&&(n=void 0),0;return e}}),E=function(e){(e=arguments.length?[e]:Object.keys(b)).forEach(function(e,t){var n;if(b[e])try{n=b[e](h[e])}catch(t){n=r[e]}finally{h[e]=n}})},x=function(e,t){var n=!1,r=h[e];return h[e]!=t&&(h[e]=t,E(e),n=r!=h[e]),n},z=function(t){d[t]||(d[t]=function(e){return arguments.length?("duration"===t&&(n=void 0),x(t,e)&&(d.trigger("change",{what:t,newval:h[t]}),-1<D.shifts.indexOf(t)&&d.trigger("shift",{reason:t})),d):h[t]})};this.controller=function(){return l},this.state=function(){return p},this.scrollOffset=function(){return a.start},this.triggerPosition=function(){var e=h.offset;return l&&(h.triggerElement?e+=v:e+=l.info("size")*d.triggerHook()),e},d.on("shift.internal",function(e){var t="duration"===e.reason;(p===u&&t||p===f&&0===h.duration)&&C(),t&&F()}).on("progress.internal",function(e){C()}).on("add.internal",function(e){F()}).on("destroy.internal",function(e){d.removePin(e.reset)});var C=function(e){if(m&&l){var t=l.info(),n=w.spacer.firstChild;if(e||p!==f){var r={position:w.inFlow?"relative":"absolute",top:0,left:0},i=k.css(n,"position")!=r.position;w.pushFollowers?0<h.duration&&(p===u&&0===parseFloat(k.css(w.spacer,"padding-top"))?i=!0:p===c&&0===parseFloat(k.css(w.spacer,"padding-bottom"))&&(i=!0)):r[t.vertical?"top":"left"]=h.duration*g,k.css(n,r),i&&F()}else{"fixed"!=k.css(n,"position")&&(k.css(n,{position:"fixed"}),F());var o=k.get.offset(w.spacer,!0),s=h.reverse||0===h.duration?t.scrollPos-a.start:Math.round(g*h.duration*10)/10;o[t.vertical?"top":"left"]+=s,k.css(w.spacer.firstChild,{top:o.top,left:o.left})}}},F=function(){if(m&&l&&w.inFlow){var e=p===f,t=l.info("vertical"),n=w.spacer.firstChild,r=k.isMarginCollapseType(k.css(w.spacer,"display")),i={};w.relSize.width||w.relSize.autoFullWidth?e?k.css(m,{width:k.get.width(w.spacer)}):k.css(m,{width:"100%"}):(i["min-width"]=k.get.width(t?m:n,!0,!0),i.width=e?i["min-width"]:"auto"),w.relSize.height?e?k.css(m,{height:k.get.height(w.spacer)-(w.pushFollowers?h.duration:0)}):k.css(m,{height:"100%"}):(i["min-height"]=k.get.height(t?n:m,!0,!r),i.height=e?i["min-height"]:"auto"),w.pushFollowers&&(i["padding"+(t?"Top":"Left")]=h.duration*g,i["padding"+(t?"Bottom":"Right")]=h.duration*(1-g)),k.css(w.spacer,i)}},L=function(){l&&m&&p===f&&!l.info("isDocument")&&C()},T=function(){l&&m&&p===f&&((w.relSize.width||w.relSize.autoFullWidth)&&k.get.width(window)!=k.get.width(w.spacer.parentNode)||w.relSize.height&&k.get.height(window)!=k.get.height(w.spacer.parentNode))&&F()},A=function(e){l&&m&&p===f&&!l.info("isDocument")&&(e.preventDefault(),l._setScrollPos(l.info("scrollPos")-((e.wheelDelta||e[l.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,t){if(t=k.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},t),!(e=k.get.elements(e)[0]))return d;if("fixed"===k.css(e,"position"))return d;if(m){if(m===e)return d;d.removePin()}var n=(m=e).parentNode.style.display,r=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];m.parentNode.style.display="none";var i="absolute"!=k.css(m,"position"),o=k.css(m,r.concat(["display"])),s=k.css(m,["width","height"]);m.parentNode.style.display=n,!i&&t.pushFollowers&&(t.pushFollowers=!1);var a=m.parentNode.insertBefore(document.createElement("div"),m),l=k.extend(o,{position:i?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(i||k.extend(l,k.css(m,["width","height"])),k.css(a,l),a.setAttribute(P,""),k.addClass(a,t.spacerClass),w={spacer:a,relSize:{width:"%"===s.width.slice(-1),height:"%"===s.height.slice(-1),autoFullWidth:"auto"===s.width&&i&&k.isMarginCollapseType(o.display)},pushFollowers:t.pushFollowers,inFlow:i},!m.___origStyle){m.___origStyle={};var c=m.style;r.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach(function(e){m.___origStyle[e]=c[e]||""})}return w.relSize.width&&k.css(a,{width:s.width}),w.relSize.height&&k.css(a,{height:s.height}),a.appendChild(m),k.css(m,{position:i?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(w.relSize.width||w.relSize.autoFullWidth)&&k.css(m,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",L),window.addEventListener("resize",L),window.addEventListener("resize",T),m.addEventListener("mousewheel",A),m.addEventListener("DOMMouseScroll",A),C(),d},this.removePin=function(e){if(m){if(p===f&&C(!0),e||!l){var t=w.spacer.firstChild;if(t.hasAttribute(P)){var n=w.spacer.style,r={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach(function(e){r[e]=n[e]||""}),k.css(t,r)}w.spacer.parentNode.insertBefore(t,w.spacer),w.spacer.parentNode.removeChild(w.spacer),m.parentNode.hasAttribute(P)||(k.css(m,m.___origStyle),delete m.___origStyle)}window.removeEventListener("scroll",L),window.removeEventListener("resize",L),window.removeEventListener("resize",T),m.removeEventListener("mousewheel",A),m.removeEventListener("DOMMouseScroll",A),m=void 0}return d};var N,O=[];return d.on("destroy.internal",function(e){d.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var n=k.get.elements(e);return 0!==n.length&&k.type.String(t)&&(0<O.length&&d.removeClassToggle(),N=t,O=n,d.on("enter.internal_class leave.internal_class",function(e){var n="enter"===e.type?k.addClass:k.removeClass;O.forEach(function(e,t){n(e,N)})})),d},this.removeClassToggle=function(e){return e&&O.forEach(function(e,t){k.removeClass(e,N)}),d.off("start.internal_class end.internal_class"),N=void 0,O=[],d},function(){for(var e in h)r.hasOwnProperty(e)||delete h[e];for(var t in r)z(t);E()}(),d};var D={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!k.type.Number(e))throw 0;return e},triggerElement:function(e){if(e=e||void 0){var t=k.get.elements(e)[0];if(!t||!t.parentNode)throw 0;e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(k.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw 0;e=t[e]}return e},reverse:function(e){return!!e}},shifts:["duration","offset","triggerHook"]};_.Scene.addOption=function(e,t,n,r){e in D.defaults||(D.defaults[e]=t,D.validate[e]=n,r&&D.shifts.push(e))},_.Scene.extend=function(e){var t=this;_.Scene=function(){return t.apply(this,arguments),this.$super=k.extend({},this),e.apply(this,arguments)||this},k.extend(_.Scene,t),_.Scene.prototype=t.prototype,_.Scene.prototype.constructor=_.Scene},_.Event=function(e,t,n,r){for(var i in r=r||{})this[i]=r[i];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var k=_._util=function(s){var n,e={},a=function(e){return parseFloat(e)||0},l=function(e){return e.currentStyle?e.currentStyle:s.getComputedStyle(e)},r=function(e,t,n,r){if((t=t===document?s:t)===s)r=!1;else if(!u.DomElement(t))return 0;e=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase();var i=(n?t["offset"+e]||t["outer"+e]:t["client"+e]||t["inner"+e])||0;if(n&&r){var o=l(t);i+="Height"===e?a(o.marginTop)+a(o.marginBottom):a(o.marginLeft)+a(o.marginRight)}return i},c=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};e.extend=function(e){for(e=e||{},n=1;n<arguments.length;n++)if(arguments[n])for(var t in arguments[n])arguments[n].hasOwnProperty(t)&&(e[t]=arguments[n][t]);return e},e.isMarginCollapseType=function(e){return-1<["block","flex","list-item","table","-webkit-box"].indexOf(e)};var i=0,t=["ms","moz","webkit","o"],o=s.requestAnimationFrame,f=s.cancelAnimationFrame;for(n=0;!o&&n<4;++n)o=s[t[n]+"RequestAnimationFrame"],f=s[t[n]+"CancelAnimationFrame"]||s[t[n]+"CancelRequestAnimationFrame"];o||(o=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-i)),r=s.setTimeout(function(){e(t+n)},n);return i=t+n,r}),f||(f=function(e){s.clearTimeout(e)}),e.rAF=o.bind(s),e.cAF=f.bind(s);var u=e.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};u.String=function(e){return"string"===u(e)},u.Function=function(e){return"function"===u(e)},u.Array=function(e){return Array.isArray(e)},u.Number=function(e){return!u.Array(e)&&0<=e-parseFloat(e)+1},u.DomElement=function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var d=e.get={};return d.elements=function(e){var t=[];if(u.String(e))try{e=document.querySelectorAll(e)}catch(e){return t}if("nodelist"===u(e)||u.Array(e)||e instanceof NodeList)for(var n=0,r=t.length=e.length;n<r;n++){var i=e[n];t[n]=u.DomElement(i)?i:d.elements(i)}else(u.DomElement(e)||e===document||e===s)&&(t=[e]);return t},d.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:s.pageYOffset||0},d.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:s.pageXOffset||0},d.width=function(e,t,n){return r("width",e,t,n)},d.height=function(e,t,n){return r("height",e,t,n)},d.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect();n.top=r.top,n.left=r.left,t||(n.top+=d.scrollTop(),n.left+=d.scrollLeft())}return n},e.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},e.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},e.css=function(e,t){if(u.String(t))return l(e)[c(t)];if(u.Array(t)){var n={},r=l(e);return t.forEach(function(e,t){n[e]=r[c(e)]}),n}for(var i in t){var o=t[i];o==parseFloat(o)&&(o+="px"),e.style[c(i)]=o}},e}(window||{});return _});
!function(e,r){"function"==typeof define&&define.amd?define(["ScrollMagic"],r):"object"==typeof exports?r(require("scrollmagic")):r(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic)}(this,function(i){"use strict";var o="0.85em",n="9999",v=i._util,h=0;i.Scene.extend(function(){var r,t=this;t.addIndicators=function(e){if(!r){e=v.extend({},{name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"},e),h++,r=new s(t,e),t.on("add.plugin_addIndicators",r.add),t.on("remove.plugin_addIndicators",r.remove),t.on("destroy.plugin_addIndicators",t.removeIndicators),t.controller()&&r.add()}return t},t.removeIndicators=function(){return r&&(r.remove(),this.off("*.plugin_addIndicators"),r=void 0),t}}),i.Controller.addOption("addIndicators",!1),i.Controller.extend(function(){var c=this,e=c.info(),l=e.container,f=e.isDocument,m=e.vertical,h={groups:[]};this._indicators=h;var r=function(){h.updateBoundsPositions()},t=function(){h.updateTriggerGroupPositions()};return l.addEventListener("resize",t),f||(window.addEventListener("resize",t),window.addEventListener("scroll",t)),l.addEventListener("resize",r),l.addEventListener("scroll",r),this._indicators.updateBoundsPositions=function(e){for(var r,t,i,o=e?[v.extend({},e.triggerGroup,{members:[e]})]:h.groups,n=o.length,s={},d=m?"left":"top",a=m?"width":"height",g=m?v.get.scrollLeft(l)+v.get.width(l)-15:v.get.scrollTop(l)+v.get.height(l)-15;n--;)for(r=(i=o[n]).members.length,t=v.get[a](i.element.firstChild);r--;)s[d]=g-t,v.css(i.members[r].bounds,s)},this._indicators.updateTriggerGroupPositions=function(e){for(var r,t,i,o,n=e?[e]:h.groups,s=n.length,d=f?document.body:l,a=f?{top:0,left:0}:v.get.offset(d,!0),g=m?v.get.width(l)-15:v.get.height(l)-15,p=m?"width":"height",u=m?"Y":"X";s--;)t=(r=n[s]).element,i=r.triggerHook*c.info("size"),o=v.get[p](t.firstChild.firstChild)<i?"translate"+u+"(-100%)":"",v.css(t,{top:a.top+(m?i:g-r.members[0].options.indent),left:a.left+(m?g-r.members[0].options.indent:i)}),v.css(t.firstChild.firstChild,{"-ms-transform":o,"-webkit-transform":o,transform:o})},this._indicators.updateTriggerGroupLabel=function(e){var r="trigger"+(1<e.members.length?"":" "+e.members[0].options.name),t=e.element.firstChild.firstChild;t.textContent!==r&&(t.textContent=r,m&&h.updateBoundsPositions())},this.addScene=function(e){this._options.addIndicators&&e instanceof i.Scene&&e.controller()===c&&e.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){l.removeEventListener("resize",t),f||(window.removeEventListener("resize",t),window.removeEventListener("scroll",t)),l.removeEventListener("resize",r),l.removeEventListener("scroll",r),this.$super.destroy.apply(this,arguments)},c});var s=function(o,n){var s,d,a=this,t=b.bounds(),i=b.start(n.colorStart),g=b.end(n.colorEnd),p=n.parent&&v.get.elements(n.parent)[0];n.name=n.name||h,i.firstChild.textContent+=" "+n.name,g.textContent+=" "+n.name,t.appendChild(i),t.appendChild(g),a.options=n,a.bounds=t,a.triggerGroup=void 0,this.add=function(){d=o.controller(),s=d.info("vertical");var e=d.info("isDocument");p||(p=e?document.body:d.info("container")),e||"static"!==v.css(p,"position")||v.css(p,{position:"relative"}),o.on("change.plugin_addIndicators",u),o.on("shift.plugin_addIndicators",r),m(),l(),setTimeout(function(){d._indicators.updateBoundsPositions(a)},0)},this.remove=function(){if(a.triggerGroup){if(o.off("change.plugin_addIndicators",u),o.off("shift.plugin_addIndicators",r),1<a.triggerGroup.members.length){var e=a.triggerGroup;e.members.splice(e.members.indexOf(a),1),d._indicators.updateTriggerGroupLabel(e),d._indicators.updateTriggerGroupPositions(e),a.triggerGroup=void 0}else f();c()}};var r=function(){l()},u=function(e){"triggerHook"===e.what&&m()},c=function(){t.parentNode.removeChild(t)},l=function(){var e;t.parentNode!==p&&(e=d.info("vertical"),v.css(i.firstChild,{"border-bottom-width":e?1:0,"border-right-width":e?0:1,bottom:e?-1:n.indent,right:e?n.indent:-1,padding:e?"0 8px":"2px 4px"}),v.css(g,{"border-top-width":e?1:0,"border-left-width":e?0:1,top:e?"100%":"",right:e?n.indent:"",bottom:e?"":n.indent,left:e?"":"100%",padding:e?"0 8px":"2px 4px"}),p.appendChild(t));var r={};r[s?"top":"left"]=o.triggerPosition(),r[s?"height":"width"]=o.duration(),v.css(t,r),v.css(g,{display:0<o.duration()?"":"none"})},f=function(){d._indicators.groups.splice(d._indicators.groups.indexOf(a.triggerGroup),1),a.triggerGroup.element.parentNode.removeChild(a.triggerGroup.element),a.triggerGroup=void 0},m=function(){var e=o.triggerHook();if(!(a.triggerGroup&&Math.abs(a.triggerGroup.triggerHook-e)<1e-4)){for(var r,t=d._indicators.groups,i=t.length;i--;)if(r=t[i],Math.abs(r.triggerHook-e)<1e-4)return a.triggerGroup&&(1===a.triggerGroup.members.length?f():(a.triggerGroup.members.splice(a.triggerGroup.members.indexOf(a),1),d._indicators.updateTriggerGroupLabel(a.triggerGroup),d._indicators.updateTriggerGroupPositions(a.triggerGroup))),r.members.push(a),a.triggerGroup=r,void d._indicators.updateTriggerGroupLabel(r);if(a.triggerGroup){if(1===a.triggerGroup.members.length)return a.triggerGroup.triggerHook=e,void d._indicators.updateTriggerGroupPositions(a.triggerGroup);a.triggerGroup.members.splice(a.triggerGroup.members.indexOf(a),1),d._indicators.updateTriggerGroupLabel(a.triggerGroup),d._indicators.updateTriggerGroupPositions(a.triggerGroup),a.triggerGroup=void 0}!function(){var e=b.trigger(n.colorTrigger),r={};r[s?"right":"bottom"]=0,r[s?"border-top-width":"border-left-width"]=1,v.css(e.firstChild,r),v.css(e.firstChild.firstChild,{padding:s?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(e);var t={triggerHook:o.triggerHook(),element:e,members:[a]};d._indicators.groups.push(t),a.triggerGroup=t,d._indicators.updateTriggerGroupLabel(t),d._indicators.updateTriggerGroupPositions(t)}()}}},b={start:function(e){var r=document.createElement("div");r.textContent="start",v.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e});var t=document.createElement("div");return v.css(t,{position:"absolute",overflow:"visible",width:0,height:0}),t.appendChild(r),t},end:function(e){var r=document.createElement("div");return r.textContent="end",v.css(r,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),r},bounds:function(){var e=document.createElement("div");return v.css(e,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":o}),e.style.zIndex=n,e},trigger:function(e){var r=document.createElement("div");r.textContent="trigger",v.css(r,{position:"relative"});var t=document.createElement("div");v.css(t,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:e,"border-color":e}),t.appendChild(r);var i=document.createElement("div");return v.css(i,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":o}),i.style.zIndex=n,i.appendChild(t),i}}});
!function(e,n){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],n):"object"==typeof exports?(require("gsap"),n(require("scrollmagic"),TweenMax,TimelineMax)):n(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.TweenMax||e.TweenLite,e.TimelineMax||e.TimelineLite)}(this,function(e,s,u){"use strict";e.Scene.addOption("tweenChanges",!1,function(e){return!!e}),e.Scene.extend(function(){var i,o=this;o.on("progress.plugin_gsap",function(){a()}),o.on("destroy.plugin_gsap",function(e){o.removeTween(e.reset)});var a=function(){if(i){var e=o.progress(),n=o.state();i.repeat&&-1===i.repeat()?"DURING"===n&&i.paused()?i.play():"DURING"===n||i.paused()||i.pause():e!=i.progress()&&(0===o.duration()?0<e?i.play():i.reverse():o.tweenChanges()&&i.tweenTo?i.tweenTo(e*i.duration()):i.progress(e).pause())}};o.setTween=function(e,n,r){var t;1<arguments.length&&(arguments.length<3&&(r=n,n=1),e=s.to(e,n,r));try{(t=u?new u({smoothChildTiming:!0}).add(e):e).pause()}catch(e){return o}return i&&o.removeTween(),i=t,e.repeat&&-1===e.repeat()&&(i.repeat(-1),i.yoyo(e.yoyo())),a(),o},o.removeTween=function(e){return i&&(e&&i.progress(0).pause(),i.kill(),i=void 0),o}})});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).THREE={})}(this,function(t){function e(){}function p(t,e,n,r,i,a,o,s,c,l){Object.defineProperty(this,"id",{value:pa++}),this.uuid=oa.generateUUID(),this.name="",this.image=void 0!==t?t:p.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:p.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:1001,this.wrapT=void 0!==r?r:1001,this.magFilter=void 0!==i?i:1006,this.minFilter=void 0!==a?a:1008,this.anisotropy=void 0!==c?c:1,this.format=void 0!==o?o:1023,this.internalFormat=null,this.type=void 0!==s?s:1009,this.offset=new sa(0,0),this.repeat=new sa(1,1),this.center=new sa(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new la,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:3e3,this.version=0,this.onUpdate=null}function E(t,e,n){this.width=t,this.height=e,this.scissor=new da(0,0,t,e),this.scissorTest=!1,this.viewport=new da(0,0,t,e),n=n||{},this.texture=new p(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function n(t,e,n){E.call(this,t,e,n),this.samples=4}function r(t,e,n,r,i){for(var a=0,o=t.length-3;a<=o;a+=3){Ia.fromArray(t,a);var s=i.x*Math.abs(Ia.x)+i.y*Math.abs(Ia.y)+i.z*Math.abs(Ia.z),c=e.dot(Ia),l=n.dot(Ia),h=r.dot(Ia);if(Math.max(-Math.max(c,l,h),Math.min(c,l,h))>s)return!1}return!0}function d(){Object.defineProperty(this,"id",{value:ro++}),this.uuid=oa.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=d.DefaultUp.clone();var t=new va,e=new Ka,n=new ma,r=new va(1,1,1);e._onChange(function(){n.setFromEuler(e,!1)}),n._onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new ja},normalMatrix:{value:new la}}),this.matrix=new ja,this.matrixWorld=new ja,this.matrixAutoUpdate=d.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new no,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function i(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function a(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function o(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function s(){Object.defineProperty(this,"id",{value:zo++}),this.uuid=oa.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=this.flatShading=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilZPass=this.stencilZFail=this.stencilFail=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.toneMapped=this.visible=!0,this.userData={},this.version=0}function c(t){s.call(this),this.type="MeshBasicMaterial",this.color=new No(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphTargets=this.skinning=!1,this.setValues(t)}function A(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function l(t,e,n){A.call(this,new Int8Array(t),e,n)}function h(t,e,n){A.call(this,new Uint8Array(t),e,n)}function u(t,e,n){A.call(this,new Uint8ClampedArray(t),e,n)}function f(t,e,n){A.call(this,new Int16Array(t),e,n)}function m(t,e,n){A.call(this,new Uint16Array(t),e,n)}function g(t,e,n){A.call(this,new Int32Array(t),e,n)}function v(t,e,n){A.call(this,new Uint32Array(t),e,n)}function R(t,e,n){A.call(this,new Float32Array(t),e,n)}function y(t,e,n){A.call(this,new Float64Array(t),e,n)}function x(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}function P(){Object.defineProperty(this,"id",{value:Ho+=2}),this.uuid=oa.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0},this.userData={}}function L(t,e){d.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new P,this.material=void 0!==e?e:new c,this.updateMorphTargets()}function b(t,e,n,r,i,a,o,s){return null===(1===e.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,2!==e.side,s))?null:(hs.copy(s),hs.applyMatrix4(t.matrixWorld),(e=n.ray.origin.distanceTo(hs))<n.near||e>n.far?null:{distance:e,point:hs.clone(),object:t})}function _(t,e,n,r,i,a,o,s,c,l,h,u){if(Qo.fromBufferAttribute(i,l),Ko.fromBufferAttribute(i,h),$o.fromBufferAttribute(i,u),i=t.morphTargetInfluences,e.morphTargets&&a&&i){rs.set(0,0,0),is.set(0,0,0),as.set(0,0,0);for(var p=0,d=a.length;p<d;p++){var f=i[p],m=a[p];0!==f&&(ts.fromBufferAttribute(m,l),es.fromBufferAttribute(m,h),ns.fromBufferAttribute(m,u),o?(rs.addScaledVector(ts,f),is.addScaledVector(es,f),as.addScaledVector(ns,f)):(rs.addScaledVector(ts.sub(Qo),f),is.addScaledVector(es.sub(Ko),f),as.addScaledVector(ns.sub($o),f)))}Qo.add(rs),Ko.add(is),$o.add(as)}return t.isSkinnedMesh&&(t.boneTransform(l,Qo),t.boneTransform(h,Ko),t.boneTransform(u,$o)),(t=b(t,e,n,r,Qo,Ko,$o,ls))&&(s&&(os.fromBufferAttribute(s,l),ss.fromBufferAttribute(s,h),cs.fromBufferAttribute(s,u),t.uv=Co.getUV(ls,Qo,Ko,$o,os,ss,cs,new sa)),c&&(os.fromBufferAttribute(c,l),ss.fromBufferAttribute(c,h),cs.fromBufferAttribute(c,u),t.uv2=Co.getUV(ls,Qo,Ko,$o,os,ss,cs,new sa)),s=new Bo(l,h,u),Co.getNormal(Qo,Ko,$o,s.normal),t.face=s),t}function w(){Object.defineProperty(this,"id",{value:us+=2}),this.uuid=oa.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function M(t,e,n,r,i,a){w.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new S(t,e,n,r,i,a)),this.mergeVertices()}function S(t,e,n,r,i,a){function o(t,e,n,r,i,a,o,s,c,l,h){var u=a/c,p=o/l,d=a/2,f=o/2,m=s/2;o=c+1;for(var g=l+1,v=a=0,y=new va,x=0;x<g;x++)for(var b=x*p-f,_=0;_<o;_++)y[t]=(_*u-d)*r,y[e]=b*i,y[n]=m,S.push(y.x,y.y,y.z),y[t]=0,y[e]=0,y[n]=0<s?1:-1,T.push(y.x,y.y,y.z),E.push(_/c),E.push(1-x/l),a+=1;for(t=0;t<l;t++)for(e=0;e<c;e++)n=A+e+o*(t+1),r=A+(e+1)+o*(t+1),i=A+(e+1)+o*t,M.push(A+e+o*t,n,i),M.push(n,r,i),v+=6;w.addGroup(L,v,h),L+=v,A+=a}void 0===t&&(t=1),void 0===e&&(e=1),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=1),void 0===a&&(a=1),P.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var w=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);var M=[],S=[],T=[],E=[],A=0,L=0;o("z","y","x",-1,-1,n,e,t,a,i,0),o("z","y","x",1,-1,n,e,-t,a,i,1),o("x","z","y",1,1,t,n,e,r,a,2),o("x","z","y",1,-1,t,n,-e,r,a,3),o("x","y","z",1,-1,t,e,n,r,i,4),o("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(M),this.setAttribute("position",new R(S,3)),this.setAttribute("normal",new R(T,3)),this.setAttribute("uv",new R(E,2))}function T(t){var e,n={};for(e in t)for(var r in n[e]={},t[e]){var i=t[e][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?n[e][r]=i.clone():Array.isArray(i)?n[e][r]=i.slice():n[e][r]=i}return n}function C(t){for(var e={},n=0;n<t.length;n++){var r,i=T(t[n]);for(r in i)e[r]=i[r]}return e}function O(t){s.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function I(){d.call(this),this.type="Camera",this.matrixWorldInverse=new ja,this.projectionMatrix=new ja,this.projectionMatrixInverse=new ja}function D(t,e,n,r){I.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function N(t,e,o){if(d.call(this),this.type="CubeCamera",!0!==o.isWebGLCubeRenderTarget)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=o;var a=new D(90,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new va(1,0,0)),this.add(a);var s=new D(90,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new va(-1,0,0)),this.add(s);var c=new D(90,1,t,e);c.layers=this.layers,c.up.set(0,0,1),c.lookAt(new va(0,1,0)),this.add(c);var l=new D(90,1,t,e);l.layers=this.layers,l.up.set(0,0,-1),l.lookAt(new va(0,-1,0)),this.add(l);var h=new D(90,1,t,e);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new va(0,0,1)),this.add(h);var u=new D(90,1,t,e);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new va(0,0,-1)),this.add(u),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=t.xr.enabled,r=t.getRenderTarget();t.xr.enabled=!1;var i=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,t.setRenderTarget(o,0),t.render(e,a),t.setRenderTarget(o,1),t.render(e,s),t.setRenderTarget(o,2),t.render(e,c),t.setRenderTarget(o,3),t.render(e,l),t.setRenderTarget(o,4),t.render(e,h),o.texture.generateMipmaps=i,t.setRenderTarget(o,5),t.render(e,u),t.setRenderTarget(r),t.xr.enabled=n},this.clear=function(t,e,n,r){for(var i=t.getRenderTarget(),a=0;a<6;a++)t.setRenderTarget(o,a),t.clear(e,n,r);t.setRenderTarget(i)}}}function B(t,e,n){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=n),E.call(this,t,t,e),this.texture.isWebGLCubeRenderTargetTexture=!0}function wt(t,e,n,r,i,a,o,s,c,l,h,u){p.call(this,null,a,o,s,c,l,r,i,h,u),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==c?c:1003,this.minFilter=void 0!==l?l:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1,this.needsUpdate=!0}function Mt(){function n(t,e){i(t,e),a=r.requestAnimationFrame(n)}var r=null,t=!1,i=null,a=null;return{start:function(){!0!==t&&null!==i&&(a=r.requestAnimationFrame(n),t=!0)},stop:function(){r.cancelAnimationFrame(a),t=!1},setAnimationLoop:function(t){i=t},setContext:function(t){r=t}}}function St(h,t){var u=t.isWebGL2,p=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),p.get(t)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var e=p.get(t);e&&(h.deleteBuffer(e.buffer),p.delete(t))},update:function(t,e){if(t.isGLBufferAttribute)(!(e=p.get(t))||e.version<t.version)&&p.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version});else{t.isInterleavedBufferAttribute&&(t=t.data);var n=p.get(t);if(void 0===n)p.set(t,(o=e,s=(a=t).array,c=a.usage,l=h.createBuffer(),h.bindBuffer(o,l),h.bufferData(o,s,c),a.onUploadCallback(),o=5126,s instanceof Float32Array?o=5126:s instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):s instanceof Uint16Array?o=5123:s instanceof Int16Array?o=5122:s instanceof Uint32Array?o=5125:s instanceof Int32Array?o=5124:s instanceof Int8Array?o=5120:s instanceof Uint8Array&&(o=5121),{buffer:l,type:o,bytesPerElement:s.BYTES_PER_ELEMENT,version:a.version}));else if(n.version<t.version){var r=t.array,i=t.updateRange;h.bindBuffer(e,n.buffer),-1===i.count?h.bufferSubData(e,0,r):(u?h.bufferSubData(e,i.offset*r.BYTES_PER_ELEMENT,r,i.offset,i.count):h.bufferSubData(e,i.offset*r.BYTES_PER_ELEMENT,r.subarray(i.offset,i.offset+i.count)),i.count=-1),n.version=t.version}}var a,o,s,c,l}}}function z(t,e,n,r){w.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new G(t,e,n,r)),this.mergeVertices()}function G(t,e,n,r){P.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i=(t=t||1)/2,a=(e=e||1)/2,o=(n=Math.floor(n)||1)+1,s=(r=Math.floor(r)||1)+1,c=t/n,l=e/r;e=[],t=[];for(var h=[],u=[],p=0;p<s;p++)for(var d=p*l-a,f=0;f<o;f++)t.push(f*c-i,-d,0),h.push(0,0,1),u.push(f/n),u.push(1-p/r);for(i=0;i<r;i++)for(a=0;a<n;a++)s=a+o*(i+1),c=a+1+o*(i+1),l=a+1+o*i,e.push(a+o*i,s,l),e.push(s,c,l);this.setIndex(e),this.setAttribute("position",new R(t,3)),this.setAttribute("normal",new R(h,3)),this.setAttribute("uv",new R(u,2))}function Tt(i,a,n,o,r){function s(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}var c,l,h=new No(0),u=0,p=null,d=0,f=null;return{getClearColor:function(){return h},setClearColor:function(t,e){h.set(t),s(h,u=void 0!==e?e:1)},getClearAlpha:function(){return u},setClearAlpha:function(t){s(h,u=t)},render:function(t,e,n,r){(e=!0===e.isScene?e.background:null)&&e.isTexture&&(e=a.get(e)),(n=(n=i.xr).getSession&&n.getSession())&&"additive"===n.environmentBlendMode&&(e=null),null===e?s(h,u):e&&e.isColor&&(s(e,1),r=!0),(i.autoClear||r)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),e&&(e.isCubeTexture||e.isWebGLCubeRenderTarget||e.isWebGLCubeRenderTargetTexture||306===e.mapping)?(void 0===l&&((l=new L(new S(1,1,1),new O({name:"BackgroundCubeMaterial",uniforms:T(_s.cube.uniforms),vertexShader:_s.cube.vertexShader,fragmentShader:_s.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(l)),e.isWebGLCubeRenderTarget&&(e=e.texture),l.material.uniforms.envMap.value=e,l.material.uniforms.flipEnvMap.value=e.isCubeTexture?-1:1,p===e&&d===e.version&&f===i.toneMapping||(l.material.needsUpdate=!0,d=(p=e).version,f=i.toneMapping),t.unshift(l,l.geometry,l.material,0,0,null)):e&&e.isTexture&&(void 0===c&&((c=new L(new G(2,2),new O({name:"BackgroundMaterial",uniforms:T(_s.background.uniforms),vertexShader:_s.background.vertexShader,fragmentShader:_s.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(c)),!0===(c.material.uniforms.t2D.value=e).matrixAutoUpdate&&e.updateMatrix(),c.material.uniforms.uvTransform.value.copy(e.matrix),p===e&&d===e.version&&f===i.toneMapping||(c.material.needsUpdate=!0,d=(p=e).version,f=i.toneMapping),t.unshift(c,c.geometry,c.material,0,0,null))}}}function Et(g,v,y,x){function b(t){return x.isWebGL2?g.bindVertexArray(t):E.bindVertexArrayOES(t)}function a(t){return x.isWebGL2?g.deleteVertexArray(t):E.deleteVertexArrayOES(t)}function _(t){for(var e=[],n=[],r=[],i=0;i<s;i++)e[i]=0,n[i]=0,r[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function w(){for(var t=R.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function M(t){S(t,0)}function S(t,e){var n=R.enabledAttributes,r=R.attributeDivisors;R.newAttributes[t]=1,0===n[t]&&(g.enableVertexAttribArray(t),n[t]=1),r[t]!==e&&((x.isWebGL2?g:v.get("ANGLE_instanced_arrays"))[x.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](t,e),r[t]=e)}function T(){for(var t=R.newAttributes,e=R.enabledAttributes,n=0,r=e.length;n<r;n++)e[n]!==t[n]&&(g.disableVertexAttribArray(n),e[n]=0)}function o(){t(),R!==e&&b((R=e).object)}function t(){e.geometry=null,e.program=null,e.wireframe=!1}var s=g.getParameter(34921),E=x.isWebGL2?null:v.get("OES_vertex_array_object"),A=x.isWebGL2||null!==E,L={},e=_(null),R=e;return{setup:function(t,e,n,r,i){var a=!1;if(A){a=!0===e.wireframe;var o=L[r.id];void 0===o&&(o={},L[r.id]=o);var s=o[n.id];void 0===s&&(s={},o[n.id]=s),void 0===(o=s[a])&&(o=_(x.isWebGL2?g.createVertexArray():E.createVertexArrayOES()),s[a]=o),R!==(a=o)&&b((R=a).object);t:if(a=R.attributes,s=r.attributes,Object.keys(a).length!==Object.keys(s).length)a=!0;else{for(var c in s){o=a[c];var l=s[c];if(void 0===o||o.attribute!==l||o.data!==l.data){a=!0;break t}}a=R.index!==i}if(a){for(var h in c={},s=r.attributes)o=s[h],((l={}).attribute=o).data&&(l.data=o.data),c[h]=l;R.attributes=c,R.index=i}}else h=!0===e.wireframe,(R.geometry!==r.id||R.program!==n.id||R.wireframe!==h)&&(R.geometry=r.id,R.program=n.id,R.wireframe=h,a=!0);if(!0===t.isInstancedMesh&&(a=!0),null!==i&&y.update(i,34963),a){if(!1!==x.isWebGL2||!t.isInstancedMesh&&!r.isInstancedBufferGeometry||null!==v.get("ANGLE_instanced_arrays")){for(var u in w(),h=r.attributes,n=n.getAttributes(),e=e.defaultAttributeValues,n)if(0<=(a=n[u])){var p=h[u];if(void 0!==p){if(c=p.normalized,l=p.itemSize,void 0!==(o=y.get(p))){var d=o.buffer;if(s=o.type,o=o.bytesPerElement,p.isInterleavedBufferAttribute){var f=p.data,m=f.stride;p=p.offset,f&&f.isInstancedInterleavedBuffer?(S(a,f.meshPerAttribute),void 0===r._maxInstanceCount&&(r._maxInstanceCount=f.meshPerAttribute*f.count)):M(a),g.bindBuffer(34962,d),m*=o,o*=p,!0!==x.isWebGL2||5124!==s&&5125!==s?g.vertexAttribPointer(a,l,s,c,m,o):g.vertexAttribIPointer(a,l,s,m,o)}else p.isInstancedBufferAttribute?(S(a,p.meshPerAttribute),void 0===r._maxInstanceCount&&(r._maxInstanceCount=p.meshPerAttribute*p.count)):M(a),g.bindBuffer(34962,d),o=l,!0!==x.isWebGL2||5124!==s&&5125!==s?g.vertexAttribPointer(a,o,s,c,0,0):g.vertexAttribIPointer(a,o,s,0,0)}}else if("instanceMatrix"===u)void 0!==(s=y.get(t.instanceMatrix))&&(c=s.buffer,s=s.type,S(a+0,1),S(a+1,1),S(a+2,1),S(a+3,1),g.bindBuffer(34962,c),g.vertexAttribPointer(a+0,4,s,!1,64,0),g.vertexAttribPointer(a+1,4,s,!1,64,16),g.vertexAttribPointer(a+2,4,s,!1,64,32),g.vertexAttribPointer(a+3,4,s,!1,64,48));else if("instanceColor"===u)void 0!==(s=y.get(t.instanceColor))&&(c=s.buffer,s=s.type,S(a,1),g.bindBuffer(34962,c),g.vertexAttribPointer(a,3,s,!1,12,0));else if(void 0!==e&&void 0!==(c=e[u]))switch(c.length){case 2:g.vertexAttrib2fv(a,c);break;case 3:g.vertexAttrib3fv(a,c);break;case 4:g.vertexAttrib4fv(a,c);break;default:g.vertexAttrib1fv(a,c)}}T()}null!==i&&g.bindBuffer(34963,y.get(i).buffer)}},reset:o,resetDefaultState:t,dispose:function(){for(var t in o(),L){var e,n=L[t];for(e in n){var r,i=n[e];for(r in i)a(i[r].object),delete i[r];delete n[e]}delete L[t]}},releaseStatesOfGeometry:function(t){if(void 0!==L[t.id]){var e,n=L[t.id];for(e in n){var r,i=n[e];for(r in i)a(i[r].object),delete i[r];delete n[e]}delete L[t.id]}},releaseStatesOfProgram:function(t){for(var e in L){var n=L[e];if(void 0!==n[t.id]){var r,i=n[t.id];for(r in i)a(i[r].object),delete i[r];delete n[t.id]}}},initAttributes:w,enableAttribute:M,disableUnusedAttributes:T}}function At(a,o,s,t){var c,l=t.isWebGL2;this.setMode=function(t){c=t},this.render=function(t,e){a.drawArrays(c,t,e),s.update(e,c,1)},this.renderInstances=function(t,e,n){if(0!==n){if(l)var r=a,i="drawArraysInstanced";else if(i="drawArraysInstancedANGLE",null===(r=o.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");r[i](c,t,e,n),s.update(e,c,n)}}}function Lt(e,n,t){function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(35633,36338).precision&&0<e.getShaderPrecisionFormat(35632,36338).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(35633,36337).precision&&0<e.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var i,a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==t.precision?t.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s),t=!0===t.logarithmicDepthBuffer,s=e.getParameter(34930);var c=e.getParameter(35660),l=e.getParameter(3379),h=e.getParameter(34076),u=e.getParameter(34921),p=e.getParameter(36347),d=e.getParameter(36348),f=e.getParameter(36349),m=0<c,g=a||!!n.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==i)return i;var t=n.get("EXT_texture_filter_anisotropic");return i=null!==t?e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:t,maxTextures:s,maxVertexTextures:c,maxTextureSize:l,maxCubemapSize:h,maxAttributes:u,maxVertexUniforms:p,maxVaryings:d,maxFragmentUniforms:f,vertexTextures:m,floatFragmentTextures:g,floatVertexTextures:m&&g,maxSamples:a?e.getParameter(36183):0}}function Rt(c){function l(){g.value!==u&&(g.value=u,g.needsUpdate=0<p),o.numPlanes=p,o.numIntersection=0}function h(t,e,n,r){var i=null!==t?t.length:0,a=null;if(0!==i){if(a=g.value,!0!==r||null===a)for(r=n+4*i,e=e.matrixWorldInverse,m.getNormalMatrix(e),(null===a||a.length<r)&&(a=new Float32Array(r)),r=0;r!==i;++r,n+=4)s.copy(t[r]).applyMatrix4(e,m),s.normal.toArray(a,n),a[n+3]=s.constant;g.value=a,g.needsUpdate=!0}return o.numPlanes=i,o.numIntersection=0,a}var o=this,u=null,p=0,d=!1,f=!1,s=new bo,m=new la,g={value:null,needsUpdate:!1};this.uniform=g,this.numIntersection=this.numPlanes=0,this.init=function(t,e,n){var r=0!==t.length||e||0!==p||d;return d=e,u=h(t,n,0),p=t.length,r},this.beginShadows=function(){f=!0,h(null)},this.endShadows=function(){f=!1,l()},this.setState=function(t,e,n){var r=t.clippingPlanes,i=t.clipIntersection,a=t.clipShadows;if(t=c.get(t),!d||null===r||0===r.length||f&&!a)f?h(null):l();else{var o=4*(a=f?0:p),s=t.clippingState||null;for(g.value=s,s=h(r,e,o,n),e=0;e!==o;++e)s[e]=u[e];t.clippingState=s,this.numIntersection=i?this.numPlanes:0,this.numPlanes+=a}}}function Pt(a){function o(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}var s=new WeakMap;return{get:function(t){if(t&&t.isTexture){var e=t.mapping;if(303===e||304===e){if(s.has(t))return o(e=s.get(t).texture,t.mapping);var n=t.image;if(n&&0<n.height){e=a.getRenderList();var r=a.getRenderTarget(),i=a.getRenderState();return(n=new B(n.height/2)).fromEquirectangularTexture(a,t),s.set(t,n),a.setRenderTarget(r),a.setRenderList(e),a.setRenderState(i),o(n.texture,t.mapping)}return null}}return t},dispose:function(){s=new WeakMap}}}function Ct(n){var r={};return{has:function(t){if(void 0!==r[t])return null!==r[t];switch(t){case"WEBGL_depth_texture":var e=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":e=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":e=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":e=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:e=n.getExtension(t)}return null!==(r[t]=e)},get:function(t){return this.has(t)||console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),r[t]}}}function Ot(t,l,r,i){function a(t){t=t.target;var e=s.get(t);for(var n in null!==e.index&&l.remove(e.index),e.attributes)l.remove(e.attributes[n]);t.removeEventListener("dispose",a),s.delete(t),(n=h.get(e))&&(l.remove(n),h.delete(e)),i.releaseStatesOfGeometry(t),!0===t.isInstancedBufferGeometry&&delete t._maxInstanceCount,r.memory.geometries--}function o(t){var e=[],n=t.index,r=t.attributes.position;if(null!==n){r=n.array,n=n.version;for(var i=0,a=r.length;i<a;i+=3){var o=r[i+0],s=r[i+1],c=r[i+2];e.push(o,s,s,c,c,o)}}else for(i=r.array,n=r.version,r=0,i=i.length/3-1;r<i;r+=3)a=r+0,o=r+1,s=r+2,e.push(a,o,o,s,s,a);(e=new(65535<x(e)?v:m)(e,1)).version=n,(n=h.get(t))&&l.remove(n),h.set(t,e)}var s=new WeakMap,h=new WeakMap;return{get:function(t,e){var n=s.get(e);return n||(e.addEventListener("dispose",a),e.isBufferGeometry?n=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new P).setFromObject(t)),n=e._bufferGeometry),s.set(e,n),r.memory.geometries++,n)},update:function(t){var e=t.attributes;for(r in e)l.update(e[r],34962);for(var n in t=t.morphAttributes)for(var r=0,i=(e=t[n]).length;r<i;r++)l.update(e[r],34962)},getWireframeAttribute:function(t){var e=h.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&o(t)}else o(t);return h.get(t)}}}function It(a,o,s,t){var c,l,h,u=t.isWebGL2;this.setMode=function(t){c=t},this.setIndex=function(t){l=t.type,h=t.bytesPerElement},this.render=function(t,e){a.drawElements(c,e,l,t*h),s.update(e,c,1)},this.renderInstances=function(t,e,n){if(0!==n){if(u)var r=a,i="drawElementsInstanced";else if(i="drawElementsInstancedANGLE",null===(r=o.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");r[i](c,e,l,t*h,n),s.update(e,c,n)}}}function Dt(t){var r={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:r,programs:null,autoReset:!0,reset:function(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0},update:function(t,e,n){switch(r.calls++,e){case 4:r.triangles+=t/3*n;break;case 1:r.lines+=t/2*n;break;case 3:r.lines+=n*(t-1);break;case 2:r.lines+=n*t;break;case 0:r.points+=n*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e)}}}}function U(t,e){return t[0]-e[0]}function F(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Nt(c){for(var l={},h=new Float32Array(8),u=[],t=0;t<8;t++)u[t]=[t,0];return{update:function(t,e,n,r){var i=t.morphTargetInfluences;t=void 0===i?0:i.length;var a=l[e.id];if(void 0===a){a=[];for(var o=0;o<t;o++)a[o]=[o,0];l[e.id]=a}for(o=0;o<t;o++){var s=a[o];s[0]=o,s[1]=i[o]}for(a.sort(F),i=0;i<8;i++)i<t&&a[i][1]?(u[i][0]=a[i][0],u[i][1]=a[i][1]):(u[i][0]=Number.MAX_SAFE_INTEGER,u[i][1]=0);for(u.sort(U),t=n.morphTargets&&e.morphAttributes.position,n=n.morphNormals&&e.morphAttributes.normal,i=a=0;i<8;i++)o=(s=u[i])[0],s=s[1],o!==Number.MAX_SAFE_INTEGER&&s?(t&&e.getAttribute("morphTarget"+i)!==t[o]&&e.setAttribute("morphTarget"+i,t[o]),n&&e.getAttribute("morphNormal"+i)!==n[o]&&e.setAttribute("morphNormal"+i,n[o]),a+=h[i]=s):(t&&void 0!==e.getAttribute("morphTarget"+i)&&e.deleteAttribute("morphTarget"+i),n&&void 0!==e.getAttribute("morphNormal"+i)&&e.deleteAttribute("morphNormal"+i),h[i]=0);e=e.morphTargetsRelative?1:1-a,r.getUniforms().setValue(c,"morphTargetBaseInfluence",e),r.getUniforms().setValue(c,"morphTargetInfluences",h)}}}function Bt(t,i,a,o){var s=new WeakMap;return{update:function(t){var e=o.render.frame,n=t.geometry,r=i.get(t,n);return s.get(r)!==e&&(n.isGeometry&&r.updateFromObject(t),i.update(r),s.set(r,e)),t.isInstancedMesh&&(a.update(t.instanceMatrix,34962),null!==t.instanceColor&&a.update(t.instanceColor,34962)),r},dispose:function(){s=new WeakMap}}}function H(t,e,n,r,i,a,o,s,c,l){p.call(this,t=void 0!==t?t:[],void 0!==e?e:301,n,r,i,a,void 0!==o?o:1022,s,c,l),this.flipY=!1}function k(t,e,n,r){p.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:r||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function V(t,e,n,r){p.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:r||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function j(t,e,n){var r=t[0];if(r<=0||0<r)return t;var i=e*n,a=Es[i];if(void 0===a&&(a=new Float32Array(i),Es[i]=a),0!==e)for(r.toArray(a,0),r=1,i=0;r!==e;++r)i+=n,t[r].toArray(a,i);return a}function W(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function q(t,e){for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}function X(t,e){var n=As[e];void 0===n&&(n=new Int32Array(e),As[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Y(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Z(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y):W(n,e)||(t.uniform2fv(this.addr,e),q(n,e))}function J(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z):void 0!==e.r?n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b):W(n,e)||(t.uniform3fv(this.addr,e),q(n,e))}function Q(t,e){var n=this.cache;void 0!==e.x?n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w):W(n,e)||(t.uniform4fv(this.addr,e),q(n,e))}function K(t,e){var n=this.cache,r=e.elements;void 0===r?W(n,e)||(t.uniformMatrix2fv(this.addr,!1,e),q(n,e)):W(n,r)||(Ps.set(r),t.uniformMatrix2fv(this.addr,!1,Ps),q(n,r))}function $(t,e){var n=this.cache,r=e.elements;void 0===r?W(n,e)||(t.uniformMatrix3fv(this.addr,!1,e),q(n,e)):W(n,r)||(Rs.set(r),t.uniformMatrix3fv(this.addr,!1,Rs),q(n,r))}function tt(t,e){var n=this.cache,r=e.elements;void 0===r?W(n,e)||(t.uniformMatrix4fv(this.addr,!1,e),q(n,e)):W(n,r)||(Ls.set(r),t.uniformMatrix4fv(this.addr,!1,Ls),q(n,r))}function et(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(e||ws,i)}function nt(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Ms,i)}function rt(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Ss,i)}function it(t,e,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(e||Ts,i)}function at(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ot(t,e){var n=this.cache;W(n,e)||(t.uniform2iv(this.addr,e),q(n,e))}function st(t,e){var n=this.cache;W(n,e)||(t.uniform3iv(this.addr,e),q(n,e))}function ct(t,e){var n=this.cache;W(n,e)||(t.uniform4iv(this.addr,e),q(n,e))}function lt(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function ht(t,e){t.uniform1fv(this.addr,e)}function ut(t,e){t.uniform1iv(this.addr,e)}function pt(t,e){t.uniform2iv(this.addr,e)}function dt(t,e){t.uniform3iv(this.addr,e)}function ft(t,e){t.uniform4iv(this.addr,e)}function mt(t,e){e=j(e,this.size,2),t.uniform2fv(this.addr,e)}function gt(t,e){e=j(e,this.size,3),t.uniform3fv(this.addr,e)}function vt(t,e){e=j(e,this.size,4),t.uniform4fv(this.addr,e)}function yt(t,e){e=j(e,this.size,4),t.uniformMatrix2fv(this.addr,!1,e)}function xt(t,e){e=j(e,this.size,9),t.uniformMatrix3fv(this.addr,!1,e)}function bt(t,e){e=j(e,this.size,16),t.uniformMatrix4fv(this.addr,!1,e)}function _t(t,e,n){var r=e.length,i=X(n,r);for(t.uniform1iv(this.addr,i),t=0;t!==r;++t)n.safeSetTexture2D(e[t]||ws,i[t])}function zt(t,e,n){var r=e.length,i=X(n,r);for(t.uniform1iv(this.addr,i),t=0;t!==r;++t)n.safeSetTextureCube(e[t]||Ts,i[t])}function Gt(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Y;case 35664:return Z;case 35665:return J;case 35666:return Q;case 35674:return K;case 35675:return $;case 35676:return tt;case 5124:case 35670:return at;case 35667:case 35671:return ot;case 35668:case 35672:return st;case 35669:case 35673:return ct;case 5125:return lt;case 35678:case 36198:case 36298:case 36306:case 35682:return et;case 35679:case 36299:case 36307:return rt;case 35680:case 36300:case 36308:case 36293:return it;case 36289:case 36303:case 36311:case 36292:return nt}}(e.type)}function Ut(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return ht;case 35664:return mt;case 35665:return gt;case 35666:return vt;case 35674:return yt;case 35675:return xt;case 35676:return bt;case 5124:case 35670:return ut;case 35667:case 35671:return pt;case 35668:case 35672:return dt;case 35669:case 35673:return ft;case 35678:case 36198:case 36298:case 36306:case 35682:return _t;case 35680:case 36300:case 36308:case 36293:return zt}}(e.type)}function Ft(t){this.id=t,this.seq=[],this.map={}}function Ht(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),r=0;r<n;++r){var i=t.getActiveUniform(e,r),a=t.getUniformLocation(e,i.name),o=this,s=i.name,c=s.length;for(Cs.lastIndex=0;;){var l=Cs.exec(s),h=Cs.lastIndex,u=l[1],p=l[3];if("]"===l[2]&&(u|=0),void 0===p||"["===p&&h+2===c){s=o,i=void 0===p?new Gt(u,i,a):new Ut(u,i,a),s.seq.push(i),s.map[i.id]=i;break}void 0===(p=o.map[u])&&(p=new Ft(u),u=o,o=p,u.seq.push(o),u.map[o.id]=o),o=p}}}function kt(t,e,n){return e=t.createShader(e),t.shaderSource(e,n),t.compileShader(e),e}function Vt(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function jt(t,e,n){var r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&""===i)return"";for(t=t.getShaderSource(e).split("\n"),e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+(t=t.join("\n"))}function Wt(t,e){return"vec4 "+t+"( vec4 value ) { return "+(e=Vt(e))[0]+"ToLinear"+e[1]+"; }"}function qt(t){return""!==t}function Xt(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Yt(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function Zt(t,e){if(void 0===(t=xs[e]))throw Error("Can not resolve #include <"+e+">");return t.replace(Is,Zt)}function Jt(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Qt(t,e,n,r)}function Qt(t,e,n,r){for(t="",e=parseInt(e);e<parseInt(n);e++)t+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return t}function Kt(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function $t(t,e,n,r){var i,a,o,s,c,l,h=t.getContext(),u=n.defines,p=n.vertexShader,d=n.fragmentShader,f=(a="SHADOWMAP_TYPE_BASIC",1===(i=n).shadowMapType?a="SHADOWMAP_TYPE_PCF":2===i.shadowMapType?a="SHADOWMAP_TYPE_PCF_SOFT":3===i.shadowMapType&&(a="SHADOWMAP_TYPE_VSM"),a),m=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),g=function(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),v=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),y=0<t.gammaFactor?t.gammaFactor:1,x=n.isWebGL2?"":[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(qt).join("\n"),b=function(t){var e,n=[];for(e in t){var r=t[e];!1!==r&&n.push("#define "+e+" "+r)}return n.join("\n")}(u),_=h.createProgram(),w=n.glslVersion?"#version "+n.glslVersion+"\n":"";return n.isRawShaderMaterial?(0<(u=[b].filter(qt).join("\n")).length&&(u+="\n"),0<(f=[x,b].filter(qt).join("\n")).length&&(f+="\n")):(u=[Kt(n),"#define SHADER_NAME "+n.shaderName,b,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+g:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(qt).join("\n"),f=[x,Kt(n),"#define SHADER_NAME "+n.shaderName,b,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.envMap?"#define "+g:"",n.envMap?"#define "+v:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+f:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?xs.tonemapping_pars_fragment:"",0!==n.toneMapping?function(t,e){switch(e){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),e="Linear"}return"vec3 "+t+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",xs.encodings_pars_fragment,n.map?Wt("mapTexelToLinear",n.mapEncoding):"",n.matcap?Wt("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Wt("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Wt("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Wt("lightMapTexelToLinear",n.lightMapEncoding):"",(o="linearToOutputTexel",s=n.outputEncoding,"vec4 "+o+"( vec4 value ) { return LinearTo"+(s=Vt(s))[0]+s[1]+"; }"),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(qt).join("\n")),p=Yt(p=Xt(p=p.replace(Is,Zt),n),n),d=Yt(d=Xt(d=d.replace(Is,Zt),n),n),p=p.replace(Ns,Qt).replace(Ds,Jt),d=d.replace(Ns,Qt).replace(Ds,Jt),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(w="#version 300 es\n",u="#define attribute in\n#define varying out\n#define texture2D texture\n"+u,f=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+f),d=w+f+d,p=kt(h,35633,w+u+p),d=kt(h,35632,d),h.attachShader(_,p),h.attachShader(_,d),void 0!==n.index0AttributeName?h.bindAttribLocation(_,0,n.index0AttributeName):!0===n.morphTargets&&h.bindAttribLocation(_,0,"position"),h.linkProgram(_),t.debug.checkShaderErrors&&(t=h.getProgramInfoLog(_).trim(),w=h.getShaderInfoLog(p).trim(),m=h.getShaderInfoLog(d).trim(),v=g=!0,!1===h.getProgramParameter(_,35714)?(g=!1,y=jt(h,p,"vertex"),x=jt(h,d,"fragment"),console.error("THREE.WebGLProgram: shader error: ",h.getError(),"35715",h.getProgramParameter(_,35715),"gl.getProgramInfoLog",t,y,x)):""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==w&&""!==m||(v=!1),v&&(this.diagnostics={runnable:g,programLog:t,vertexShader:{log:w,prefix:u},fragmentShader:{log:m,prefix:f}})),h.deleteShader(p),h.deleteShader(d),this.getUniforms=function(){return void 0===c&&(c=new Ht(h,_)),c},this.getAttributes=function(){if(void 0===l){for(var t={},e=h.getProgramParameter(_,35721),n=0;n<e;n++){var r=h.getActiveAttrib(_,n).name;t[r]=h.getAttribLocation(_,r)}l=t}return l},this.destroy=function(){r.releaseStatesOfProgram(this),h.deleteProgram(_),this.program=void 0},this.name=n.shaderName,this.id=Os++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=p,this.fragmentShader=d,this}function te(u,p,d,f,o,m){function g(t){if(t)t.isTexture?e=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding);else var e=3e3;return e}var s=[],v=f.isWebGL2,y=f.logarithmicDepthBuffer,x=f.floatVertexTextures,b=f.maxVertexUniforms,_=f.vertexTextures,w=f.precision,M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},r="precision isWebGL2 supportsVertexTextures outputEncoding instancing instancingColor map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen transmissionMap".split(" ");return{getParameters:function(t,e,n,r,i){var a=r.fog;r=t.isMeshStandardMaterial?r.environment:null,r=p.get(t.envMap||r);var o=M[t.type];if(i.isSkinnedMesh){var s=i.skeleton.bones;if(x)s=1024;else{var c=Math.min(Math.floor((b-20)/4),s.length);s=c<s.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+s.length+" bones. This GPU supports "+c+"."),0):c}}else s=0;if(null!==t.precision&&((w=f.getMaxPrecision(t.precision))!==t.precision&&console.warn("THREE.WebGLProgram.getParameters:",t.precision,"not supported, using",w,"instead.")),o){var l=_s[o];c=l.vertexShader,l=l.fragmentShader}else c=t.vertexShader,l=t.fragmentShader;var h=u.getRenderTarget();return{isWebGL2:v,shaderID:o,shaderName:t.type,vertexShader:c,fragmentShader:l,defines:t.defines,isRawShaderMaterial:!0===t.isRawShaderMaterial,glslVersion:t.glslVersion,precision:w,instancing:!0===i.isInstancedMesh,instancingColor:!0===i.isInstancedMesh&&null!==i.instanceColor,supportsVertexTextures:_,outputEncoding:null!==h?g(h.texture):u.outputEncoding,map:!!t.map,mapEncoding:g(t.map),matcap:!!t.matcap,matcapEncoding:g(t.matcap),envMap:!!r,envMapMode:r&&r.mapping,envMapEncoding:g(r),envMapCubeUV:!!r&&(306===r.mapping||307===r.mapping),lightMap:!!t.lightMap,lightMapEncoding:g(t.lightMap),aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:g(t.emissiveMap),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:1===t.normalMapType,tangentSpaceNormalMap:0===t.normalMapType,clearcoatMap:!!t.clearcoatMap,clearcoatRoughnessMap:!!t.clearcoatRoughnessMap,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,transmissionMap:!!t.transmissionMap,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatMap||t.clearcoatRoughnessMap||t.clearcoatNormalMap||t.displacementMap||t.transmissionMap),uvsVertexOnly:!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap||t.transmissionMap||!t.displacementMap),fog:!!a,useFog:t.fog,fogExp2:a&&a.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:y,skinning:t.skinning&&0<s,maxBones:s,useVertexTexture:x,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:u.maxMorphTargets,maxMorphNormals:u.maxMorphNormals,numDirLights:e.directional.length,numPointLights:e.point.length,numSpotLights:e.spot.length,numRectAreaLights:e.rectArea.length,numHemiLights:e.hemi.length,numDirLightShadows:e.directionalShadowMap.length,numPointLightShadows:e.pointShadowMap.length,numSpotLightShadows:e.spotShadowMap.length,numClippingPlanes:m.numPlanes,numClipIntersection:m.numIntersection,dithering:t.dithering,shadowMapEnabled:u.shadowMap.enabled&&0<n.length,shadowMapType:u.shadowMap.type,toneMapping:t.toneMapped?u.toneMapping:0,physicallyCorrectLights:u.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:2===t.side,flipSided:1===t.side,depthPacking:void 0!==t.depthPacking&&t.depthPacking,index0AttributeName:t.index0AttributeName,extensionDerivatives:t.extensions&&t.extensions.derivatives,extensionFragDepth:t.extensions&&t.extensions.fragDepth,extensionDrawBuffers:t.extensions&&t.extensions.drawBuffers,extensionShaderTextureLOD:t.extensions&&t.extensions.shaderTextureLOD,rendererExtensionFragDepth:v||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:v||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:v||d.has("EXT_shader_texture_lod"),customProgramCacheKey:t.customProgramCacheKey()}},getProgramCacheKey:function(t){var e=[];if(t.shaderID?e.push(t.shaderID):(e.push(t.fragmentShader),e.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)e.push(n),e.push(t.defines[n]);if(!1===t.isRawShaderMaterial){for(n=0;n<r.length;n++)e.push(t[r[n]]);e.push(u.outputEncoding),e.push(u.gammaFactor)}return e.push(t.customProgramCacheKey),e.join()},getUniforms:function(t){var e=M[t.type];return e?ms.clone(_s[e].uniforms):t.uniforms},acquireProgram:function(t,e){for(var n,r=0,i=s.length;r<i;r++){var a=s[r];if(a.cacheKey===e){++(n=a).usedTimes;break}}return void 0===n&&(n=new $t(u,e,t,o),s.push(n)),n},releaseProgram:function(t){if(0==--t.usedTimes){var e=s.indexOf(t);s[e]=s[s.length-1],s.pop(),t.destroy()}},programs:s}}function ee(){var r=new WeakMap;return{get:function(t){var e=r.get(t);return void 0===e&&(e={},r.set(t,e)),e},remove:function(t){r.delete(t)},update:function(t,e,n){r.get(t)[e]=n},dispose:function(){r=new WeakMap}}}function ne(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function re(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ie(c){function o(t,e,n,r,i,a){var o=l[h],s=c.get(n);return void 0===o?(o={id:t.id,object:t,geometry:e,material:n,program:s.program||p,groupOrder:r,renderOrder:t.renderOrder,z:i,group:a},l[h]=o):(o.id=t.id,o.object=t,o.geometry=e,o.material=n,o.program=s.program||p,o.groupOrder=r,o.renderOrder=t.renderOrder,o.z=i,o.group=a),h++,o}var l=[],h=0,s=[],u=[],p={id:-1};return{opaque:s,transparent:u,init:function(){h=0,s.length=0,u.length=0},push:function(t,e,n,r,i,a){t=o(t,e,n,r,i,a),(!0===n.transparent?u:s).push(t)},unshift:function(t,e,n,r,i,a){t=o(t,e,n,r,i,a),(!0===n.transparent?u:s).unshift(t)},finish:function(){for(var t=h,e=l.length;t<e;t++){var n=l[t];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(t,e){1<s.length&&s.sort(t||ne),1<u.length&&u.sort(e||re)}}}function ae(i){var a=new WeakMap;return{get:function(t,e){var n=a.get(t);if(void 0===n){var r=new ie(i);a.set(t,new WeakMap),a.get(t).set(e,r)}else void 0===(r=n.get(e))&&(r=new ie(i),n.set(e,r));return r},dispose:function(){a=new WeakMap}}}function oe(){var n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];switch(t.type){case"DirectionalLight":var e={direction:new va,color:new No};break;case"SpotLight":e={position:new va,direction:new va,color:new No,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new va,color:new No,distance:0,decay:0};break;case"HemisphereLight":e={direction:new va,skyColor:new No,groundColor:new No};break;case"RectAreaLight":e={color:new No,position:new va,halfWidth:new va,halfHeight:new va}}return n[t.id]=e}}}function se(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function ce(){for(var _=new oe,w=function(){var n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];switch(t.type){case"DirectionalLight":var e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sa};break;case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sa};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new sa,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e}}}(),M={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},t=0;t<9;t++)M.probe.push(new va);var S=new va,T=new ja,E=new ja;return{setup:function(t,e,n){for(var r=e=0,i=0,a=0;a<9;a++)M.probe[a].set(0,0,0);var o=a=0,s=0,c=0,l=0,h=0,u=0,p=0;n=n.matrixWorldInverse,t.sort(se);for(var d=0,f=t.length;d<f;d++){var m=t[d],g=m.color,v=m.intensity,y=m.distance,x=m.shadow&&m.shadow.map?m.shadow.map.texture:null;if(m.isAmbientLight)e+=g.r*v,r+=g.g*v,i+=g.b*v;else if(m.isLightProbe)for(x=0;x<9;x++)M.probe[x].addScaledVector(m.sh.coefficients[x],v);else if(m.isDirectionalLight){if((v=_.get(m)).color.copy(m.color).multiplyScalar(m.intensity),v.direction.setFromMatrixPosition(m.matrixWorld),S.setFromMatrixPosition(m.target.matrixWorld),v.direction.sub(S),v.direction.transformDirection(n),m.castShadow){var b=m.shadow;(g=w.get(m)).shadowBias=b.bias,g.shadowNormalBias=b.normalBias,g.shadowRadius=b.radius,g.shadowMapSize=b.mapSize,M.directionalShadow[a]=g,M.directionalShadowMap[a]=x,M.directionalShadowMatrix[a]=m.shadow.matrix,h++}M.directional[a]=v,a++}else m.isSpotLight?((b=_.get(m)).position.setFromMatrixPosition(m.matrixWorld),b.position.applyMatrix4(n),b.color.copy(g).multiplyScalar(v),b.distance=y,b.direction.setFromMatrixPosition(m.matrixWorld),S.setFromMatrixPosition(m.target.matrixWorld),b.direction.sub(S),b.direction.transformDirection(n),b.coneCos=Math.cos(m.angle),b.penumbraCos=Math.cos(m.angle*(1-m.penumbra)),b.decay=m.decay,m.castShadow&&(v=m.shadow,(g=w.get(m)).shadowBias=v.bias,g.shadowNormalBias=v.normalBias,g.shadowRadius=v.radius,g.shadowMapSize=v.mapSize,M.spotShadow[s]=g,M.spotShadowMap[s]=x,M.spotShadowMatrix[s]=m.shadow.matrix,p++),M.spot[s]=b,s++):m.isRectAreaLight?((x=_.get(m)).color.copy(g).multiplyScalar(v),x.position.setFromMatrixPosition(m.matrixWorld),x.position.applyMatrix4(n),E.identity(),T.copy(m.matrixWorld),T.premultiply(n),E.extractRotation(T),x.halfWidth.set(.5*m.width,0,0),x.halfHeight.set(0,.5*m.height,0),x.halfWidth.applyMatrix4(E),x.halfHeight.applyMatrix4(E),M.rectArea[c]=x,c++):m.isPointLight?((v=_.get(m)).position.setFromMatrixPosition(m.matrixWorld),v.position.applyMatrix4(n),v.color.copy(m.color).multiplyScalar(m.intensity),v.distance=m.distance,v.decay=m.decay,m.castShadow&&(b=m.shadow,(g=w.get(m)).shadowBias=b.bias,g.shadowNormalBias=b.normalBias,g.shadowRadius=b.radius,g.shadowMapSize=b.mapSize,g.shadowCameraNear=b.camera.near,g.shadowCameraFar=b.camera.far,M.pointShadow[o]=g,M.pointShadowMap[o]=x,M.pointShadowMatrix[o]=m.shadow.matrix,u++),M.point[o]=v,o++):m.isHemisphereLight&&((x=_.get(m)).direction.setFromMatrixPosition(m.matrixWorld),x.direction.transformDirection(n),x.direction.normalize(),x.skyColor.copy(m.color).multiplyScalar(v),x.groundColor.copy(m.groundColor).multiplyScalar(v),M.hemi[l]=x,l++)}0<c&&(M.rectAreaLTC1=bs.LTC_1,M.rectAreaLTC2=bs.LTC_2),M.ambient[0]=e,M.ambient[1]=r,M.ambient[2]=i,(t=M.hash).directionalLength===a&&t.pointLength===o&&t.spotLength===s&&t.rectAreaLength===c&&t.hemiLength===l&&t.numDirectionalShadows===h&&t.numPointShadows===u&&t.numSpotShadows===p||(M.directional.length=a,M.spot.length=s,M.rectArea.length=c,M.point.length=o,M.hemi.length=l,M.directionalShadow.length=h,M.directionalShadowMap.length=h,M.pointShadow.length=u,M.pointShadowMap.length=u,M.spotShadow.length=p,M.spotShadowMap.length=p,M.directionalShadowMatrix.length=h,M.pointShadowMatrix.length=u,M.spotShadowMatrix.length=p,t.directionalLength=a,t.pointLength=o,t.spotLength=s,t.rectAreaLength=c,t.hemiLength=l,t.numDirectionalShadows=h,t.numPointShadows=u,t.numSpotShadows=p,M.version=Bs++)},state:M}}function le(){var e=new ce,n=[],r=[];return{init:function(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:e},setupLights:function(t){e.setup(n,r,t)},pushLight:function(t){n.push(t)},pushShadow:function(t){r.push(t)}}}function he(){var r=new WeakMap;return{get:function(t,e){if(!1===r.has(t)){var n=new le;r.set(t,new WeakMap),r.get(t).set(e,n)}else!1===r.get(t).has(e)?(n=new le,r.get(t).set(e,n)):n=r.get(t).get(e);return n},dispose:function(){r=new WeakMap}}}function ue(t){s.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function pe(t){s.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new va,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function de(f,m,g){function l(t,e,n){var r=i[n=t<<0|e<<1|n<<2];return void 0===r&&(r=new ue({depthPacking:3201,morphTargets:t,skinning:e}),i[n]=r),r}function h(t,e,n){var r=a[n=t<<0|e<<1|n<<2];return void 0===r&&(r=new pe({morphTargets:t,skinning:e}),a[n]=r),r}function p(t,e,n,r,i,a,o){var s=l,c=t.customDepthMaterial;return!0===r.isPointLight&&(s=h,c=t.customDistanceMaterial),t=void 0===c?(!(c=!1)===n.morphTargets&&(c=e.morphAttributes&&e.morphAttributes.position&&0<e.morphAttributes.position.length),!(e=!1)===t.isSkinnedMesh&&(!0===n.skinning?e=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),s(c,e,!0===t.isInstancedMesh)):c,f.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length&&(c=t.uuid,s=n.uuid,void 0===(e=u[c])&&(e={},u[c]=e),void 0===(c=e[s])&&(c=t.clone(),e[s]=c),t=c),t.visible=n.visible,t.wireframe=n.wireframe,t.side=3===o?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],t.clipShadows=n.clipShadows,t.clippingPlanes=n.clippingPlanes,t.clipIntersection=n.clipIntersection,t.wireframeLinewidth=n.wireframeLinewidth,t.linewidth=n.linewidth,!0===r.isPointLight&&!0===t.isMeshDistanceMaterial&&(t.referencePosition.setFromMatrixPosition(r.matrixWorld),t.nearDistance=i,t.farDistance=a),t}function v(t,e,n,r,i){if(!1!==t.visible){if(t.layers.test(e.layers)&&(t.isMesh||t.isLine||t.isPoints)&&(t.castShadow||t.receiveShadow&&3===i)&&(!t.frustumCulled||y.intersectsObject(t))){t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld);var a=m.update(t),o=t.material;if(Array.isArray(o))for(var s=a.groups,c=0,l=s.length;c<l;c++){var h=s[c],u=o[h.materialIndex];u&&u.visible&&(u=p(t,a,u,r,n.near,n.far,i),f.renderBufferDirect(n,null,a,u,t,h))}else o.visible&&(o=p(t,a,o,r,n.near,n.far,i),f.renderBufferDirect(n,null,a,o,t,null))}for(a=0,o=(t=t.children).length;a<o;a++)v(t[a],e,n,r,i)}}var y=new ys,x=new sa,b=new sa,_=new da,i=[],a=[],u={},d={0:1,1:0,2:2},w=new O({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new sa},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),M=w.clone();M.defines.HORIZONAL_PASS=1;var t=new P;t.setAttribute("position",new A(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var S=new L(t,w),T=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,e,n){if(!1!==T.enabled&&(!1!==T.autoUpdate||!1!==T.needsUpdate)&&0!==t.length){var r=f.getRenderTarget(),i=f.getActiveCubeFace(),a=f.getActiveMipmapLevel(),o=f.state;o.setBlending(0),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var s=0,c=t.length;s<c;s++){var l=t[s],h=l.shadow;if(!1!==h.autoUpdate||!1!==h.needsUpdate)if(void 0===h)console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");else{x.copy(h.mapSize);var u=h.getFrameExtents();x.multiply(u),b.copy(h.mapSize),(x.x>g||x.y>g)&&(x.x>g&&(b.x=Math.floor(g/u.x),x.x=b.x*u.x,h.mapSize.x=b.x),x.y>g&&(b.y=Math.floor(g/u.y),x.y=b.y*u.y,h.mapSize.y=b.y)),null!==h.map||h.isPointLightShadow||3!==this.type||(u={minFilter:1006,magFilter:1006,format:1023},h.map=new E(x.x,x.y,u),h.map.texture.name=l.name+".shadowMap",h.mapPass=new E(x.x,x.y,u),h.camera.updateProjectionMatrix()),null===h.map&&(h.map=new E(x.x,x.y,{minFilter:1003,magFilter:1003,format:1023}),h.map.texture.name=l.name+".shadowMap",h.camera.updateProjectionMatrix()),f.setRenderTarget(h.map),f.clear(),u=h.getViewportCount();for(var p=0;p<u;p++){var d=h.getViewport(p);_.set(b.x*d.x,b.y*d.y,b.x*d.z,b.y*d.w),o.viewport(_),h.updateMatrices(l,p),y=h.getFrustum(),v(e,n,h.camera,l,this.type)}h.isPointLightShadow||3!==this.type||(l=h,u=n,p=m.update(S),w.uniforms.shadow_pass.value=l.map.texture,w.uniforms.resolution.value=l.mapSize,w.uniforms.radius.value=l.radius,f.setRenderTarget(l.mapPass),f.clear(),f.renderBufferDirect(u,null,p,w,S,null),M.uniforms.shadow_pass.value=l.mapPass.texture,M.uniforms.resolution.value=l.mapSize,M.uniforms.radius.value=l.radius,f.setRenderTarget(l.map),f.clear(),f.renderBufferDirect(u,null,p,M,S,null)),h.needsUpdate=!1}}T.needsUpdate=!1,f.setRenderTarget(r,i,a)}}}function fe(h,t,e){function n(t,e,n){var r=new Uint8Array(4),i=h.createTexture();for(h.bindTexture(t,i),h.texParameteri(t,10241,9728),h.texParameteri(t,10240,9728),t=0;t<n;t++)h.texImage2D(e+t,0,6408,1,1,0,6408,5121,r);return i}function u(t){!0!==f[t]&&(h.enable(t),f[t]=!0)}function p(t){!1!==f[t]&&(h.disable(t),f[t]=!1)}function r(t,e,n,r,i,a,o,s){if(0===t)g&&(p(3042),g=!1);else if(g||(u(3042),g=!0),5!==t){if(t!==v||s!==S){if(100===y&&100===_||(h.blendEquation(32774),_=y=100),s)switch(t){case 1:h.blendFuncSeparate(1,771,1,771);break;case 2:h.blendFunc(1,1);break;case 3:h.blendFuncSeparate(0,0,769,771);break;case 4:h.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:h.blendFuncSeparate(770,771,1,771);break;case 2:h.blendFunc(770,1);break;case 3:h.blendFunc(0,769);break;case 4:h.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}M=w=b=x=null,v=t,S=s}}else i=i||e,a=a||n,o=o||r,e===y&&i===_||(h.blendEquationSeparate(G[e],G[i]),y=e,_=i),n===x&&r===b&&a===w&&o===M||(h.blendFuncSeparate(U[n],U[r],U[a],U[o]),x=n,b=r,w=a,M=o),v=t,S=null}function i(t){T!==t&&(t?h.frontFace(2304):h.frontFace(2305),T=t)}function a(t){0!==t?(u(2884),t!==E&&(1===t?h.cullFace(1029):2===t?h.cullFace(1028):h.cullFace(1032))):p(2884),E=t}function o(t,e,n){t?(u(32823),(L!==e||R!==n)&&(h.polygonOffset(e,n),L=e,R=n)):p(32823)}function s(t){void 0===t&&(t=33984+P-1),I!==t&&(h.activeTexture(t),I=t)}e=e.isWebGL2;var c=new function(){var e=!1,a=new da,n=null,o=new da(0,0,0,0);return{setMask:function(t){n===t||e||(h.colorMask(t,t,t,t),n=t)},setLocked:function(t){e=t},setClear:function(t,e,n,r,i){!0===i&&(t*=r,e*=r,n*=r),a.set(t,e,n,r),!1===o.equals(a)&&(h.clearColor(t,e,n,r),o.copy(a))},reset:function(){e=!1,n=null,o.set(-1,0,0,0)}}},l=new function(){var e=!1,n=null,r=null,i=null;return{setTest:function(t){t?u(2929):p(2929)},setMask:function(t){n===t||e||(h.depthMask(t),n=t)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:h.depthFunc(512);break;case 1:h.depthFunc(519);break;case 2:h.depthFunc(513);break;case 3:h.depthFunc(515);break;case 4:h.depthFunc(514);break;case 5:h.depthFunc(518);break;case 6:h.depthFunc(516);break;case 7:h.depthFunc(517);break;default:h.depthFunc(515)}else h.depthFunc(515);r=t}},setLocked:function(t){e=t},setClear:function(t){i!==t&&(h.clearDepth(t),i=t)},reset:function(){e=!1,i=r=n=null}}},d=new function(){var e=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,l=null;return{setTest:function(t){e||(t?u(2960):p(2960))},setMask:function(t){n===t||e||(h.stencilMask(t),n=t)},setFunc:function(t,e,n){r===t&&i===e&&a===n||(h.stencilFunc(t,e,n),r=t,i=e,a=n)},setOp:function(t,e,n){o===t&&s===e&&c===n||(h.stencilOp(t,e,n),o=t,s=e,c=n)},setLocked:function(t){e=t},setClear:function(t){l!==t&&(h.clearStencil(t),l=t)},reset:function(){e=!1,l=c=s=o=a=i=r=n=null}}},f={},m=null,g=null,v=null,y=null,x=null,b=null,_=null,w=null,M=null,S=!1,T=null,E=null,A=null,L=null,R=null,P=h.getParameter(35661),C=!1,O=0;-1!==(O=h.getParameter(7938)).indexOf("WebGL")?(O=parseFloat(/^WebGL ([0-9])/.exec(O)[1]),C=1<=O):-1!==O.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES ([0-9])/.exec(O)[1]),C=2<=O);var I=null,D={},N=new da,B=new da,z={};z[3553]=n(3553,3553,1),z[34067]=n(34067,34069,6),c.setClear(0,0,0,1),l.setClear(1),d.setClear(0),u(2929),l.setFunc(3),i(!1),a(1),u(2884),r(0);var G={100:32774,101:32778,102:32779};e?(G[103]=32775,G[104]=32776):null!==(t=t.get("EXT_blend_minmax"))&&(G[103]=t.MIN_EXT,G[104]=t.MAX_EXT);var U={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};return{buffers:{color:c,depth:l,stencil:d},enable:u,disable:p,useProgram:function(t){return m!==t&&(h.useProgram(t),m=t,!0)},setBlending:r,setMaterial:function(t,e){2===t.side?p(2884):u(2884);var n=1===t.side;e&&(n=!n),i(n),1===t.blending&&!1===t.transparent?r(0):r(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),l.setFunc(t.depthFunc),l.setTest(t.depthTest),l.setMask(t.depthWrite),c.setMask(t.colorWrite),e=t.stencilWrite,d.setTest(e),e&&(d.setMask(t.stencilWriteMask),d.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),d.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),o(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:i,setCullFace:a,setLineWidth:function(t){t!==A&&(C&&h.lineWidth(t),A=t)},setPolygonOffset:o,setScissorTest:function(t){t?u(3089):p(3089)},activeTexture:s,bindTexture:function(t,e){null===I&&s();var n=D[I];void 0===n&&(n={type:void 0,texture:void 0},D[I]=n),n.type===t&&n.texture===e||(h.bindTexture(t,e||z[t]),n.type=t,n.texture=e)},unbindTexture:function(){var t=D[I];void 0!==t&&void 0!==t.type&&(h.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{h.compressedTexImage2D.apply(h,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{h.texImage2D.apply(h,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{h.texImage3D.apply(h,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===N.equals(t)&&(h.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===B.equals(t)&&(h.viewport(t.x,t.y,t.z,t.w),B.copy(t))},reset:function(){f={},D={},E=T=v=m=I=null,c.reset(),l.reset(),d.reset()}}}function me(d,r,f,m,i,g,s){function a(t,e){return I?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(t,e,n,r){var i=1;if((t.width>r||t.height>r)&&(i=r/Math.max(t.width,t.height)),i<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap)return e=(r=e?oa.floorPowerOfTwo:Math.floor)(i*t.width),i=r(i*t.height),void 0===A&&(A=a(e,i)),(n=n?a(e,i):A).width=e,n.height=i,n.getContext("2d").drawImage(t,0,0,e,i),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+e+"x"+i+")."),n;"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+").")}return t}function y(t){return oa.isPowerOfTwo(t.width)&&oa.isPowerOfTwo(t.height)}function x(t,e){return t.generateMipmaps&&e&&1003!==t.minFilter&&1006!==t.minFilter}function b(t,e,n,r){d.generateMipmap(t),m.get(e).__maxMipLevel=Math.log(Math.max(n,r))*Math.LOG2E}function _(t,e,n){if(!1===L)return e;if(null!==t){if(void 0!==d[t])return d[t];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+t+"'")}return 6403===(t=e)&&(5126===n&&(t=33326),5131===n&&(t=33325),5121===n&&(t=33321)),6407===e&&(5126===n&&(t=34837),5131===n&&(t=34843),5121===n&&(t=32849)),6408===e&&(5126===n&&(t=34836),5131===n&&(t=34842),5121===n&&(t=32856)),33325!==t&&33326!==t&&34842!==t&&34836!==t||r.get("EXT_color_buffer_float"),t}function o(t){return 1003===t||1004===t||1005===t?9728:9729}function n(t){(t=t.target).removeEventListener("dispose",n);var e=m.get(t);void 0!==e.__webglInit&&(d.deleteTexture(e.__webglTexture),m.remove(t)),t.isVideoTexture&&O.delete(t),s.memory.textures--}function c(t){(t=t.target).removeEventListener("dispose",c);var e=m.get(t),n=m.get(t.texture);if(t){if(void 0!==n.__webglTexture&&d.deleteTexture(n.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(n=0;n<6;n++)d.deleteFramebuffer(e.__webglFramebuffer[n]),e.__webglDepthbuffer&&d.deleteRenderbuffer(e.__webglDepthbuffer[n]);else d.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&d.deleteRenderbuffer(e.__webglDepthbuffer),e.__webglMultisampledFramebuffer&&d.deleteFramebuffer(e.__webglMultisampledFramebuffer),e.__webglColorRenderbuffer&&d.deleteRenderbuffer(e.__webglColorRenderbuffer),e.__webglDepthRenderbuffer&&d.deleteRenderbuffer(e.__webglDepthRenderbuffer);m.remove(t.texture),m.remove(t)}s.memory.textures--}function l(t,e){var n=m.get(t);if(t.isVideoTexture){var r=s.render.frame;O.get(t)!==r&&(O.set(t,r),t.update())}if(0<t.version&&n.__version!==t.version)if(void 0===(r=t.image))console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==r.complete)return void p(n,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}f.activeTexture(33984+e),f.bindTexture(3553,n.__webglTexture)}function h(t,e){if(6===t.image.length){var n=m.get(t);if(0<t.version&&n.__version!==t.version){M(n,t),f.activeTexture(33984+e),f.bindTexture(34067,n.__webglTexture),d.pixelStorei(37440,t.flipY);var r=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),i=t.image[0]&&t.image[0].isDataTexture;e=[];for(var a=0;a<6;a++)e[a]=r||i?i?t.image[a].image:t.image[a]:v(t.image[a],!1,!0,R);var o=y(a=e[0])||L,s=g.convert(t.format),c=g.convert(t.type),l=_(t.internalFormat,s,c);if(w(34067,t,o),r){for(i=0;i<6;i++){var h=e[i].mipmaps;for(r=0;r<h.length;r++){var u=h[r];1023!==t.format&&1022!==t.format?null!==s?f.compressedTexImage2D(34069+i,r,l,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):f.texImage2D(34069+i,r,l,u.width,u.height,0,s,c,u.data)}}n.__maxMipLevel=h.length-1}else{for(h=t.mipmaps,r=0;r<6;r++)if(i)for(f.texImage2D(34069+r,0,l,e[r].width,e[r].height,0,s,c,e[r].data),u=0;u<h.length;u++){var p=h[u].image[r].image;f.texImage2D(34069+r,u+1,l,p.width,p.height,0,s,c,p.data)}else for(f.texImage2D(34069+r,0,l,s,c,e[r]),u=0;u<h.length;u++)f.texImage2D(34069+r,u+1,l,s,c,h[u].image[r]);n.__maxMipLevel=h.length}x(t,o)&&b(34067,t,a.width,a.height),n.__version=t.version,t.onUpdate&&t.onUpdate(t)}else f.activeTexture(33984+e),f.bindTexture(34067,n.__webglTexture)}}function u(t,e){f.activeTexture(33984+e),f.bindTexture(34067,m.get(t).__webglTexture)}function w(t,e,n){n?(d.texParameteri(t,10242,N[e.wrapS]),d.texParameteri(t,10243,N[e.wrapT]),32879!==t&&35866!==t||d.texParameteri(t,32882,N[e.wrapR]),d.texParameteri(t,10240,B[e.magFilter]),d.texParameteri(t,10241,B[e.minFilter])):(d.texParameteri(t,10242,33071),d.texParameteri(t,10243,33071),32879!==t&&35866!==t||d.texParameteri(t,32882,33071),1001===e.wrapS&&1001===e.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),d.texParameteri(t,10240,o(e.magFilter)),d.texParameteri(t,10241,o(e.minFilter)),1003!==e.minFilter&&1006!==e.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(n=r.get("EXT_texture_filter_anisotropic"))||1015===e.type&&null===r.get("OES_texture_float_linear")||1016===e.type&&null===(L||r.get("OES_texture_half_float_linear"))||!(1<e.anisotropy||m.get(e).__currentAnisotropy)||(d.texParameterf(t,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,i.getMaxAnisotropy())),m.get(e).__currentAnisotropy=e.anisotropy)}function M(t,e){void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",n),t.__webglTexture=d.createTexture(),s.memory.textures++)}function p(t,e,n){var r=3553;e.isDataTexture2DArray&&(r=35866),e.isDataTexture3D&&(r=32879),M(t,e),f.activeTexture(33984+n),f.bindTexture(r,t.__webglTexture),d.pixelStorei(37440,e.flipY),d.pixelStorei(37441,e.premultiplyAlpha),d.pixelStorei(3317,e.unpackAlignment),n=(n=!L&&(1001!==e.wrapS||1001!==e.wrapT||1003!==e.minFilter&&1006!==e.minFilter))&&!1===y(e.image);var i=y(n=v(e.image,n,!1,P))||L,a=g.convert(e.format),o=g.convert(e.type),s=_(e.internalFormat,a,o);w(r,e,i);var c=e.mipmaps;if(e.isDepthTexture)s=6402,L?s=1015===e.type?36012:1014===e.type?33190:1020===e.type?35056:33189:1015===e.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===e.format&&6402===s&&1012!==e.type&&1014!==e.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),e.type=1012,o=g.convert(e.type)),1027===e.format&&6402===s&&(s=34041,1020!==e.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),e.type=1020,o=g.convert(e.type))),f.texImage2D(3553,0,s,n.width,n.height,0,a,o,null);else if(e.isDataTexture)if(0<c.length&&i){for(var l=0,h=c.length;l<h;l++){var u=c[l];f.texImage2D(3553,l,s,u.width,u.height,0,a,o,u.data)}e.generateMipmaps=!1,t.__maxMipLevel=c.length-1}else f.texImage2D(3553,0,s,n.width,n.height,0,a,o,n.data),t.__maxMipLevel=0;else if(e.isCompressedTexture){for(l=0,h=c.length;l<h;l++)u=c[l],1023!==e.format&&1022!==e.format?null!==a?f.compressedTexImage2D(3553,l,s,u.width,u.height,0,u.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):f.texImage2D(3553,l,s,u.width,u.height,0,a,o,u.data);t.__maxMipLevel=c.length-1}else if(e.isDataTexture2DArray)f.texImage3D(35866,0,s,n.width,n.height,n.depth,0,a,o,n.data),t.__maxMipLevel=0;else if(e.isDataTexture3D)f.texImage3D(32879,0,s,n.width,n.height,n.depth,0,a,o,n.data),t.__maxMipLevel=0;else if(0<c.length&&i){for(l=0,h=c.length;l<h;l++)u=c[l],f.texImage2D(3553,l,s,a,o,u);e.generateMipmaps=!1,t.__maxMipLevel=c.length-1}else f.texImage2D(3553,0,s,a,o,n),t.__maxMipLevel=0;x(e,i)&&b(r,e,n.width,n.height),t.__version=e.version,e.onUpdate&&e.onUpdate(e)}function S(t,e,n,r){var i=g.convert(e.texture.format),a=g.convert(e.texture.type),o=_(e.texture.internalFormat,i,a);f.texImage2D(r,0,o,e.width,e.height,0,i,a,null),d.bindFramebuffer(36160,t),d.framebufferTexture2D(36160,n,r,m.get(e.texture).__webglTexture,0),d.bindFramebuffer(36160,null)}function T(t,e,n){if(d.bindRenderbuffer(36161,t),e.depthBuffer&&!e.stencilBuffer){var r=33189;n?((n=e.depthTexture)&&n.isDepthTexture&&(1015===n.type?r=36012:1014===n.type&&(r=33190)),n=E(e),d.renderbufferStorageMultisample(36161,n,r,e.width,e.height)):d.renderbufferStorage(36161,r,e.width,e.height),d.framebufferRenderbuffer(36160,36096,36161,t)}else e.depthBuffer&&e.stencilBuffer?(n?(n=E(e),d.renderbufferStorageMultisample(36161,n,35056,e.width,e.height)):d.renderbufferStorage(36161,34041,e.width,e.height),d.framebufferRenderbuffer(36160,33306,36161,t)):(t=g.convert(e.texture.format),r=g.convert(e.texture.type),t=_(e.texture.internalFormat,t,r),n?(n=E(e),d.renderbufferStorageMultisample(36161,n,t,e.width,e.height)):d.renderbufferStorage(36161,t,e.width,e.height));d.bindRenderbuffer(36161,null)}function E(t){return L&&t.isWebGLMultisampleRenderTarget?Math.min(C,t.samples):0}var A,L=i.isWebGL2,e=i.maxTextures,R=i.maxCubemapSize,P=i.maxTextureSize,C=i.maxSamples,O=new WeakMap,I=!1;try{I="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}var D=0,N={1e3:10497,1001:33071,1002:33648},B={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987},z=!1,G=!1;this.allocateTextureUnit=function(){var t=D;return e<=t&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+e),D+=1,t},this.resetTextureUnits=function(){D=0},this.setTexture2D=l,this.setTexture2DArray=function(t,e){var n=m.get(t);0<t.version&&n.__version!==t.version?p(n,t,e):(f.activeTexture(33984+e),f.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(t,e){var n=m.get(t);0<t.version&&n.__version!==t.version?p(n,t,e):(f.activeTexture(33984+e),f.bindTexture(32879,n.__webglTexture))},this.setTextureCube=h,this.setTextureCubeDynamic=u,this.setupRenderTarget=function(t){var e=m.get(t),n=m.get(t.texture);t.addEventListener("dispose",c),n.__webglTexture=d.createTexture(),s.memory.textures++;var r=!0===t.isWebGLCubeRenderTarget,i=!0===t.isWebGLMultisampleRenderTarget,a=y(t)||L;if(!L||1022!==t.texture.format||1015!==t.texture.type&&1016!==t.texture.type||(t.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),r)for(e.__webglFramebuffer=[],i=0;i<6;i++)e.__webglFramebuffer[i]=d.createFramebuffer();else if(e.__webglFramebuffer=d.createFramebuffer(),i)if(L){e.__webglMultisampledFramebuffer=d.createFramebuffer(),e.__webglColorRenderbuffer=d.createRenderbuffer(),d.bindRenderbuffer(36161,e.__webglColorRenderbuffer),i=g.convert(t.texture.format);var o=g.convert(t.texture.type);i=_(t.texture.internalFormat,i,o),o=E(t),d.renderbufferStorageMultisample(36161,o,i,t.width,t.height),d.bindFramebuffer(36160,e.__webglMultisampledFramebuffer),d.framebufferRenderbuffer(36160,36064,36161,e.__webglColorRenderbuffer),d.bindRenderbuffer(36161,null),t.depthBuffer&&(e.__webglDepthRenderbuffer=d.createRenderbuffer(),T(e.__webglDepthRenderbuffer,t,!0)),d.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(r){for(f.bindTexture(34067,n.__webglTexture),w(34067,t.texture,a),n=0;n<6;n++)S(e.__webglFramebuffer[n],t,36064,34069+n);x(t.texture,a)&&b(34067,t.texture,t.width,t.height),f.bindTexture(34067,null)}else f.bindTexture(3553,n.__webglTexture),w(3553,t.texture,a),S(e.__webglFramebuffer,t,36064,3553),x(t.texture,a)&&b(3553,t.texture,t.width,t.height),f.bindTexture(3553,null);if(t.depthBuffer){if(e=m.get(t),a=!0===t.isWebGLCubeRenderTarget,t.depthTexture){if(a)throw Error("target.depthTexture not supported in Cube render targets");if(t&&t.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(d.bindFramebuffer(36160,e.__webglFramebuffer),!t.depthTexture||!t.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(m.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),l(t.depthTexture,0),e=m.get(t.depthTexture).__webglTexture,1026===t.depthTexture.format)d.framebufferTexture2D(36160,36096,3553,e,0);else{if(1027!==t.depthTexture.format)throw Error("Unknown depthTexture format");d.framebufferTexture2D(36160,33306,3553,e,0)}}else if(a)for(e.__webglDepthbuffer=[],a=0;a<6;a++)d.bindFramebuffer(36160,e.__webglFramebuffer[a]),e.__webglDepthbuffer[a]=d.createRenderbuffer(),T(e.__webglDepthbuffer[a],t,!1);else d.bindFramebuffer(36160,e.__webglFramebuffer),e.__webglDepthbuffer=d.createRenderbuffer(),T(e.__webglDepthbuffer,t,!1);d.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(t){var e=t.texture,n=y(t)||L;if(x(e,n)){n=t.isWebGLCubeRenderTarget?34067:3553;var r=m.get(e).__webglTexture;f.bindTexture(n,r),b(n,e,t.width,t.height),f.bindTexture(n,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(L){var e=m.get(t);d.bindFramebuffer(36008,e.__webglMultisampledFramebuffer),d.bindFramebuffer(36009,e.__webglFramebuffer);var n=t.width,r=t.height,i=16384;t.depthBuffer&&(i|=256),t.stencilBuffer&&(i|=1024),d.blitFramebuffer(0,0,n,r,0,0,n,r,i,9728),d.bindFramebuffer(36160,e.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),z=!0),t=t.texture),l(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===G&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),G=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?h(t,e):u(t,e)}}function ge(t,n,e){var r=e.isWebGL2;return{convert:function(t){if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(1012===t)return 5123;if(1013===t)return 5124;if(1014===t)return 5125;if(1015===t)return 5126;if(1016===t){if(r)return 5131;var e=n.get("OES_texture_half_float");return null!==e?e.HALF_FLOAT_OES:null}if(1021===t)return 6406;if(1022===t)return 6407;if(1023===t)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(1026===t)return 6402;if(1027===t)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(null===(e=n.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===t)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(null===(e=n.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===t)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return null!==(e=n.get("WEBGL_compressed_texture_etc1"))?e.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&null!==(e=n.get("WEBGL_compressed_texture_etc"))){if(37492===t)return e.COMPRESSED_RGB8_ETC2;if(37496===t)return e.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?null!==(e=n.get("WEBGL_compressed_texture_astc"))?t:null:36492===t?null!==(e=n.get("EXT_texture_compression_bptc"))?t:null:1020===t?r?34042:null!==(e=n.get("WEBGL_depth_texture"))?e.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function ve(t){D.call(this),this.cameras=t||[]}function ye(){d.call(this),this.type="Group"}function xe(){this._hand=this._grip=this._targetRay=null}function be(l,e){function n(t){var e=m.get(t.inputSource);e&&e.dispatchEvent({type:t.type})}function r(){m.forEach(function(t,e){t.disconnect(e)}),m.clear(),l.setFramebuffer(null),l.setRenderTarget(l.getRenderTarget()),T.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function i(t){p=t,T.setContext(u),T.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}function a(t){for(var e=u.inputSources,n=0;n<f.length;n++)m.set(e[n],f[n]);for(e=0;e<t.removed.length;e++){n=t.removed[e];var r=m.get(n);r&&(r.dispatchEvent({type:"disconnected",data:n}),m.delete(n))}for(e=0;e<t.added.length;e++)n=t.added[e],(r=m.get(n))&&r.dispatchEvent({type:"connected",data:n})}function h(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}var o=this,u=null,s=1,p=null,c="local-floor",d=null,f=[],m=new Map,g=new D;g.layers.enable(1),g.viewport=new da;var v=new D;v.layers.enable(2),v.viewport=new da;var y=[g,v],x=new ve;x.layers.enable(1),x.layers.enable(2);var b=null,_=null;this.isPresenting=this.enabled=!1,this.getController=function(t){var e=f[t];return void 0===e&&(e=new xe,f[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){var e=f[t];return void 0===e&&(e=new xe,f[t]=e),e.getGripSpace()},this.getHand=function(t){var e=f[t];return void 0===e&&(e=new xe,f[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){s=t,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){c=t,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p},this.getSession=function(){return u},this.setSession=function(t){null!==(u=t)&&(u.addEventListener("select",n),u.addEventListener("selectstart",n),u.addEventListener("selectend",n),u.addEventListener("squeeze",n),u.addEventListener("squeezestart",n),u.addEventListener("squeezeend",n),u.addEventListener("end",r),!0!==(t=e.getContextAttributes()).xrCompatible&&e.makeXRCompatible(),t=new XRWebGLLayer(u,e,{antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:s}),u.updateRenderState({baseLayer:t}),u.requestReferenceSpace(c).then(i),u.addEventListener("inputsourceschange",a))};var w=new va,M=new va;this.getCamera=function(t){x.near=v.near=g.near=t.near,x.far=v.far=g.far=t.far,b===x.near&&_===x.far||(u.updateRenderState({depthNear:x.near,depthFar:x.far}),b=x.near,_=x.far);var e=t.parent,n=x.cameras;h(x,e);for(var r=0;r<n.length;r++)h(n[r],e);for(t.matrixWorld.copy(x.matrixWorld),e=0,r=(t=t.children).length;e<r;e++)t[e].updateMatrixWorld(!0);if(2===n.length){w.setFromMatrixPosition(g.matrixWorld),M.setFromMatrixPosition(v.matrixWorld),n=w.distanceTo(M);var i=g.projectionMatrix.elements,a=v.projectionMatrix.elements,o=i[14]/(i[10]-1);t=i[14]/(i[10]+1),e=(i[9]+1)/i[5],r=(i[9]-1)/i[5];var s=(i[8]-1)/i[0],c=(a[8]+1)/a[0];a=o*s,i=o*c,s=(c=n/(-s+c))*-s,g.matrixWorld.decompose(x.position,x.quaternion,x.scale),x.translateX(s),x.translateZ(c),x.matrixWorld.compose(x.position,x.quaternion,x.scale),x.matrixWorldInverse.getInverse(x.matrixWorld),o+=c,c=t+c,x.projectionMatrix.makePerspective(a-s,i+(n-s),e*t/c*o,r*t/c*o,o,c)}else x.projectionMatrix.copy(g.projectionMatrix);return x};var S=null,T=new Mt;T.setAnimationLoop(function(t,e){if(null!==(d=e.getViewerPose(p))){var n=d.views,r=u.renderState.baseLayer;l.setFramebuffer(r.framebuffer);var i=!1;n.length!==x.cameras.length&&(i=!(x.cameras.length=0));for(var a=0;a<n.length;a++){var o=n[a],s=r.getViewport(o),c=y[a];c.matrix.fromArray(o.transform.matrix),c.projectionMatrix.fromArray(o.projectionMatrix),c.viewport.set(s.x,s.y,s.width,s.height),0===a&&x.matrix.copy(c.matrix),!0===i&&x.cameras.push(c)}}for(n=u.inputSources,r=0;r<f.length;r++)f[r].update(n[r],e,p);S&&S(t,e)}),this.setAnimationLoop=function(t){S=t},this.dispose=function(){}}function _e(a){function o(t,e){t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap);var n=a.get(e).envMap;if(n&&(t.envMap.value=n,t.flipEnvMap.value=n.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,void 0!==(n=a.get(n).__maxMipLevel)&&(t.maxMipLevel.value=n)),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map)var r=e.map;else e.specularMap?r=e.specularMap:e.displacementMap?r=e.displacementMap:e.normalMap?r=e.normalMap:e.bumpMap?r=e.bumpMap:e.roughnessMap?r=e.roughnessMap:e.metalnessMap?r=e.metalnessMap:e.alphaMap?r=e.alphaMap:e.emissiveMap?r=e.emissiveMap:e.clearcoatMap?r=e.clearcoatMap:e.clearcoatNormalMap?r=e.clearcoatNormalMap:e.clearcoatRoughnessMap&&(r=e.clearcoatRoughnessMap);if(void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),e.aoMap)var i=e.aoMap;else e.lightMap&&(i=e.lightMap);void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uv2Transform.value.copy(i.matrix))}function s(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),a.get(e).envMap&&(t.envMapIntensity.value=e.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,e,n,r){if(e.isMeshBasicMaterial)o(t,e);else if(e.isMeshLambertMaterial)o(t,e),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);else if(e.isMeshToonMaterial)o(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);else if(e.isMeshPhongMaterial)o(t,e),t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);else if(e.isMeshStandardMaterial)o(t,e),e.isMeshPhysicalMaterial?(s(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)):s(t,e);else if(e.isMeshMatcapMaterial)o(t,e),e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);else if(e.isMeshDepthMaterial)o(t,e),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);else if(e.isMeshDistanceMaterial)o(t,e),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance;else if(e.isMeshNormalMaterial)o(t,e),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);else if(e.isLineBasicMaterial)t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.isLineDashedMaterial&&(t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale);else if(e.isPointsMaterial){if(t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*r,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map)var i=e.map;else e.alphaMap&&(i=e.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}else if(e.isSpriteMaterial){if(t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map)var a=e.map;else e.alphaMap&&(a=e.alphaMap);void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),t.uvTransform.value.copy(a.matrix))}else e.isShadowMaterial?(t.color.value.copy(e.color),t.opacity.value=e.opacity):e.isShaderMaterial&&(e.uniformsNeedUpdate=!1)}}}function we(t){function e(t,e){for(var n=0;n<t.length;n++){var r=a.getContext(t[n],e);if(null!==r)return r}return null}function n(){M=new Ct(vt),!1===(S=new Lt(vt,M,t)).isWebGL2&&(M.get("WEBGL_depth_texture"),M.get("OES_texture_float"),M.get("OES_texture_half_float"),M.get("OES_texture_half_float_linear"),M.get("OES_standard_derivatives"),M.get("OES_element_index_uint"),M.get("OES_vertex_array_object"),M.get("ANGLE_instanced_arrays")),M.get("OES_texture_float_linear"),k=new ge(vt,M,S),(T=new fe(vt,M,S)).scissor(et.copy(lt).multiplyScalar(at).floor()),T.viewport(tt.copy(ct).multiplyScalar(at).floor()),E=new Dt(vt),A=new ee,L=new me(vt,M,T,A,S,k,E),R=new Pt(j),P=new St(vt,S),V=new Et(vt,M,P,S),C=new Ot(vt,P,E,V),O=new Bt(vt,C,P,E),U=new Nt(vt),z=new Rt(A),I=new te(j,R,M,S,V,z),D=new _e(A),N=new ae(A),B=new he,G=new Tt(j,R,T,O,v),F=new At(vt,M,E,S),H=new It(vt,M,E,S),E.programs=I.programs,j.capabilities=S,j.extensions=M,j.properties=A,j.renderLists=N,j.state=T,j.info=E}function r(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),W=!0}function i(){console.log("THREE.WebGLRenderer: Context Restored."),W=!1,n()}function l(t){(t=t.target).removeEventListener("dispose",l),h(t),A.remove(t)}function h(t){void 0!==(t=A.get(t).program)&&I.releaseProgram(t)}function o(t,e,n){for(var r=!0===e.isScene?e.overrideMaterial:null,i=0,a=t.length;i<a;i++){var o=t[i],s=o.object,c=o.geometry,l=null===r?o.material:r;if(o=o.group,n.isArrayCamera)for(var h=($=n).cameras,u=0,p=h.length;u<p;u++){var d=h[u];s.layers.test(d.layers)&&(T.viewport(tt.copy(d.viewport)),w.setupLights(d),f(s,e,d,c,l,o))}else $=null,f(s,e,n,c,l,o)}}function f(t,e,n,r,i,a){if(t.onBeforeRender(j,e,n,r,i,a),w=B.get(e,$||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var o=u(n,e,i,t);T.setMaterial(i),V.reset(),s=o,t.render(function(t){j.renderBufferImmediate(t,s)})}else j.renderBufferDirect(n,e,r,i,t,a);var s;t.onAfterRender(j,e,n,r,i,a),w=B.get(e,$||n)}function d(t,e,n){!0!==e.isScene&&(e=gt);var r=A.get(t),i=w.state.lights,a=i.state.version;n=I.getParameters(t,i.state,w.state.shadowsArray,e,n);var o=I.getProgramCacheKey(n),s=r.program,c=!0;if(void 0===s)t.addEventListener("dispose",l);else if(s.cacheKey!==o)h(t);else{if(r.lightsStateVersion===a&&void 0!==n.shaderID)return e=t.isMeshStandardMaterial?e.environment:null,void(r.envMap=R.get(t.envMap||e));c=!1}c&&(n.uniforms=I.getUniforms(t),t.onBeforeCompile(n,j),s=I.acquireProgram(n,o),r.program=s,r.uniforms=n.uniforms,r.outputEncoding=n.outputEncoding),n=r.uniforms,(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=z.numPlanes,r.numIntersection=z.numIntersection,n.clippingPlanes=z.uniform),r.environment=t.isMeshStandardMaterial?e.environment:null,r.fog=e.fog,r.envMap=R.get(t.envMap||r.environment),r.needsLights=t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights,r.lightsStateVersion=a,r.needsLights&&(n.ambientLightColor.value=i.state.ambient,n.lightProbe.value=i.state.probe,n.directionalLights.value=i.state.directional,n.directionalLightShadows.value=i.state.directionalShadow,n.spotLights.value=i.state.spot,n.spotLightShadows.value=i.state.spotShadow,n.rectAreaLights.value=i.state.rectArea,n.ltc_1.value=i.state.rectAreaLTC1,n.ltc_2.value=i.state.rectAreaLTC2,n.pointLights.value=i.state.point,n.pointLightShadows.value=i.state.pointShadow,n.hemisphereLights.value=i.state.hemi,n.directionalShadowMap.value=i.state.directionalShadowMap,n.directionalShadowMatrix.value=i.state.directionalShadowMatrix,n.spotShadowMap.value=i.state.spotShadowMap,n.spotShadowMatrix.value=i.state.spotShadowMatrix,n.pointShadowMap.value=i.state.pointShadowMap,n.pointShadowMatrix.value=i.state.pointShadowMatrix),t=r.program.getUniforms(),t=Ht.seqWithValue(t.seq,n),r.uniformsList=t}function u(t,e,n,r){!0!==e.isScene&&(e=gt),L.resetTextureUnits();var i=e.fog,a=n.isMeshStandardMaterial?e.environment:null,o=null===Z?j.outputEncoding:Z.texture.encoding,s=R.get(n.envMap||a),c=A.get(n),l=w.state.lights;!0!==pt||!0!==dt&&t===K||z.setState(n,t,t===K&&n.id===Q),n.version===c.__version?n.fog&&c.fog!==i?d(n,e,r):c.environment!==a?d(n,e,r):c.needsLights&&c.lightsStateVersion!==l.state.version?d(n,e,r):void 0===c.numClippingPlanes||c.numClippingPlanes===z.numPlanes&&c.numIntersection===z.numIntersection?c.outputEncoding!==o?d(n,e,r):c.envMap!==s&&d(n,e,r):d(n,e,r):(d(n,e,r),c.__version=n.version);var h=!1;if(l=s=!1,a=(e=c.program).getUniforms(),o=c.uniforms,T.useProgram(e.program)&&(l=s=h=!0),n.id!==Q&&(Q=n.id,s=!0),(h||K!==t)&&(a.setValue(vt,"projectionMatrix",t.projectionMatrix),S.logarithmicDepthBuffer&&a.setValue(vt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),K!==t&&(K=t,l=s=!0),(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap)&&(void 0!==(h=a.map.cameraPosition)&&h.setValue(vt,mt.setFromMatrixPosition(t.matrixWorld))),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&a.setValue(vt,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&a.setValue(vt,"viewMatrix",t.matrixWorldInverse)),n.skinning&&(a.setOptional(vt,r,"bindMatrix"),a.setOptional(vt,r,"bindMatrixInverse"),t=r.skeleton))if(h=t.bones,S.floatVertexTextures){if(void 0===t.boneTexture){h=Math.sqrt(4*h.length),h=oa.ceilPowerOfTwo(h),h=Math.max(h,4);var u=new Float32Array(h*h*4);u.set(t.boneMatrices);var p=new wt(u,h,h,1023,1015);t.boneMatrices=u,t.boneTexture=p,t.boneTextureSize=h}a.setValue(vt,"boneTexture",t.boneTexture,L),a.setValue(vt,"boneTextureSize",t.boneTextureSize)}else a.setOptional(vt,t,"boneMatrices");return(s||c.receiveShadow!==r.receiveShadow)&&(c.receiveShadow=r.receiveShadow,a.setValue(vt,"receiveShadow",r.receiveShadow)),s&&(a.setValue(vt,"toneMappingExposure",j.toneMappingExposure),c.needsLights&&(t=l,o.ambientLightColor.needsUpdate=t,o.lightProbe.needsUpdate=t,o.directionalLights.needsUpdate=t,o.directionalLightShadows.needsUpdate=t,o.pointLights.needsUpdate=t,o.pointLightShadows.needsUpdate=t,o.spotLights.needsUpdate=t,o.spotLightShadows.needsUpdate=t,o.rectAreaLights.needsUpdate=t,o.hemisphereLights.needsUpdate=t),i&&n.fog&&D.refreshFogUniforms(o,i),D.refreshMaterialUniforms(o,n,at,it),Ht.upload(vt,c.uniformsList,o,L)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ht.upload(vt,c.uniformsList,o,L),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&a.setValue(vt,"center",r.center),a.setValue(vt,"modelViewMatrix",r.modelViewMatrix),a.setValue(vt,"normalMatrix",r.normalMatrix),a.setValue(vt,"modelMatrix",r.matrixWorld),e}var a=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),s=void 0!==t.context?t.context:null,c=void 0!==t.alpha&&t.alpha,p=void 0===t.depth||t.depth,m=void 0===t.stencil||t.stencil,g=void 0!==t.antialias&&t.antialias,v=void 0===t.premultipliedAlpha||t.premultipliedAlpha,y=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,x=void 0!==t.powerPreference?t.powerPreference:"default",b=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,_=null,w=null;this.domElement=a,this.debug={checkShaderErrors:!0},this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var M,S,T,E,A,L,R,P,C,O,I,D,N,B,z,G,U,F,H,k,V,j=this,W=!1,q=null,X=0,Y=0,Z=null,J=null,Q=-1,K=null,$=null,tt=new da,et=new da,nt=null,rt=a.width,it=a.height,at=1,ot=null,st=null,ct=new da(0,0,rt,it),lt=new da(0,0,rt,it),ht=!1,ut=new ys,pt=!1,dt=!1,ft=new ja,mt=new va,gt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0},vt=s;try{if(s={alpha:c,depth:p,stencil:m,antialias:g,premultipliedAlpha:v,preserveDrawingBuffer:y,powerPreference:x,failIfMajorPerformanceCaveat:b},a.addEventListener("webglcontextlost",r,!1),a.addEventListener("webglcontextrestored",i,!1),null===vt&&(c=["webgl2","webgl","experimental-webgl"],!0===j.isWebGL1Renderer&&c.shift(),null===(vt=e(c,s)))){if(e(c))throw Error("Error creating WebGL context with your selected attributes.");throw Error("Error creating WebGL context.")}void 0===vt.getShaderPrecisionFormat&&(vt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}n();var yt=new be(j,vt);this.xr=yt;var xt=new de(j,O,S.maxTextureSize);this.shadowMap=xt,this.getContext=function(){return vt},this.getContextAttributes=function(){return vt.getContextAttributes()},this.forceContextLoss=function(){var t=M.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=M.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return at},this.setPixelRatio=function(t){void 0!==t&&(at=t,this.setSize(rt,it,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new sa),t.set(rt,it)},this.setSize=function(t,e,n){yt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(rt=t,it=e,a.width=Math.floor(t*at),a.height=Math.floor(e*at),!1!==n&&(a.style.width=t+"px",a.style.height=e+"px"),this.setViewport(0,0,t,e))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new sa),t.set(rt*at,it*at).floor()},this.setDrawingBufferSize=function(t,e,n){rt=t,it=e,at=n,a.width=Math.floor(t*n),a.height=Math.floor(e*n),this.setViewport(0,0,t,e)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new da),t.copy(tt)},this.getViewport=function(t){return t.copy(ct)},this.setViewport=function(t,e,n,r){t.isVector4?ct.set(t.x,t.y,t.z,t.w):ct.set(t,e,n,r),T.viewport(tt.copy(ct).multiplyScalar(at).floor())},this.getScissor=function(t){return t.copy(lt)},this.setScissor=function(t,e,n,r){t.isVector4?lt.set(t.x,t.y,t.z,t.w):lt.set(t,e,n,r),T.scissor(et.copy(lt).multiplyScalar(at).floor())},this.getScissorTest=function(){return ht},this.setScissorTest=function(t){T.setScissorTest(ht=t)},this.setOpaqueSort=function(t){ot=t},this.setTransparentSort=function(t){st=t},this.getClearColor=function(){return G.getClearColor()},this.setClearColor=function(){G.setClearColor.apply(G,arguments)},this.getClearAlpha=function(){return G.getClearAlpha()},this.setClearAlpha=function(){G.setClearAlpha.apply(G,arguments)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===n||n)&&(r|=1024),vt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){a.removeEventListener("webglcontextlost",r,!1),a.removeEventListener("webglcontextrestored",i,!1),N.dispose(),B.dispose(),A.dispose(),R.dispose(),O.dispose(),V.dispose(),yt.dispose(),_t.stop()},this.renderBufferImmediate=function(t,e){V.initAttributes();var n=A.get(t);t.hasPositions&&!n.position&&(n.position=vt.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=vt.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=vt.createBuffer()),t.hasColors&&!n.color&&(n.color=vt.createBuffer()),e=e.getAttributes(),t.hasPositions&&(vt.bindBuffer(34962,n.position),vt.bufferData(34962,t.positionArray,35048),V.enableAttribute(e.position),vt.vertexAttribPointer(e.position,3,5126,!1,0,0)),t.hasNormals&&(vt.bindBuffer(34962,n.normal),vt.bufferData(34962,t.normalArray,35048),V.enableAttribute(e.normal),vt.vertexAttribPointer(e.normal,3,5126,!1,0,0)),t.hasUvs&&(vt.bindBuffer(34962,n.uv),vt.bufferData(34962,t.uvArray,35048),V.enableAttribute(e.uv),vt.vertexAttribPointer(e.uv,2,5126,!1,0,0)),t.hasColors&&(vt.bindBuffer(34962,n.color),vt.bufferData(34962,t.colorArray,35048),V.enableAttribute(e.color),vt.vertexAttribPointer(e.color,3,5126,!1,0,0)),V.disableUnusedAttributes(),vt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,a){null===e&&(e=gt);var o=i.isMesh&&i.matrixWorld.determinant()<0;if(t=u(t,e,r,i),T.setMaterial(r,o),o=n.index,e=n.attributes.position,null===o){if(void 0===e||0===e.count)return}else if(0===o.count)return;var s=1;if(!0===r.wireframe&&(o=C.getWireframeAttribute(n),s=2),(r.morphTargets||r.morphNormals)&&U.update(i,n,r,t),V.setup(i,r,t,n,o),t=F,null!==o){var c=P.get(o);(t=H).setIndex(c)}var l=n.drawRange.start*s,h=null!==a?a.start*s:0;c=Math.max(l,h),0!==(a=Math.max(0,Math.min(null!==o?o.count:e.count,l+n.drawRange.count*s,h+(null!==a?a.count*s:1/0))-1-c+1))&&(i.isMesh?!0===r.wireframe?(T.setLineWidth(r.wireframeLinewidth*(null===Z?at:1)),t.setMode(1)):t.setMode(4):i.isLine?(void 0===(r=r.linewidth)&&(r=1),T.setLineWidth(r*(null===Z?at:1)),i.isLineSegments?t.setMode(1):i.isLineLoop?t.setMode(2):t.setMode(3)):i.isPoints?t.setMode(0):i.isSprite&&t.setMode(4),i.isInstancedMesh?t.renderInstances(c,a,i.count):n.isInstancedBufferGeometry?t.renderInstances(c,a,Math.min(n.instanceCount,n._maxInstanceCount)):t.render(c,a))},this.compile=function(i,t){(w=B.get(i,t)).init(),i.traverse(function(t){t.isLight&&(w.pushLight(t),t.castShadow&&w.pushShadow(t))}),w.setupLights(t);var a=new WeakMap;i.traverse(function(t){var e=t.material;if(e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];!1===a.has(r)&&(d(r,i,t),a.set(r))}else!1===a.has(e)&&(d(e,i,t),a.set(e))})};var bt=null,_t=new Mt;_t.setAnimationLoop(function(t){yt.isPresenting||bt&&bt(t)}),"undefined"!=typeof window&&_t.setContext(window),this.setAnimationLoop=function(t){bt=t,yt.setAnimationLoop(t),null===t?_t.stop():_t.start()},this.render=function(t,e,n,r){if(void 0!==n){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var i=n}if(void 0!==r){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var a=r}void 0!==e&&!0!==e.isCamera?console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."):!0!==W&&(V.resetDefaultState(),Q=-1,!(K=null)===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===yt.enabled&&!0===yt.isPresenting&&(e=yt.getCamera(e)),!0===t.isScene&&t.onBeforeRender(j,t,e,i||Z),(w=B.get(t,e)).init(),ft.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),ut.setFromProjectionMatrix(ft),dt=this.localClippingEnabled,pt=z.init(this.clippingPlanes,dt,e),(_=N.get(t,e)).init(),function t(e,n,r,i){if(!1!==e.visible){if(e.layers.test(n.layers))if(e.isGroup)r=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(n);else if(e.isLight)w.pushLight(e),e.castShadow&&w.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||ut.intersectsSprite(e)){i&&mt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ft);var a=O.update(e),o=e.material;o.visible&&_.push(e,a,o,r,mt.z,null)}}else if(e.isImmediateRenderObject)i&&mt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ft),_.push(e,null,e.material,r,mt.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==E.render.frame&&(e.skeleton.update(),e.skeleton.frame=E.render.frame),!e.frustumCulled||ut.intersectsObject(e)))if(i&&mt.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ft),a=O.update(e),o=e.material,Array.isArray(o))for(var s=a.groups,c=0,l=s.length;c<l;c++){var h=s[c],u=o[h.materialIndex];u&&u.visible&&_.push(e,a,u,r,mt.z,h)}else o.visible&&_.push(e,a,o,r,mt.z,null);for(a=0,o=(e=e.children).length;a<o;a++)t(e[a],n,r,i)}}(t,e,0,j.sortObjects),_.finish(),!0===j.sortObjects&&_.sort(ot,st),!0===pt&&z.beginShadows(),xt.render(w.state.shadowsArray,t,e),w.setupLights(e),!0===pt&&z.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),G.render(_,t,e,a),n=_.opaque,r=_.transparent,0<n.length&&o(n,t,e),0<r.length&&o(r,t,e),!0===t.isScene&&t.onAfterRender(j,t,e),null!==Z&&(L.updateRenderTargetMipmap(Z),L.updateMultisampleRenderTarget(Z)),T.buffers.depth.setTest(!0),T.buffers.depth.setMask(!0),T.buffers.color.setMask(!0),T.setPolygonOffset(!1),w=_=null)},this.setFramebuffer=function(t){q!==t&&null===Z&&vt.bindFramebuffer(36160,t),q=t},this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return Y},this.getRenderList=function(){return _},this.setRenderList=function(t){_=t},this.getRenderState=function(){return w},this.setRenderState=function(t){w=t},this.getRenderTarget=function(){return Z},this.setRenderTarget=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0),X=e,Y=n,(Z=t)&&void 0===A.get(t).__webglFramebuffer&&L.setupRenderTarget(t);var r=q,i=!1;nt=t?(r=A.get(t).__webglFramebuffer,t.isWebGLCubeRenderTarget?(r=r[e],i=!0):r=t.isWebGLMultisampleRenderTarget?A.get(t).__webglMultisampledFramebuffer:r,tt.copy(t.viewport),et.copy(t.scissor),t.scissorTest):(tt.copy(ct).multiplyScalar(at).floor(),et.copy(lt).multiplyScalar(at).floor(),ht),J!==r&&(vt.bindFramebuffer(36160,r),J=r),T.viewport(tt),T.scissor(et),T.setScissorTest(nt),i&&(t=A.get(t.texture),vt.framebufferTexture2D(36160,36064,34069+e,t.__webglTexture,n))},this.readRenderTargetPixels=function(t,e,n,r,i,a,o){if(t&&t.isWebGLRenderTarget){var s=A.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){o=!1,s!==J&&(vt.bindFramebuffer(36160,s),o=!0);try{var c=t.texture,l=c.format,h=c.type;1023!==l&&k.convert(l)!==vt.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===h||k.convert(h)===vt.getParameter(35738)||1015===h&&(S.isWebGL2||M.get("OES_texture_float")||M.get("WEBGL_color_buffer_float"))||1016===h&&(S.isWebGL2?M.get("EXT_color_buffer_float"):M.get("EXT_color_buffer_half_float"))?36053===vt.checkFramebufferStatus(36160)?0<=e&&e<=t.width-r&&0<=n&&n<=t.height-i&&vt.readPixels(e,n,r,i,k.convert(l),k.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{o&&vt.bindFramebuffer(36160,J)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){void 0===n&&(n=0);var r=Math.pow(2,-n),i=Math.floor(e.image.width*r);r=Math.floor(e.image.height*r);var a=k.convert(e.format);L.setTexture2D(e,0),vt.copyTexImage2D(3553,n,a,t.x,t.y,i,r,0),T.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r){void 0===r&&(r=0);var i=e.image.width,a=e.image.height,o=k.convert(n.format),s=k.convert(n.type);L.setTexture2D(n,0),vt.pixelStorei(37440,n.flipY),vt.pixelStorei(37441,n.premultiplyAlpha),vt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?vt.texSubImage2D(3553,r,t.x,t.y,i,a,o,s,e.image.data):e.isCompressedTexture?vt.compressedTexSubImage2D(3553,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):vt.texSubImage2D(3553,r,t.x,t.y,o,s,e.image),0===r&&n.generateMipmaps&&vt.generateMipmap(3553),T.unbindTexture()},this.initTexture=function(t){L.setTexture2D(t,0),T.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Me(t){we.call(this,t)}function Se(){d.call(this),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.overrideMaterial=this.fog=this.environment=this.background=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Te(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=oa.generateUUID()}function Ee(t,e,n,r){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Ae(t){s.call(this),this.type="SpriteMaterial",this.color=new No(16777215),this.alphaMap=this.map=null,this.rotation=0,this.transparent=this.sizeAttenuation=!0,this.setValues(t)}function Le(t){if(d.call(this),this.type="Sprite",void 0===Fs){Fs=new P;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);e=new Te(e,5),Fs.setIndex([0,1,2,0,2,3]),Fs.setAttribute("position",new Ee(e,3,0,!1)),Fs.setAttribute("uv",new Ee(e,2,3,!1))}this.geometry=Fs,this.material=void 0!==t?t:new Ae,this.center=new sa(.5,.5)}function Re(t,e,n,r,i,a){js.subVectors(t,n).addScalar(.5).multiply(r),void 0!==i?(Ws.x=a*js.x-i*js.y,Ws.y=i*js.x+a*js.y):Ws.copy(js),t.copy(e),t.x+=Ws.x,t.y+=Ws.y,t.applyMatrix4(qs)}function Pe(){d.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Ce(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),L.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ja,this.bindMatrixInverse=new ja}function Oe(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new ja)}function Ie(){d.call(this),this.type="Bone"}function De(t,e,n){L.call(this,t,e),this.instanceMatrix=new A(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function Ne(t){s.call(this),this.type="LineBasicMaterial",this.color=new No(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.morphTargets=!1,this.setValues(t)}function Be(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),d.call(this),this.type="Line",this.geometry=void 0!==t?t:new P,this.material=void 0!==e?e:new Ne,this.updateMorphTargets()}function ze(t,e){Be.call(this,t,e),this.type="LineSegments"}function Ge(t,e){Be.call(this,t,e),this.type="LineLoop"}function Ue(t){s.call(this),this.type="PointsMaterial",this.color=new No(16777215),this.alphaMap=this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}function Fe(t,e){d.call(this),this.type="Points",this.geometry=void 0!==t?t:new P,this.material=void 0!==e?e:new Ue,this.updateMorphTargets()}function He(t,e,n,r,i,a,o){var s=bc.distanceSqToPoint(t);s<n&&(n=new va,bc.closestPointToPoint(t,n),n.applyMatrix4(r),(t=i.ray.origin.distanceTo(n))<i.near||t>i.far||a.push({distance:t,distanceToRay:Math.sqrt(s),point:n,index:e,face:null,object:o}))}function ke(e,t,n,r,i,a,o,s,c){p.call(this,e,t,n,r,i,a,o,s,c),this.format=void 0!==o?o:1022,this.minFilter=void 0!==a?a:1006,this.magFilter=void 0!==i?i:1006,this.generateMipmaps=!1;var l=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){l.needsUpdate=!0,e.requestVideoFrameCallback(t)})}function Ve(t,e,n,r,i,a,o,s,c,l,h,u){p.call(this,null,a,o,s,c,l,r,i,h,u),this.image={width:e,height:n},this.mipmaps=t,this.generateMipmaps=this.flipY=!1}function je(t,e,n,r,i,a,o,s,c){p.call(this,t,e,n,r,i,a,o,s,c),this.needsUpdate=!0}function We(t,e,n,r,i,a,o,s,c,l){if(1026!==(l=void 0!==l?l:1026)&&1027!==l)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===l&&(n=1012),void 0===n&&1027===l&&(n=1020),p.call(this,null,r,i,a,o,s,l,n,c),this.image={width:t,height:e},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==s?s:1003,this.generateMipmaps=this.flipY=!1}function qe(t){P.call(this),this.type="WireframeGeometry";var e=[],n=[0,0],r={},i=["a","b","c"];if(t&&t.isGeometry){for(var a=t.faces,o=0,s=a.length;o<s;o++)for(var c=a[o],l=0;l<3;l++){var h=c[i[l]],u=c[i[(l+1)%3]];n[0]=Math.min(h,u),n[1]=Math.max(h,u),void 0===r[h=n[0]+","+n[1]]&&(r[h]={index1:n[0],index2:n[1]})}for(var p in r)n=r[p],a=t.vertices[n.index1],e.push(a.x,a.y,a.z),a=t.vertices[n.index2],e.push(a.x,a.y,a.z)}else if(t&&t.isBufferGeometry)if(p=new va,null!==t.index){for(i=t.attributes.position,o=t.index,0===(t=t.groups).length&&(t=[{start:0,count:o.count,materialIndex:0}]),s=0,c=t.length;s<c;++s)for(l=u=(h=t[s]).start,h=u+h.count;l<h;l+=3)for(u=0;u<3;u++){var d=o.getX(l+u),f=o.getX(l+(u+1)%3);n[0]=Math.min(d,f),n[1]=Math.max(d,f),void 0===r[d=n[0]+","+n[1]]&&(r[d]={index1:n[0],index2:n[1]})}for(a in r)n=r[a],p.fromBufferAttribute(i,n.index1),e.push(p.x,p.y,p.z),p.fromBufferAttribute(i,n.index2),e.push(p.x,p.y,p.z)}else for(n=0,a=(r=t.attributes.position).count/3;n<a;n++)for(t=0;t<3;t++)p.fromBufferAttribute(r,3*n+t),e.push(p.x,p.y,p.z),p.fromBufferAttribute(r,3*n+(t+1)%3),e.push(p.x,p.y,p.z);this.setAttribute("position",new R(e,3))}function Xe(t,e,n){w.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Ye(t,e,n)),this.mergeVertices()}function Ye(t,e,n){P.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var r=[],i=[],a=[],o=[],s=new va,c=new va,l=new va,h=new va,u=new va;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var p=e+1,d=0;d<=n;d++)for(var f=d/n,m=0;m<=e;m++){var g=m/e;t(g,f,c),i.push(c.x,c.y,c.z),0<=g-1e-5?(t(g-1e-5,f,l),h.subVectors(c,l)):(t(g+1e-5,f,l),h.subVectors(l,c)),0<=f-1e-5?(t(g,f-1e-5,l),u.subVectors(c,l)):(t(g,f+1e-5,l),u.subVectors(l,c)),s.crossVectors(h,u).normalize(),a.push(s.x,s.y,s.z),o.push(g,f)}for(t=0;t<n;t++)for(s=0;s<e;s++)c=t*p+s+1,l=(t+1)*p+s+1,h=(t+1)*p+s,r.push(t*p+s,c,h),r.push(c,l,h);this.setIndex(r),this.setAttribute("position",new R(i,3)),this.setAttribute("normal",new R(a,3)),this.setAttribute("uv",new R(o,2))}function Ze(t,e,n,r){w.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new Je(t,e,n,r)),this.mergeVertices()}function Je(n,m,t,e){function g(t){u.push(t.x,t.y,t.z)}function v(t,e){t*=3,e.x=n[t+0],e.y=n[t+1],e.z=n[t+2]}function h(t,e,n,r){r<0&&1===t.x&&(p[e]=t.x-1),0===n.x&&0===n.z&&(p[e]=r/2/Math.PI+.5)}P.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:n,indices:m,radius:t,detail:e},t=t||1;var u=[],p=[];!function(t){for(var e=new va,n=new va,r=new va,i=0;i<m.length;i+=3){v(m[i+0],e),v(m[i+1],n),v(m[i+2],r);for(var a=e,o=n,s=r,c=Math.pow(2,t),l=[],h=0;h<=c;h++){l[h]=[];for(var u=a.clone().lerp(s,h/c),p=o.clone().lerp(s,h/c),d=c-h,f=0;f<=d;f++)l[h][f]=0===f&&h===c?u:u.clone().lerp(p,f/d)}for(a=0;a<c;a++)for(o=0;o<2*(c-a)-1;o++)s=Math.floor(o/2),0==o%2?(g(l[a][s+1]),g(l[a+1][s]),g(l[a][s])):(g(l[a][s+1]),g(l[a+1][s+1]),g(l[a+1][s]))}}(e=e||0),function(t){for(var e=new va,n=0;n<u.length;n+=3)e.x=u[n+0],e.y=u[n+1],e.z=u[n+2],e.normalize().multiplyScalar(t),u[n+0]=e.x,u[n+1]=e.y,u[n+2]=e.z}(t),function(){for(var t=new va,e=0;e<u.length;e+=3)t.x=u[e+0],t.y=u[e+1],t.z=u[e+2],p.push(Math.atan2(t.z,-t.x)/2/Math.PI+.5,1-(Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5));t=new va,e=new va;for(var n=new va,r=new va,i=new sa,a=new sa,o=new sa,s=0,c=0;s<u.length;s+=9,c+=6){t.set(u[s+0],u[s+1],u[s+2]),e.set(u[s+3],u[s+4],u[s+5]),n.set(u[s+6],u[s+7],u[s+8]),i.set(p[c+0],p[c+1]),a.set(p[c+2],p[c+3]),o.set(p[c+4],p[c+5]),r.copy(t).add(e).add(n).divideScalar(3);var l=Math.atan2(r.z,-r.x);h(i,c+0,t,l),h(a,c+2,e,l),h(o,c+4,n,l)}for(t=0;t<p.length;t+=6)e=p[t+0],n=p[t+2],r=p[t+4],i=Math.min(e,n,r),.9<Math.max(e,n,r)&&i<.1&&(e<.2&&(p[t+0]+=1),n<.2&&(p[t+2]+=1),r<.2&&(p[t+4]+=1))}(),this.setAttribute("position",new R(u,3)),this.setAttribute("normal",new R(u.slice(),3)),this.setAttribute("uv",new R(p,2)),0===e?this.computeVertexNormals():this.normalizeNormals()}function Qe(t,e){w.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ke(t,e)),this.mergeVertices()}function Ke(t,e){Je.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function $e(t,e){w.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new tn(t,e)),this.mergeVertices()}function tn(t,e){Je.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function en(t,e){w.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new nn(t,e)),this.mergeVertices()}function nn(t,e){var n=(1+Math.sqrt(5))/2;Je.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function rn(t,e){w.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new an(t,e)),this.mergeVertices()}function an(t,e){var n=(1+Math.sqrt(5))/2,r=1/n;Je.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function on(t,e,n,r,i,a){w.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed."),t=new sn(t,e,n,r,i),this.tangents=t.tangents,this.normals=t.normals,this.binormals=t.binormals,this.fromBufferGeometry(t),this.mergeVertices()}function sn(a,o,s,c,l){function h(t){m=a.getPointAt(t/o,m);var e=u.normals[t];t=u.binormals[t];for(var n=0;n<=c;n++){var r=n/c*Math.PI*2,i=Math.sin(r);r=-Math.cos(r),d.x=r*e.x+i*t.x,d.y=r*e.y+i*t.y,d.z=r*e.z+i*t.z,d.normalize(),v.push(d.x,d.y,d.z),p.x=m.x+s*d.x,p.y=m.y+s*d.y,p.z=m.z+s*d.z,g.push(p.x,p.y,p.z)}}P.call(this),this.type="TubeBufferGeometry",this.parameters={path:a,tubularSegments:o,radius:s,radialSegments:c,closed:l},o=o||64,s=s||1,c=c||8,l=l||!1;var u=a.computeFrenetFrames(o,l);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var p=new va,d=new va,f=new sa,m=new va,g=[],v=[],y=[],x=[];!function(){for(var t=0;t<o;t++)h(t);for(h(!1===l?o:0),t=0;t<=o;t++)for(var e=0;e<=c;e++)f.x=t/o,f.y=e/c,y.push(f.x,f.y);for(t=1;t<=o;t++)for(e=1;e<=c;e++){var n=(c+1)*t+(e-1),r=(c+1)*t+e,i=(c+1)*(t-1)+e;x.push((c+1)*(t-1)+(e-1),n,i),x.push(n,r,i)}}(),this.setIndex(x),this.setAttribute("position",new R(g,3)),this.setAttribute("normal",new R(v,3)),this.setAttribute("uv",new R(y,2))}function cn(t,e,n,r,i,a,o){w.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ln(t,e,n,r,i,a)),this.mergeVertices()}function ln(t,e,n,r,i,a){function o(t,e,n,r,i){var a=Math.sin(t);e=n/e*t,n=Math.cos(e),i.x=r*(2+n)*.5*Math.cos(t),i.y=r*(2+n)*a*.5,i.z=r*Math.sin(e)*.5}P.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},t=t||1,e=e||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;for(var s=[],c=[],l=[],h=[],u=new va,p=new va,d=new va,f=new va,m=new va,g=new va,v=new va,y=0;y<=n;++y){var x=y/n*i*Math.PI*2;for(o(x,i,a,t,d),o(x+.01,i,a,t,f),g.subVectors(f,d),v.addVectors(f,d),m.crossVectors(g,v),v.crossVectors(m,g),m.normalize(),v.normalize(),x=0;x<=r;++x){var b=x/r*Math.PI*2,_=-e*Math.cos(b);b=e*Math.sin(b),u.x=d.x+(_*v.x+b*m.x),u.y=d.y+(_*v.y+b*m.y),u.z=d.z+(_*v.z+b*m.z),c.push(u.x,u.y,u.z),p.subVectors(u,d).normalize(),l.push(p.x,p.y,p.z),h.push(y/n),h.push(x/r)}}for(t=1;t<=n;t++)for(e=1;e<=r;e++)i=(r+1)*t+(e-1),a=(r+1)*t+e,u=(r+1)*(t-1)+e,s.push((r+1)*(t-1)+(e-1),i,u),s.push(i,a,u);this.setIndex(s),this.setAttribute("position",new R(c,3)),this.setAttribute("normal",new R(l,3)),this.setAttribute("uv",new R(h,2))}function hn(t,e,n,r,i){w.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new un(t,e,n,r,i)),this.mergeVertices()}function un(t,e,n,r,i){P.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||1,e=e||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;for(var a=[],o=[],s=[],c=[],l=new va,h=new va,u=new va,p=0;p<=n;p++)for(var d=0;d<=r;d++){var f=d/r*i,m=p/n*Math.PI*2;h.x=(t+e*Math.cos(m))*Math.cos(f),h.y=(t+e*Math.cos(m))*Math.sin(f),h.z=e*Math.sin(m),o.push(h.x,h.y,h.z),l.x=t*Math.cos(f),l.y=t*Math.sin(f),u.subVectors(h,l).normalize(),s.push(u.x,u.y,u.z),c.push(d/r),c.push(p/n)}for(t=1;t<=n;t++)for(e=1;e<=r;e++)i=(r+1)*(t-1)+e-1,l=(r+1)*(t-1)+e,h=(r+1)*t+e,a.push((r+1)*t+e-1,i,h),a.push(i,l,h);this.setIndex(a),this.setAttribute("position",new R(o,3)),this.setAttribute("normal",new R(s,3)),this.setAttribute("uv",new R(c,2))}function pn(t,e,n,r,i){for(var a,o=0,s=e,c=n-r;s<n;s+=r)o+=(t[c]-t[s])*(t[s+1]+t[c+1]),c=s;if(i===0<o)for(i=e;i<n;i+=r)a=An(i,t[i],t[i+1],a);else for(i=n-r;e<=i;i-=r)a=An(i,t[i],t[i+1],a);return a&&_n(a,a.next)&&(Ln(a),a=a.next),a}function dn(t,e){if(!t)return t;e||(e=t);do{var n=!1;if(t.steiner||!_n(t,t.next)&&0!==bn(t.prev,t,t.next))t=t.next;else{if(Ln(t),(t=e=t.prev)===t.next)break;n=!0}}while(n||t!==e);return e}function fn(t,e,n,r){var i=t.prev,a=t.next;if(0<=bn(i,t,a))return!1;var o=i.x>t.x?i.x>a.x?i.x:a.x:t.x>a.x?t.x:a.x,s=i.y>t.y?i.y>a.y?i.y:a.y:t.y>a.y?t.y:a.y,c=vn(i.x<t.x?i.x<a.x?i.x:a.x:t.x<a.x?t.x:a.x,i.y<t.y?i.y<a.y?i.y:a.y:t.y<a.y?t.y:a.y,e,n,r);for(e=vn(o,s,e,n,r),n=t.prevZ,r=t.nextZ;n&&n.z>=c&&r&&r.z<=e;){if(n!==t.prev&&n!==t.next&&xn(i.x,i.y,t.x,t.y,a.x,a.y,n.x,n.y)&&0<=bn(n.prev,n,n.next))return!1;if(n=n.prevZ,r!==t.prev&&r!==t.next&&xn(i.x,i.y,t.x,t.y,a.x,a.y,r.x,r.y)&&0<=bn(r.prev,r,r.next))return!1;r=r.nextZ}for(;n&&n.z>=c;){if(n!==t.prev&&n!==t.next&&xn(i.x,i.y,t.x,t.y,a.x,a.y,n.x,n.y)&&0<=bn(n.prev,n,n.next))return!1;n=n.prevZ}for(;r&&r.z<=e;){if(r!==t.prev&&r!==t.next&&xn(i.x,i.y,t.x,t.y,a.x,a.y,r.x,r.y)&&0<=bn(r.prev,r,r.next))return!1;r=r.nextZ}return!0}function mn(t,e){return t.x-e.x}function gn(t,e){var n=e,r=t.x,i=t.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var o=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(o<=r&&a<o){if((a=o)===r){if(i===n.y)return n;if(i===n.next.y)return n.next}var s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!s)return null;if(r===a)return s;o=(e=s).x;var c=s.y,l=1/0;n=s;do{if(r>=n.x&&n.x>=o&&r!==n.x&&xn(i<c?r:a,i,o,c,i<c?a:r,i,n.x,n.y)){var h,u=Math.abs(i-n.y)/(r-n.x);if((h=Tn(n,t))&&!(h=u<l)&&(h=u===l)&&!(h=n.x>s.x)&&(h=n.x===s.x)){var p=n;h=bn((h=s).prev,h,p.prev)<0&&bn(p.next,h,h.next)<0}h&&(s=n,l=u)}n=n.next}while(n!==e);return s}function vn(t,e,n,r,i){return 1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1)|(1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function yn(t){for(var e=t,n=t;(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),(e=e.next)!==t;);return n}function xn(t,e,n,r,i,a,o,s){return 0<=(i-o)*(e-s)-(t-o)*(a-s)&&0<=(t-o)*(r-s)-(n-o)*(e-s)&&0<=(n-o)*(a-s)-(i-o)*(r-s)}function bn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _n(t,e){return t.x===e.x&&t.y===e.y}function wn(t,e,n,r){var i=Sn(bn(t,e,n)),a=Sn(bn(t,e,r)),o=Sn(bn(n,r,t)),s=Sn(bn(n,r,e));return!!(i!==a&&o!==s||0===i&&Mn(t,n,e)||0===a&&Mn(t,r,e)||0===o&&Mn(n,t,r)||0===s&&Mn(n,e,r))}function Mn(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Sn(t){return 0<t?1:t<0?-1:0}function Tn(t,e){return bn(t.prev,t,t.next)<0?0<=bn(t,e,t.next)&&0<=bn(t,t.prev,e):bn(t,e,t.prev)<0||bn(t,t.next,e)<0}function En(t,e){var n=new Rn(t.i,t.x,t.y),r=new Rn(e.i,e.x,e.y),i=t.next,a=e.prev;return(t.next=e).prev=t,(n.next=i).prev=n,(r.next=n).prev=r,(a.next=r).prev=a,r}function An(t,e,n,r){return t=new Rn(t,e,n),r?(t.next=r.next,(t.prev=r).next.prev=t,r.next=t):(t.prev=t).next=t,t}function Ln(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Rn(t,e,n){this.i=t,this.x=e,this.y=n,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function Pn(t){var e=t.length;2<e&&t[e-1].equals(t[0])&&t.pop()}function Cn(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function On(t,e){w.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new In(t,e)),this.mergeVertices()}function In(t,H){function e(t){function e(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function n(t,e,n){var r=t.x-e.x,i=t.y-e.y,a=n.x-t.x,o=n.y-t.y,s=r*r+i*i;if(Math.abs(r*o-i*a)>Number.EPSILON){var c=Math.sqrt(s),l=Math.sqrt(a*a+o*o);if(s=e.x-i/c,e=e.y+r/c,(i=(a=s+r*(o=((n.x-o/l-s)*o-(n.y+a/l-e)*a)/(r*o-i*a))-t.x)*a+(r=e+i*o-t.y)*r)<=2)return new sa(a,r);i=Math.sqrt(i/2)}else t=!1,r>Number.EPSILON?a>Number.EPSILON&&(t=!0):r<-Number.EPSILON?a<-Number.EPSILON&&(t=!0):Math.sign(i)===Math.sign(o)&&(t=!0),i=t?(a=-i,Math.sqrt(s)):(a=r,r=i,Math.sqrt(s/2));return new sa(a/i,r/i)}function a(t,e){for(var n=t.length;0<=--n;){var r=n,i=n-1;i<0&&(i=t.length-1);for(var a=0,o=d+2*g;a<o;a++){var s=R*a,c=R*(a+1),l=e+i+s,h=e+i+c;c=e+r+c,u(e+r+s),u(l),u(c),u(l),u(h),u(c),s=V.length/3,p((s=y.generateSideWallUV(k,V,s-6,s-3,s-2,s-1))[0]),p(s[1]),p(s[3]),p(s[1]),p(s[2]),p(s[3])}}}function r(t,e,n){o.push(t),o.push(e),o.push(n)}function i(t,e,n){u(t),u(e),u(n),t=V.length/3,p((t=y.generateTopUV(k,V,t-3,t-2,t-1))[0]),p(t[1]),p(t[2])}function u(t){V.push(o[3*t]),V.push(o[3*t+1]),V.push(o[3*t+2])}function p(t){j.push(t.x),j.push(t.y)}var o=[],s=void 0!==H.curveSegments?H.curveSegments:12,d=void 0!==H.steps?H.steps:1,c=void 0!==H.depth?H.depth:100,l=void 0===H.bevelEnabled||H.bevelEnabled,h=void 0!==H.bevelThickness?H.bevelThickness:6,f=void 0!==H.bevelSize?H.bevelSize:h-2,m=void 0!==H.bevelOffset?H.bevelOffset:0,g=void 0!==H.bevelSegments?H.bevelSegments:3,v=H.extrudePath,y=void 0!==H.UVGenerator?H.UVGenerator:Tc;void 0!==H.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=H.amount);var x=!1;if(v){var b=v.getSpacedPoints(d);l=!(x=!0);var _=v.computeFrenetFrames(d,!1),w=new va,M=new va,S=new va}l||(m=f=h=g=0),v=(t=t.extractPoints(s)).shape;var T=t.holes;if(!Sc.isClockWise(v))for(v=v.reverse(),t=0,s=T.length;t<s;t++){var E=T[t];Sc.isClockWise(E)&&(T[t]=E.reverse())}var A=Sc.triangulateShape(v,T),L=v;for(t=0,s=T.length;t<s;t++)v=v.concat(T[t]);var R=v.length,P=A.length;t=[],s=0;for(var C=(E=L.length)-1,O=s+1;s<E;s++,C++,O++)C===E&&(C=0),O===E&&(O=0),t[s]=n(L[s],L[C],L[O]);s=[],E=t.concat(),O=0;for(var I=T.length;O<I;O++){var D=T[O];C=[];for(var N=0,B=D.length,z=B-1,G=N+1;N<B;N++,z++,G++)z===B&&(z=0),G===B&&(G=0),C[N]=n(D[N],D[z],D[G]);s.push(C),E=E.concat(C)}for(O=0;O<g;O++){for(C=O/g,I=h*Math.cos(C*Math.PI/2),D=f*Math.sin(C*Math.PI/2)+m,C=0,N=L.length;C<N;C++)r((B=e(L[C],t[C],D)).x,B.y,-I);for(N=0,B=T.length;N<B;N++){z=T[N],C=s[N],G=0;for(var U=z.length;G<U;G++){var F=e(z[G],C[G],D);r(F.x,F.y,-I)}}}for(C=f+m,O=0;O<R;O++)I=l?e(v[O],E[O],C):v[O],x?(M.copy(_.normals[0]).multiplyScalar(I.x),w.copy(_.binormals[0]).multiplyScalar(I.y),S.copy(b[0]).add(M).add(w),r(S.x,S.y,S.z)):r(I.x,I.y,0);for(O=1;O<=d;O++)for(I=0;I<R;I++)D=l?e(v[I],E[I],C):v[I],x?(M.copy(_.normals[O]).multiplyScalar(D.x),w.copy(_.binormals[O]).multiplyScalar(D.y),S.copy(b[O]).add(M).add(w),r(S.x,S.y,S.z)):r(D.x,D.y,c/d*O);for(_=g-1;0<=_;_--){for(M=_/g,w=h*Math.cos(M*Math.PI/2),M=f*Math.sin(M*Math.PI/2)+m,S=0,v=L.length;S<v;S++)r((E=e(L[S],t[S],M)).x,E.y,c+w);for(S=0,v=T.length;S<v;S++)for(E=T[S],C=s[S],O=0,I=E.length;O<I;O++)D=e(E[O],C[O],M),x?r(D.x,D.y+b[d-1].y,b[d-1].x+w):r(D.x,D.y,c+w)}!function(){var t=V.length/3;if(l){for(var e=0*R,n=0;n<P;n++){var r=A[n];i(r[2]+e,r[1]+e,r[0]+e)}for(e=R*(d+2*g),n=0;n<P;n++)i((r=A[n])[0]+e,r[1]+e,r[2]+e)}else{for(e=0;e<P;e++)i((n=A[e])[2],n[1],n[0]);for(e=0;e<P;e++)i((n=A[e])[0]+R*d,n[1]+R*d,n[2]+R*d)}k.addGroup(t,V.length/3-t,0)}(),function(){var t=V.length/3,e=0;a(L,e),e+=L.length;for(var n=0,r=T.length;n<r;n++){var i=T[n];a(i,e),e+=i.length}k.addGroup(t,V.length/3-t,1)}()}P.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:H},t=Array.isArray(t)?t:[t];for(var k=this,V=[],j=[],n=0,r=t.length;n<r;n++)e(t[n]);this.setAttribute("position",new R(V,3)),this.setAttribute("uv",new R(j,2)),this.computeVertexNormals()}function Dn(t,e,n){if(n.shapes=[],Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.shapes.push(t[r].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function Nn(t,e){w.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Bn(t,e)),this.mergeVertices()}function Bn(t,e){var n=(e=e||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new w;t=n.generateShapes(t,e.size),e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),In.call(this,t,e),this.type="TextBufferGeometry"}function zn(t,e,n,r,i,a,o){w.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Gn(t,e,n,r,i,a,o)),this.mergeVertices()}function Gn(t,e,n,r,i,a,o){P.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;for(var s=Math.min(a+o,Math.PI),c=0,l=[],h=new va,u=new va,p=[],d=[],f=[],m=[],g=0;g<=n;g++){var v=[],y=g/n,x=0;0==g&&0==a?x=.5/e:g==n&&s==Math.PI&&(x=-.5/e);for(var b=0;b<=e;b++){var _=b/e;h.x=-t*Math.cos(r+_*i)*Math.sin(a+y*o),h.y=t*Math.cos(a+y*o),h.z=t*Math.sin(r+_*i)*Math.sin(a+y*o),d.push(h.x,h.y,h.z),u.copy(h).normalize(),f.push(u.x,u.y,u.z),m.push(_+x,1-y),v.push(c++)}l.push(v)}for(t=0;t<n;t++)for(r=0;r<e;r++)i=l[t][r+1],o=l[t][r],c=l[t+1][r],h=l[t+1][r+1],(0!==t||0<a)&&p.push(i,o,h),(t!==n-1||s<Math.PI)&&p.push(o,c,h);this.setIndex(p),this.setAttribute("position",new R(d,3)),this.setAttribute("normal",new R(f,3)),this.setAttribute("uv",new R(m,2))}function Un(t,e,n,r,i,a){w.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new Fn(t,e,n,r,i,a)),this.mergeVertices()}function Fn(t,e,n,r,i,a){P.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},t=t||.5,e=e||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o=[],s=[],c=[],l=[],h=t;t=(e-t)/(r=void 0!==r?Math.max(1,r):1);for(var u=new va,p=new sa,d=0;d<=r;d++){for(var f=0;f<=n;f++){var m=i+f/n*a;u.x=h*Math.cos(m),u.y=h*Math.sin(m),s.push(u.x,u.y,u.z),c.push(0,0,1),p.x=(u.x/e+1)/2,p.y=(u.y/e+1)/2,l.push(p.x,p.y)}h+=t}for(e=0;e<r;e++)for(i=e*(n+1),a=0;a<n;a++)t=(h=a+i)+n+1,u=h+n+2,p=h+1,o.push(h,t,p),o.push(t,u,p);this.setIndex(o),this.setAttribute("position",new R(s,3)),this.setAttribute("normal",new R(c,3)),this.setAttribute("uv",new R(l,2))}function Hn(t,e,n,r){w.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new kn(t,e,n,r)),this.mergeVertices()}function kn(t,e,n,r){P.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=oa.clamp(r,0,2*Math.PI);for(var i=[],a=[],o=[],s=1/e,c=new va,l=new sa,h=0;h<=e;h++){var u=n+h*s*r,p=Math.sin(u);u=Math.cos(u);for(var d=0;d<=t.length-1;d++)c.x=t[d].x*p,c.y=t[d].y,c.z=t[d].x*u,a.push(c.x,c.y,c.z),l.x=h/e,l.y=d/(t.length-1),o.push(l.x,l.y)}for(n=0;n<e;n++)for(s=0;s<t.length-1;s++)l=(c=s+n*t.length)+t.length,h=c+t.length+1,p=c+1,i.push(c,l,p),i.push(l,h,p);if(this.setIndex(i),this.setAttribute("position",new R(a,3)),this.setAttribute("uv",new R(o,2)),this.computeVertexNormals(),r===2*Math.PI)for(r=this.attributes.normal.array,i=new va,a=new va,o=new va,e=e*t.length*3,s=n=0;n<t.length;n++,s+=3)i.x=r[s+0],i.y=r[s+1],i.z=r[s+2],a.x=r[e+s+0],a.y=r[e+s+1],a.z=r[e+s+2],o.addVectors(i,a).normalize(),r[s+0]=r[e+s+0]=o.x,r[s+1]=r[e+s+1]=o.y,r[s+2]=r[e+s+2]=o.z}function Vn(t,e){w.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new jn(t,e)),this.mergeVertices()}function jn(t,o){function e(t){var e=c.length/3,n=t.extractPoints(o);t=n.shape;var r=n.holes;!1===Sc.isClockWise(t)&&(t=t.reverse()),n=0;for(var i=r.length;n<i;n++){var a=r[n];!0===Sc.isClockWise(a)&&(r[n]=a.reverse())}for(n=Sc.triangulateShape(t,r),i=0,a=r.length;i<a;i++)t=t.concat(r[i]);for(r=0,i=t.length;r<i;r++)a=t[r],c.push(a.x,a.y,0),l.push(0,0,1),h.push(a.x,a.y);for(t=0,r=n.length;t<r;t++)i=n[t],s.push(i[0]+e,i[1]+e,i[2]+e),u+=3}P.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:o},o=o||12;var s=[],c=[],l=[],h=[],n=0,u=0;if(!1===Array.isArray(t))e(t);else for(var r=0;r<t.length;r++)e(t[r]),this.addGroup(n,u,r),n+=u,u=0;this.setIndex(s),this.setAttribute("position",new R(c,3)),this.setAttribute("normal",new R(l,3)),this.setAttribute("uv",new R(h,2))}function Wn(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,r=t.length;n<r;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}function qn(t,e){P.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e};var n=[];e=Math.cos(oa.DEG2RAD*(void 0!==e?e:1));var r=[0,0],i={},a=["a","b","c"];if(t.isBufferGeometry){var o=new w;o.fromBufferGeometry(t)}else o=t.clone();o.mergeVertices(),o.computeFaceNormals(),t=o.vertices;for(var s=0,c=(o=o.faces).length;s<c;s++)for(var l=o[s],h=0;h<3;h++){var u=l[a[h]],p=l[a[(h+1)%3]];r[0]=Math.min(u,p),r[1]=Math.max(u,p),void 0===i[u=r[0]+","+r[1]]?i[u]={index1:r[0],index2:r[1],face1:s,face2:void 0}:i[u].face2=s}for(u in i)(void 0===(r=i[u]).face2||o[r.face1].normal.dot(o[r.face2].normal)<=e)&&(a=t[r.index1],n.push(a.x,a.y,a.z),a=t[r.index2],n.push(a.x,a.y,a.z));this.setAttribute("position",new R(n,3))}function Xn(t,e,n,r,i,a,o,s){w.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Yn(t,e,n,r,i,a,o,s)),this.mergeVertices()}function Yn(p,d,f,m,g,t,v,y){function e(t){for(var e=S,n=new sa,r=new va,i=0,a=!0===t?p:d,o=!0===t?1:-1,s=1;s<=m;s++)_.push(0,E*o,0),w.push(0,o,0),M.push(.5,.5),S++;s=S;for(var c=0;c<=m;c++){var l=c/m*y+v,h=Math.cos(l);l=Math.sin(l),r.x=a*l,r.y=E*o,r.z=a*h,_.push(r.x,r.y,r.z),w.push(0,o,0),n.x=.5*h+.5,n.y=.5*l*o+.5,M.push(n.x,n.y),S++}for(n=0;n<m;n++)r=e+n,a=s+n,!0===t?b.push(a,a+1,r):b.push(a+1,a,r),i+=3;x.addGroup(A,i,!0===t?1:2),A+=i}P.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:p,radiusBottom:d,height:f,radialSegments:m,heightSegments:g,openEnded:t,thetaStart:v,thetaLength:y};var x=this;p=void 0!==p?p:1,d=void 0!==d?d:1,f=f||1,m=Math.floor(m)||8,g=Math.floor(g)||1,t=void 0!==t&&t,v=void 0!==v?v:0,y=void 0!==y?y:2*Math.PI;var b=[],_=[],w=[],M=[],S=0,T=[],E=f/2,A=0;!function(){for(var t=new va,e=new va,n=0,r=(d-p)/f,i=0;i<=g;i++){for(var a=[],o=i/g,s=o*(d-p)+p,c=0;c<=m;c++){var l=c/m,h=l*y+v,u=Math.sin(h);h=Math.cos(h),e.x=s*u,e.y=-o*f+E,e.z=s*h,_.push(e.x,e.y,e.z),t.set(u,r,h).normalize(),w.push(t.x,t.y,t.z),M.push(l,1-o),a.push(S++)}T.push(a)}for(t=0;t<m;t++)for(e=0;e<g;e++)r=T[e+1][t],i=T[e+1][t+1],a=T[e][t+1],b.push(T[e][t],r,a),b.push(r,i,a),n+=6;x.addGroup(A,n,0),A+=n}(),!1===t&&(0<p&&e(!0),0<d&&e(!1)),this.setIndex(b),this.setAttribute("position",new R(_,3)),this.setAttribute("normal",new R(w,3)),this.setAttribute("uv",new R(M,2))}function Zn(t,e,n,r,i,a,o){Xn.call(this,0,t,e,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function Jn(t,e,n,r,i,a,o){Yn.call(this,0,t,e,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function Qn(t,e,n,r){w.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Kn(t,e,n,r)),this.mergeVertices()}function Kn(t,e,n,r){P.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=[],a=[],o=[],s=[],c=new va,l=new sa;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(var h=0,u=3;h<=e;h++,u+=3){var p=n+h/e*r;c.x=t*Math.cos(p),c.y=t*Math.sin(p),a.push(c.x,c.y,c.z),o.push(0,0,1),l.x=(a[u]/t+1)/2,l.y=(a[u+1]/t+1)/2,s.push(l.x,l.y)}for(t=1;t<=e;t++)i.push(t,t+1,0);this.setIndex(i),this.setAttribute("position",new R(a,3)),this.setAttribute("normal",new R(o,3)),this.setAttribute("uv",new R(s,2))}function $n(t){s.call(this),this.type="ShadowMaterial",this.color=new No(0),this.transparent=!0,this.setValues(t)}function tr(t){O.call(this,t),this.type="RawShaderMaterial"}function er(t){s.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new No(16777215),this.roughness=1,this.metalness=0,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new No(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new sa(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function nr(t){er.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new sa(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function rr(t){s.call(this),this.type="MeshPhongMaterial",this.color=new No(16777215),this.specular=new No(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new No(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new sa(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function ir(t){s.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new No(16777215),this.lightMap=this.gradientMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new No(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new sa(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function ar(t){s.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new sa(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.fog=!1,this.setValues(t)}function or(t){s.call(this),this.type="MeshLambertMaterial",this.color=new No(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new No(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function sr(t){s.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new No(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new sa(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(t)}function cr(t){Ne.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}function lr(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function hr(t,e,n,r){lr.call(this,t,e,n,r),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function ur(t,e,n,r){lr.call(this,t,e,n,r)}function pr(t,e,n,r){lr.call(this,t,e,n,r)}function dr(t,e,n,r){if(void 0===t)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Lc.convertArray(e,this.TimeBufferType),this.values=Lc.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function fr(t,e,n){dr.call(this,t,e,n)}function mr(t,e,n,r){dr.call(this,t,e,n,r)}function gr(t,e,n,r){dr.call(this,t,e,n,r)}function vr(t,e,n,r){lr.call(this,t,e,n,r)}function yr(t,e,n,r){dr.call(this,t,e,n,r)}function xr(t,e,n,r){dr.call(this,t,e,n,r)}function br(t,e,n,r){dr.call(this,t,e,n,r)}function _r(t,e,n,r){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.blendMode=void 0!==r?r:2500,this.uuid=oa.generateUUID(),this.duration<0&&this.resetDuration()}function wr(t){if(void 0===t.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gr;case"vector":case"vector2":case"vector3":case"vector4":return br;case"color":return mr;case"quaternion":return yr;case"bool":case"boolean":return fr;case"string":return xr}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],r=[];Lc.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function Mr(t,e,n){var r=this,i=!1,a=0,o=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===i&&void 0!==r.onStart&&r.onStart(t,a,o),i=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(i=!1,void 0!==r.onLoad)&&r.onLoad()},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){return-1!==(t=c.indexOf(t))&&c.splice(t,2),this},this.getHandler=function(t){for(var e=0,n=c.length;e<n;e+=2){var r=c[e],i=c[e+1];if(r.global&&(r.lastIndex=0),r.test(t))return i}return null}}function Sr(t){this.manager=void 0!==t?t:Pc,this.crossOrigin="anonymous",this.resourcePath=this.path="",this.requestHeader={}}function Tr(t){Sr.call(this,t)}function Er(t){Sr.call(this,t)}function Ar(t){Sr.call(this,t)}function Lr(t){Sr.call(this,t)}function Rr(t){Sr.call(this,t)}function Pr(t){Sr.call(this,t)}function Cr(t){Sr.call(this,t)}function Or(){this.type="Curve",this.arcLengthDivisions=200}function Ir(t,e,n,r,i,a,o,s){Or.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Dr(t,e,n,r,i,a){Ir.call(this,t,e,n,n,r,i,a),this.type="ArcCurve"}function Nr(){var s=0,c=0,l=0,h=0;return{initCatmullRom:function(t,e,n,r,i){l=-3*(s=e)+3*n-2*(c=t=i*(n-t))-(r=i*(r-e)),h=2*e-2*n+t+r},initNonuniformCatmullRom:function(t,e,n,r,i,a,o){l=-3*(s=e)+3*n-2*(c=t=((e-t)/i-(n-t)/(i+a)+(n-e)/a)*a)-(r=((n-e)/a-(r-e)/(a+o)+(r-n)/o)*a),h=2*e-2*n+t+r},calc:function(t){var e=t*t;return s+c*t+l*e+h*e*t}}}function Br(t,e,n,r){Or.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=void 0!==r?r:.5}function zr(t,e,n,r,i){var a=t*t;return(2*n-2*r+(e=.5*(r-e))+(i=.5*(i-n)))*t*a+(-3*n+3*r-2*e-i)*a+e*t+n}function Gr(t,e,n,r){var i=1-t;return i*i*e+2*(1-t)*t*n+t*t*r}function Ur(t,e,n,r,i){var a=1-t,o=1-t;return a*a*a*e+3*o*o*t*n+3*(1-t)*t*t*r+t*t*t*i}function Fr(t,e,n,r){Or.call(this),this.type="CubicBezierCurve",this.v0=t||new sa,this.v1=e||new sa,this.v2=n||new sa,this.v3=r||new sa}function Hr(t,e,n,r){Or.call(this),this.type="CubicBezierCurve3",this.v0=t||new va,this.v1=e||new va,this.v2=n||new va,this.v3=r||new va}function kr(t,e){Or.call(this),this.type="LineCurve",this.v1=t||new sa,this.v2=e||new sa}function Vr(t,e){Or.call(this),this.type="LineCurve3",this.v1=t||new va,this.v2=e||new va}function jr(t,e,n){Or.call(this),this.type="QuadraticBezierCurve",this.v0=t||new sa,this.v1=e||new sa,this.v2=n||new sa}function Wr(t,e,n){Or.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new va,this.v1=e||new va,this.v2=n||new va}function qr(t){Or.call(this),this.type="SplineCurve",this.points=t||[]}function Xr(){Or.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Yr(t){Xr.call(this),this.type="Path",this.currentPoint=new sa,t&&this.setFromPoints(t)}function Zr(t){Yr.call(this,t),this.uuid=oa.generateUUID(),this.type="Shape",this.holes=[]}function Jr(t,e){d.call(this),this.type="Light",this.color=new No(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Qr(t,e,n){Jr.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(d.DefaultUp),this.updateMatrix(),this.groundColor=new No(e)}function Kr(t){this.camera=t,this.normalBias=this.bias=0,this.radius=1,this.mapSize=new sa(512,512),this.mapPass=this.map=null,this.matrix=new ja,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ys,this._frameExtents=new sa(1,1),this._viewportCount=1,this._viewports=[new da(0,0,1,1)]}function $r(){Kr.call(this,new D(50,1,.5,500))}function ti(t,e,n,r,i,a){Jr.call(this,t,e),this.type="SpotLight",this.position.copy(d.DefaultUp),this.updateMatrix(),this.target=new d,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new $r}function ei(){Kr.call(this,new D(90,1,.5,500)),this._frameExtents=new sa(4,2),this._viewportCount=6,this._viewports=[new da(2,1,1,1),new da(0,1,1,1),new da(3,1,1,1),new da(1,1,1,1),new da(3,0,1,1),new da(1,0,1,1)],this._cubeDirections=[new va(1,0,0),new va(-1,0,0),new va(0,0,1),new va(0,0,-1),new va(0,1,0),new va(0,-1,0)],this._cubeUps=[new va(0,1,0),new va(0,1,0),new va(0,1,0),new va(0,1,0),new va(0,0,1),new va(0,0,-1)]}function ni(t,e,n,r){Jr.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new ei}function ri(t,e,n,r,i,a){I.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function ii(){Kr.call(this,new ri(-5,5,5,-5,.5,500))}function ai(t,e){Jr.call(this,t,e),this.type="DirectionalLight",this.position.copy(d.DefaultUp),this.updateMatrix(),this.target=new d,this.shadow=new ii}function oi(t,e){Jr.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function si(t,e,n,r){Jr.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function ci(t,e){Jr.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new zc}function li(t){Sr.call(this,t),this.textures={}}function hi(){P.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function ui(t,e,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),A.call(this,t,e,n),this.meshPerAttribute=r||1}function pi(t){Sr.call(this,t)}function di(t){Sr.call(this,t)}function fi(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Sr.call(this,t),this.options={premultiplyAlpha:"none"}}function mi(){this.type="ShapePath",this.color=new No,this.subPaths=[],this.currentPath=null}function gi(t){this.type="Font",this.data=t}function vi(t){Sr.call(this,t)}function yi(t){Sr.call(this,t)}function xi(t,e,n){ci.call(this,void 0,n),t=(new No).set(t),n=(new No).set(e),e=new va(t.r,t.g,t.b),t=new va(n.r,n.g,n.b);var r=(n=Math.sqrt(Math.PI))*Math.sqrt(.75);this.sh.coefficients[0].copy(e).add(t).multiplyScalar(n),this.sh.coefficients[1].copy(e).sub(t).multiplyScalar(r)}function bi(t,e){ci.call(this,void 0,e),t=(new No).set(t),this.sh.coefficients[0].set(t.r,t.g,t.b).multiplyScalar(2*Math.sqrt(Math.PI))}function _i(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new D,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new D,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function wi(){d.call(this),this.type="AudioListener",this.context=jc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Xc}function Mi(t){d.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.offset=this.loopEnd=this.loopStart=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._progress=this._startedAt=0,this._connected=!1,this.filters=[]}function Si(t){Mi.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Ti(t,e,n){switch(this.binding=t,this.valueSize=n,e){case"quaternion":t=this._slerp,e=this._slerpAdditive;var r=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":e=t=this._select,r=this._setAdditiveIdentityOther,this.buffer=Array(5*n);break;default:t=this._lerp,e=this._lerpAdditive,r=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=t,this._mixBufferRegionAdditive=e,this._setIdentity=r,this._origIndex=3,this._addIndex=4,this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}function Ei(t,e,n){n=n||Ai.parseTrackName(e),this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function Ai(t,e,n){this.path=e,this.parsedPath=n||Ai.parseTrackName(e),this.node=Ai.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Li(){this.uuid=oa.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Ri(t){this._root=t,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function Pi(t,e,n){Te.call(this,t,e),this.meshPerAttribute=n||1}function Ci(t,e,n,r,i){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}function Oi(t,e,n,r){this.ray=new Va(t,e),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new no,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Ii(t,e){return t.distance-e.distance}function Di(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===r){r=0;for(var i=(t=t.children).length;r<i;r++)Di(t[r],e,n,!0)}}function Ni(t){d.call(this),this.material=t,this.render=function(){},this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1,this.uvArray=this.colorArray=this.normalArray=this.positionArray=null,this.count=0}function Bi(t,e){d.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e,t=new P,e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var n=0,r=1;n<32;n++,r++){var i=n/32*Math.PI*2,a=r/32*Math.PI*2;e.push(Math.cos(i),Math.sin(i),1,Math.cos(a),Math.sin(a),1)}t.setAttribute("position",new R(e,3)),e=new Ne({fog:!1,toneMapped:!1}),this.cone=new ze(t,e),this.add(this.cone),this.update()}function zi(t){for(var e=function t(e){var n=[];e&&e.isBone&&n.push(e);for(var r=0;r<e.children.length;r++)n.push.apply(n,t(e.children[r]));return n}(t),n=new P,r=[],i=[],a=new No(0,0,1),o=new No(0,1,0),s=0;s<e.length;s++){var c=e[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.setAttribute("position",new R(r,3)),n.setAttribute("color",new R(i,3)),r=new Ne({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}),ze.call(this,n,r),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Gi(t,e,n){e=new Gn(e,4,2);var r=new c({wireframe:!0,fog:!1,toneMapped:!1});L.call(this,e,r),this.light=t,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Ui(t,e,n){d.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,(t=new tn(e)).rotateY(.5*Math.PI),this.material=new c({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0),e=t.getAttribute("position"),e=new Float32Array(3*e.count),t.setAttribute("color",new A(e,3)),this.add(new L(t,this.material)),this.update()}function Fi(t,e,n,r){t=t||10,e=e||10,n=new No(void 0!==n?n:4473924),r=new No(void 0!==r?r:8947848);var i=e/2,a=t/e,o=t/2;t=[];for(var s=[],c=0,l=0,h=-o;c<=e;c++,h+=a){t.push(-o,0,h,o,0,h),t.push(h,0,-o,h,0,o);var u=c===i?n:r;u.toArray(s,l),l+=3,u.toArray(s,l),l+=3,u.toArray(s,l),l+=3,u.toArray(s,l),l+=3}(e=new P).setAttribute("position",new R(t,3)),e.setAttribute("color",new R(s,3)),n=new Ne({vertexColors:!0,toneMapped:!1}),ze.call(this,e,n),this.type="GridHelper"}function Hi(t,e,n,r,i,a){t=t||10,e=e||16,n=n||8,r=r||64,i=new No(void 0!==i?i:4473924),a=new No(void 0!==a?a:8947848);for(var o=[],s=[],c=0;c<=e;c++){var l=c/e*2*Math.PI,h=Math.sin(l)*t;l=Math.cos(l)*t,o.push(0,0,0),o.push(h,0,l),h=1&c?i:a,s.push(h.r,h.g,h.b),s.push(h.r,h.g,h.b)}for(e=0;e<=n;e++)for(c=1&e?i:a,h=t-t/n*e,l=0;l<r;l++){var u=l/r*2*Math.PI,p=Math.sin(u)*h;u=Math.cos(u)*h,o.push(p,0,u),s.push(c.r,c.g,c.b),u=(l+1)/r*2*Math.PI,p=Math.sin(u)*h,u=Math.cos(u)*h,o.push(p,0,u),s.push(c.r,c.g,c.b)}(t=new P).setAttribute("position",new R(o,3)),t.setAttribute("color",new R(s,3)),o=new Ne({vertexColors:!0,toneMapped:!1}),ze.call(this,t,o),this.type="PolarGridHelper"}function ki(t,e,n){d.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1),(t=new P).setAttribute("position",new R([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3)),e=new Ne({fog:!1,toneMapped:!1}),this.lightPlane=new Be(t,e),this.add(this.lightPlane),(t=new P).setAttribute("position",new R([0,0,0,0,0,1],3)),this.targetLine=new Be(t,e),this.add(this.targetLine),this.update()}function Vi(t){function e(t,e,n){r(t,n),r(e,n)}function r(t,e){a.push(0,0,0),o.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(a.length/3-1)}var n=new P,i=new Ne({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],s={},c=new No(16755200),l=new No(16711680),h=new No(43775),u=new No(16777215),p=new No(3355443);e("n1","n2",c),e("n2","n4",c),e("n4","n3",c),e("n3","n1",c),e("f1","f2",c),e("f2","f4",c),e("f4","f3",c),e("f3","f1",c),e("n1","f1",c),e("n2","f2",c),e("n3","f3",c),e("n4","f4",c),e("p","n1",l),e("p","n2",l),e("p","n3",l),e("p","n4",l),e("u1","u2",h),e("u2","u3",h),e("u3","u1",h),e("c","t",u),e("p","c",p),e("cn1","cn2",p),e("cn3","cn4",p),e("cf1","cf2",p),e("cf3","cf4",p),n.setAttribute("position",new R(a,3)),n.setAttribute("color",new R(o,3)),ze.call(this,n,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function ji(t,e,n,r,i,a,o){if(Pl.set(i,a,o).unproject(r),void 0!==(t=e[t]))for(n=n.getAttribute("position"),e=0,r=t.length;e<r;e++)n.setXYZ(t[e],Pl.x,Pl.y,Pl.z)}function Wi(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new P;i.setIndex(new A(n,1)),i.setAttribute("position",new A(r,3)),ze.call(this,i,new Ne({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function qi(t,e){void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new P;r.setIndex(new A(n,1)),r.setAttribute("position",new R([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),ze.call(this,r,new Ne({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}function Xi(t,e,n){n=void 0!==n?n:16776960;var r=new P;r.setAttribute("position",new R([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),Be.call(this,r,new Ne({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e,(t=new P).setAttribute("position",new R([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),t.computeBoundingSphere(),this.add(new L(t,new c({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}function Yi(t,e,n,r,i,a){d.call(this),this.type="ArrowHelper",void 0===t&&(t=new va(0,0,1)),void 0===e&&(e=new va(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===Il&&((Il=new P).setAttribute("position",new R([0,0,0,0,1,0],3)),(Dl=new Yn(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Be(Il,new Ne({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new L(Dl,new c({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,a)}function Zi(t){void 0===t&&(t=1);var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t];(t=new P).setAttribute("position",new R(e,3)),t.setAttribute("color",new R([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),e=new Ne({vertexColors:!0,toneMapped:!1}),ze.call(this,t,e),this.type="AxesHelper"}function Ji(t){return(t=new E(3*Bl,3*Bl,t)).texture.mapping=306,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Qi(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Ki(){return new tr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new sa(1,1)},inputEncoding:{value:Ul[3e3]},outputEncoding:{value:Ul[3e3]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function $i(){return new tr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Ul[3e3]},outputEncoding:{value:Ul[3e3]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function ta(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Br.call(this,t),this.type="catmullrom",this.closed=!0}function ea(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Br.call(this,t),this.type="catmullrom"}function na(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Br.call(this,t),this.type="catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:0<t?1:+t}),!1=="name"in Function.prototype&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){void 0!==this._listeners&&(void 0!==(t=this._listeners[t])&&(-1!==(e=t.indexOf(e))&&t.splice(e,1)))},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=0,r=(e=e.slice(0)).length;n<r;n++)e[n].call(this,t)}}}});for(var ra=[],ia=0;ia<256;ia++)ra[ia]=(ia<16?"0":"")+ia.toString(16);var aa=1234567,oa={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(ra[255&t]+ra[t>>8&255]+ra[t>>16&255]+ra[t>>24&255]+"-"+ra[255&e]+ra[e>>8&255]+"-"+ra[e>>16&15|64]+ra[e>>24&255]+"-"+ra[63&n|128]+ra[n>>8&255]+"-"+ra[n>>16&255]+ra[n>>24&255]+ra[255&r]+ra[r>>8&255]+ra[r>>16&255]+ra[r>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:n<=t?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(aa=t%2147483647),((aa=16807*aa%2147483647)-1)/2147483646},degToRad:function(t){return t*oa.DEG2RAD},radToDeg:function(t){return t*oa.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2);n=o(n/2);var c=a((e+r)/2),l=o((e+r)/2),h=a((e-r)/2),u=o((e-r)/2);switch(a=a((r-e)/2),e=o((r-e)/2),i){case"XYX":t.set(s*l,n*h,n*u,s*c);break;case"YZY":t.set(n*u,s*l,n*h,s*c);break;case"ZXZ":t.set(n*h,n*u,s*l,s*c);break;case"XZX":t.set(s*l,n*e,n*a,s*c);break;case"YXY":t.set(n*a,s*l,n*e,s*c);break;case"ZYZ":t.set(n*e,n*a,s*l,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}},sa=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e},ca={width:{configurable:!0},height:{configurable:!0}};ca.width.get=function(){return this.x},ca.width.set=function(t){this.x=t},ca.height.get=function(){return this.y},ca.height.set=function(t){this.y=t},sa.prototype.set=function(t,e){return this.x=t,this.y=e,this},sa.prototype.setScalar=function(t){return this.y=this.x=t,this},sa.prototype.setX=function(t){return this.x=t,this},sa.prototype.setY=function(t){return this.y=t,this},sa.prototype.setComponent=function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw Error("index is out of range: "+t)}return this},sa.prototype.getComponent=function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+t)}},sa.prototype.clone=function(){return new this.constructor(this.x,this.y)},sa.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},sa.prototype.add=function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},sa.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},sa.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},sa.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sa.prototype.sub=function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},sa.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},sa.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},sa.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},sa.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},sa.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},sa.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},sa.prototype.applyMatrix3=function(t){var e=this.x,n=this.y;return t=t.elements,this.x=t[0]*e+t[3]*n+t[6],this.y=t[1]*e+t[4]*n+t[7],this},sa.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},sa.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},sa.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},sa.prototype.clampScalar=function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},sa.prototype.clampLength=function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},sa.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},sa.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},sa.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},sa.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},sa.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},sa.prototype.dot=function(t){return this.x*t.x+this.y*t.y},sa.prototype.cross=function(t){return this.x*t.y-this.y*t.x},sa.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},sa.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},sa.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},sa.prototype.normalize=function(){return this.divideScalar(this.length()||1)},sa.prototype.angle=function(){return Math.atan2(-this.y,-this.x)+Math.PI},sa.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},sa.prototype.distanceToSquared=function(t){var e=this.x-t.x;return e*e+(t=this.y-t.y)*t},sa.prototype.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},sa.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},sa.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},sa.prototype.lerpVectors=function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this},sa.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},sa.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},sa.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},sa.prototype.fromBufferAttribute=function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},sa.prototype.rotateAround=function(t,e){var n=Math.cos(e);e=Math.sin(e);var r=this.x-t.x,i=this.y-t.y;return this.x=r*n-i*e+t.x,this.y=r*e+i*n+t.y,this},sa.prototype.random=function(){return this.x=Math.random(),this.y=Math.random(),this},Object.defineProperties(sa.prototype,ca);var la=function(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};la.prototype.set=function(t,e,n,r,i,a,o,s,c){var l=this.elements;return l[0]=t,l[1]=r,l[2]=o,l[3]=e,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=c,this},la.prototype.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},la.prototype.clone=function(){return(new this.constructor).fromArray(this.elements)},la.prototype.copy=function(t){var e=this.elements;return t=t.elements,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],this},la.prototype.extractBasis=function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},la.prototype.setFromMatrix4=function(t){return t=t.elements,this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},la.prototype.multiply=function(t){return this.multiplyMatrices(this,t)},la.prototype.premultiply=function(t){return this.multiplyMatrices(t,this)},la.prototype.multiplyMatrices=function(t,e){var n=t.elements,r=e.elements;e=this.elements,t=n[0];var i=n[3],a=n[6],o=n[1],s=n[4],c=n[7],l=n[2],h=n[5];n=n[8];var u=r[0],p=r[3],d=r[6],f=r[1],m=r[4],g=r[7],v=r[2],y=r[5];return r=r[8],e[0]=t*u+i*f+a*v,e[3]=t*p+i*m+a*y,e[6]=t*d+i*g+a*r,e[1]=o*u+s*f+c*v,e[4]=o*p+s*m+c*y,e[7]=o*d+s*g+c*r,e[2]=l*u+h*f+n*v,e[5]=l*p+h*m+n*y,e[8]=l*d+h*g+n*r,this},la.prototype.multiplyScalar=function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},la.prototype.determinant=function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],c=t[7];return e*a*(t=t[8])-e*o*c-n*i*t+n*o*s+r*i*c-r*a*s},la.prototype.getInverse=function(t,e){void 0!==e&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var n=t.elements;t=this.elements,e=n[0];var r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],c=n[6],l=n[7],h=(n=n[8])*o-s*l,u=s*c-n*a,p=l*a-o*c,d=e*h+r*u+i*p;return 0===d?this.set(0,0,0,0,0,0,0,0,0):(d=1/d,t[0]=h*d,t[1]=(i*l-n*r)*d,t[2]=(s*r-i*o)*d,t[3]=u*d,t[4]=(n*e-i*c)*d,t[5]=(i*a-s*e)*d,t[6]=p*d,t[7]=(r*c-l*e)*d,t[8]=(o*e-r*a)*d,this)},la.prototype.transpose=function(){var t=this.elements,e=t[1];return t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},la.prototype.getNormalMatrix=function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},la.prototype.transposeIntoArray=function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},la.prototype.setUvTransform=function(t,e,n,r,i,a,o){var s=Math.cos(i);i=Math.sin(i),this.set(n*s,n*i,-n*(s*a+i*o)+a+t,-r*i,r*s,-r*(-i*a+s*o)+o+e,0,0,1)},la.prototype.scale=function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},la.prototype.rotate=function(t){var e=Math.cos(t);t=Math.sin(t);var n=this.elements,r=n[0],i=n[3],a=n[6],o=n[1],s=n[4],c=n[7];return n[0]=e*r+t*o,n[3]=e*i+t*s,n[6]=e*a+t*c,n[1]=-t*r+e*o,n[4]=-t*i+e*s,n[7]=-t*a+e*c,this},la.prototype.translate=function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},la.prototype.equals=function(t){var e=this.elements;t=t.elements;for(var n=0;n<9;n++)if(e[n]!==t[n])return!1;return!0},la.prototype.fromArray=function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},la.prototype.toArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t};var ha,ua={getDataURL:function(t){if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;if(!(t instanceof HTMLCanvasElement)){void 0===ha&&(ha=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),ha.width=t.width,ha.height=t.height;var e=ha.getContext("2d");t instanceof ImageData?e.putImageData(t,0,0):e.drawImage(t,0,0,t.width,t.height),t=ha}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},pa=0;p.DEFAULT_IMAGE=void 0,p.DEFAULT_MAPPING=300,p.prototype=Object.assign(Object.create(e.prototype),{constructor:p,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=oa.generateUUID()),!e&&void 0===t.images[r.uuid]){if(Array.isArray(r))for(var i=[],a=0,o=r.length;a<o;a++)i.push(ua.getDataURL(r[a]));else i=ua.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||1<t.x)switch(this.wrapS){case 1e3:t.x-=Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||1<t.y)switch(this.wrapT){case 1e3:t.y-=Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(p.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});var da=function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=n,this.w=r},fa={width:{configurable:!0},height:{configurable:!0}};fa.width.get=function(){return this.z},fa.width.set=function(t){this.z=t},fa.height.get=function(){return this.w},fa.height.set=function(t){this.w=t},da.prototype.set=function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},da.prototype.setScalar=function(t){return this.w=this.z=this.y=this.x=t,this},da.prototype.setX=function(t){return this.x=t,this},da.prototype.setY=function(t){return this.y=t,this},da.prototype.setZ=function(t){return this.z=t,this},da.prototype.setW=function(t){return this.w=t,this},da.prototype.setComponent=function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw Error("index is out of range: "+t)}return this},da.prototype.getComponent=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+t)}},da.prototype.clone=function(){return new this.constructor(this.x,this.y,this.z,this.w)},da.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},da.prototype.add=function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},da.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},da.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},da.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},da.prototype.sub=function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},da.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},da.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},da.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},da.prototype.applyMatrix4=function(t){var e=this.x,n=this.y,r=this.z,i=this.w;return t=t.elements,this.x=t[0]*e+t[4]*n+t[8]*r+t[12]*i,this.y=t[1]*e+t[5]*n+t[9]*r+t[13]*i,this.z=t[2]*e+t[6]*n+t[10]*r+t[14]*i,this.w=t[3]*e+t[7]*n+t[11]*r+t[15]*i,this},da.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},da.prototype.setAxisAngleFromQuaternion=function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.z=this.y=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},da.prototype.setAxisAngleFromRotationMatrix=function(t){var e=(t=t.elements)[0],n=t[4],r=t[8],i=t[1],a=t[5],o=t[9],s=t[2],c=t[6],l=t[10];return Math.abs(n-i)<.01&&Math.abs(r-s)<.01&&Math.abs(o-c)<.01?Math.abs(n+i)<.1&&Math.abs(r+s)<.1&&Math.abs(o+c)<.1&&Math.abs(e+a+l-3)<.1?this.set(1,0,0,0):(t=Math.PI,l=(l+1)/2,n=(n+i)/4,r=(r+s)/4,o=(o+c)/4,(a=(a+1)/2)<(e=(e+1)/2)&&l<e?n=e<.01?(c=0,s=.707106781):(s=n/(c=Math.sqrt(e)),r/c):l<a?n=a<.01?(s=0,c=.707106781):(c=n/(s=Math.sqrt(a)),o/s):l<.01?(s=c=.707106781,n=0):(c=r/(n=Math.sqrt(l)),s=o/n),this.set(c,s,n,t)):(t=Math.sqrt((c-o)*(c-o)+(r-s)*(r-s)+(i-n)*(i-n)),Math.abs(t)<.001&&(t=1),this.x=(c-o)/t,this.y=(r-s)/t,this.z=(i-n)/t,this.w=Math.acos((e+a+l-1)/2)),this},da.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},da.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},da.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},da.prototype.clampScalar=function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this},da.prototype.clampLength=function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},da.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},da.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},da.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},da.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},da.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},da.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},da.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},da.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},da.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},da.prototype.normalize=function(){return this.divideScalar(this.length()||1)},da.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},da.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},da.prototype.lerpVectors=function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this},da.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},da.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},da.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},da.prototype.fromBufferAttribute=function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this},da.prototype.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this},Object.defineProperties(da.prototype,fa),E.prototype=Object.assign(Object.create(e.prototype),{constructor:E,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),n.prototype=Object.assign(Object.create(E.prototype),{constructor:n,isWebGLMultisampleRenderTarget:!0,copy:function(t){return E.prototype.copy.call(this,t),this.samples=t.samples,this}});var ma=function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=n,this._w=r},ga={x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},w:{configurable:!0}};ma.slerp=function(t,e,n,r){return n.copy(t).slerp(e,r)},ma.slerpFlat=function(t,e,n,r,i,a,o){var s=n[r+0],c=n[r+1],l=n[r+2];n=n[r+3],r=i[a+0];var h=i[a+1],u=i[a+2];if(n!==(i=i[a+3])||s!==r||c!==h||l!==u){a=1-o;var p=s*r+c*h+l*u+n*i,d=0<=p?1:-1,f=1-p*p;f>Number.EPSILON&&(f=Math.sqrt(f),p=Math.atan2(f,p*d),a=Math.sin(a*p)/f,o=Math.sin(o*p)/f),s=s*a+r*(d*=o),c=c*a+h*d,l=l*a+u*d,n=n*a+i*d,a===1-o&&(s*=o=1/Math.sqrt(s*s+c*c+l*l+n*n),c*=o,l*=o,n*=o)}t[e]=s,t[e+1]=c,t[e+2]=l,t[e+3]=n},ma.multiplyQuaternionsFlat=function(t,e,n,r,i,a){var o=n[r],s=n[r+1],c=n[r+2];n=n[r+3],r=i[a];var l=i[a+1],h=i[a+2];return i=i[a+3],t[e]=o*i+n*r+s*h-c*l,t[e+1]=s*i+n*l+c*r-o*h,t[e+2]=c*i+n*h+o*l-s*r,t[e+3]=n*i-o*r-s*l-c*h,t},ga.x.get=function(){return this._x},ga.x.set=function(t){this._x=t,this._onChangeCallback()},ga.y.get=function(){return this._y},ga.y.set=function(t){this._y=t,this._onChangeCallback()},ga.z.get=function(){return this._z},ga.z.set=function(t){this._z=t,this._onChangeCallback()},ga.w.get=function(){return this._w},ga.w.set=function(t){this._w=t,this._onChangeCallback()},ma.prototype.set=function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this},ma.prototype.clone=function(){return new this.constructor(this._x,this._y,this._z,this._w)},ma.prototype.copy=function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},ma.prototype.setFromEuler=function(t,e){if(!t||!t.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,r=t._y,i=t._z;t=t._order;var a=Math.cos,o=Math.sin,s=a(n/2),c=a(r/2);switch(a=a(i/2),n=o(n/2),r=o(r/2),i=o(i/2),t){case"XYZ":this._x=n*c*a+s*r*i,this._y=s*r*a-n*c*i,this._z=s*c*i+n*r*a,this._w=s*c*a-n*r*i;break;case"YXZ":this._x=n*c*a+s*r*i,this._y=s*r*a-n*c*i,this._z=s*c*i-n*r*a,this._w=s*c*a+n*r*i;break;case"ZXY":this._x=n*c*a-s*r*i,this._y=s*r*a+n*c*i,this._z=s*c*i+n*r*a,this._w=s*c*a-n*r*i;break;case"ZYX":this._x=n*c*a-s*r*i,this._y=s*r*a+n*c*i,this._z=s*c*i-n*r*a,this._w=s*c*a+n*r*i;break;case"YZX":this._x=n*c*a+s*r*i,this._y=s*r*a+n*c*i,this._z=s*c*i-n*r*a,this._w=s*c*a-n*r*i;break;case"XZY":this._x=n*c*a-s*r*i,this._y=s*r*a-n*c*i,this._z=s*c*i+n*r*a,this._w=s*c*a+n*r*i;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+t)}return!1!==e&&this._onChangeCallback(),this},ma.prototype.setFromAxisAngle=function(t,e){e/=2;var n=Math.sin(e);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(e),this._onChangeCallback(),this},ma.prototype.setFromRotationMatrix=function(t){var e=t.elements,n=e[0];t=e[4];var r=e[8],i=e[1],a=e[5],o=e[9],s=e[2],c=e[6],l=n+a+(e=e[10]);return 0<l?(n=.5/Math.sqrt(l+1),this._w=.25/n,this._x=(c-o)*n,this._y=(r-s)*n,this._z=(i-t)*n):a<n&&e<n?(n=2*Math.sqrt(1+n-a-e),this._w=(c-o)/n,this._x=.25*n,this._y=(t+i)/n,this._z=(r+s)/n):e<a?(n=2*Math.sqrt(1+a-n-e),this._w=(r-s)/n,this._x=(t+i)/n,this._y=.25*n,this._z=(o+c)/n):(n=2*Math.sqrt(1+e-n-a),this._w=(i-t)/n,this._x=(r+s)/n,this._y=(o+c)/n,this._z=.25*n),this._onChangeCallback(),this},ma.prototype.setFromUnitVectors=function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x),this._w=n,this.normalize()},ma.prototype.angleTo=function(t){return 2*Math.acos(Math.abs(oa.clamp(this.dot(t),-1,1)))},ma.prototype.rotateTowards=function(t,e){var n=this.angleTo(t);return 0===n||this.slerp(t,Math.min(1,e/n)),this},ma.prototype.identity=function(){return this.set(0,0,0,1)},ma.prototype.inverse=function(){return this.conjugate()},ma.prototype.conjugate=function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},ma.prototype.dot=function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},ma.prototype.lengthSq=function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},ma.prototype.length=function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},ma.prototype.normalize=function(){var t=this.length();return 0===t?(this._z=this._y=this._x=0,this._w=1):(t=1/t,this._x*=t,this._y*=t,this._z*=t,this._w*=t),this._onChangeCallback(),this},ma.prototype.multiply=function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},ma.prototype.premultiply=function(t){return this.multiplyQuaternions(t,this)},ma.prototype.multiplyQuaternions=function(t,e){var n=t._x,r=t._y,i=t._z;t=t._w;var a=e._x,o=e._y,s=e._z;return e=e._w,this._x=n*e+t*a+r*s-i*o,this._y=r*e+t*o+i*a-n*s,this._z=i*e+t*s+n*o-r*a,this._w=t*e-n*a-r*o-i*s,this._onChangeCallback(),this},ma.prototype.slerp=function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*t._w+n*t._x+r*t._y+i*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),1<=o)return this._w=a,this._x=n,this._y=r,this._z=i,this;if((t=1-o*o)<=Number.EPSILON)return o=1-e,this._w=o*a+e*this._w,this._x=o*n+e*this._x,this._y=o*r+e*this._y,this._z=o*i+e*this._z,this.normalize(),this._onChangeCallback(),this;t=Math.sqrt(t);var s=Math.atan2(t,o);return o=Math.sin((1-e)*s)/t,e=Math.sin(e*s)/t,this._w=a*o+this._w*e,this._x=n*o+this._x*e,this._y=r*o+this._y*e,this._z=i*o+this._z*e,this._onChangeCallback(),this},ma.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},ma.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},ma.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},ma.prototype.fromBufferAttribute=function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this},ma.prototype._onChange=function(t){return this._onChangeCallback=t,this},ma.prototype._onChangeCallback=function(){},Object.defineProperties(ma.prototype,ga);var va=function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=n};va.prototype.set=function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this},va.prototype.setScalar=function(t){return this.z=this.y=this.x=t,this},va.prototype.setX=function(t){return this.x=t,this},va.prototype.setY=function(t){return this.y=t,this},va.prototype.setZ=function(t){return this.z=t,this},va.prototype.setComponent=function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw Error("index is out of range: "+t)}return this},va.prototype.getComponent=function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+t)}},va.prototype.clone=function(){return new this.constructor(this.x,this.y,this.z)},va.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},va.prototype.add=function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},va.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},va.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},va.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},va.prototype.sub=function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},va.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},va.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},va.prototype.multiply=function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},va.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},va.prototype.multiplyVectors=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},va.prototype.applyEuler=function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(xa.setFromEuler(t))},va.prototype.applyAxisAngle=function(t,e){return this.applyQuaternion(xa.setFromAxisAngle(t,e))},va.prototype.applyMatrix3=function(t){var e=this.x,n=this.y,r=this.z;return t=t.elements,this.x=t[0]*e+t[3]*n+t[6]*r,this.y=t[1]*e+t[4]*n+t[7]*r,this.z=t[2]*e+t[5]*n+t[8]*r,this},va.prototype.applyNormalMatrix=function(t){return this.applyMatrix3(t).normalize()},va.prototype.applyMatrix4=function(t){var e=this.x,n=this.y,r=this.z,i=1/((t=t.elements)[3]*e+t[7]*n+t[11]*r+t[15]);return this.x=(t[0]*e+t[4]*n+t[8]*r+t[12])*i,this.y=(t[1]*e+t[5]*n+t[9]*r+t[13])*i,this.z=(t[2]*e+t[6]*n+t[10]*r+t[14])*i,this},va.prototype.applyQuaternion=function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=(t=t.w)*e+a*r-o*n,c=t*n+o*e-i*r,l=t*r+i*n-a*e;return e=-i*e-a*n-o*r,this.x=s*t+e*-i+c*-o-l*-a,this.y=c*t+e*-a+l*-i-s*-o,this.z=l*t+e*-o+s*-a-c*-i,this},va.prototype.project=function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},va.prototype.unproject=function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},va.prototype.transformDirection=function(t){var e=this.x,n=this.y,r=this.z;return t=t.elements,this.x=t[0]*e+t[4]*n+t[8]*r,this.y=t[1]*e+t[5]*n+t[9]*r,this.z=t[2]*e+t[6]*n+t[10]*r,this.normalize()},va.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},va.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},va.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},va.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},va.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},va.prototype.clampScalar=function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},va.prototype.clampLength=function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},va.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},va.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},va.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},va.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},va.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},va.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},va.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},va.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},va.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},va.prototype.normalize=function(){return this.divideScalar(this.length()||1)},va.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},va.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},va.prototype.lerpVectors=function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this},va.prototype.cross=function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},va.prototype.crossVectors=function(t,e){var n=t.x,r=t.y;t=t.z;var i=e.x,a=e.y;return e=e.z,this.x=r*e-t*a,this.y=t*i-n*e,this.z=n*a-r*i,this},va.prototype.projectOnVector=function(t){var e=t.lengthSq();return 0===e?this.set(0,0,0):(e=t.dot(this)/e,this.copy(t).multiplyScalar(e))},va.prototype.projectOnPlane=function(t){return ya.copy(this).projectOnVector(t),this.sub(ya)},va.prototype.reflect=function(t){return this.sub(ya.copy(t).multiplyScalar(2*this.dot(t)))},va.prototype.angleTo=function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===e?Math.PI/2:(t=this.dot(t)/e,Math.acos(oa.clamp(t,-1,1)))},va.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},va.prototype.distanceToSquared=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n+(t=this.z-t.z)*t},va.prototype.manhattanDistanceTo=function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},va.prototype.setFromSpherical=function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},va.prototype.setFromSphericalCoords=function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this},va.prototype.setFromCylindrical=function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},va.prototype.setFromCylindricalCoords=function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},va.prototype.setFromMatrixPosition=function(t){return t=t.elements,this.x=t[12],this.y=t[13],this.z=t[14],this},va.prototype.setFromMatrixScale=function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length();return t=this.setFromMatrixColumn(t,2).length(),this.x=e,this.y=n,this.z=t,this},va.prototype.setFromMatrixColumn=function(t,e){return this.fromArray(t.elements,4*e)},va.prototype.setFromMatrix3Column=function(t,e){return this.fromArray(t.elements,3*e)},va.prototype.equals=function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},va.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},va.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},va.prototype.fromBufferAttribute=function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this},va.prototype.random=function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this};var ya=new va,xa=new ma,ba=function(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new va(1/0,1/0,1/0),this.max=void 0!==e?e:new va(-1/0,-1/0,-1/0)};ba.prototype.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},ba.prototype.setFromArray=function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,c=t.length;s<c;s+=3){var l=t[s],h=t[s+1],u=t[s+2];l<e&&(e=l),h<n&&(n=h),u<r&&(r=u),i<l&&(i=l),a<h&&(a=h),o<u&&(o=u)}return this.min.set(e,n,r),this.max.set(i,a,o),this},ba.prototype.setFromBufferAttribute=function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,c=t.count;s<c;s++){var l=t.getX(s),h=t.getY(s),u=t.getZ(s);l<e&&(e=l),h<n&&(n=h),u<r&&(r=u),i<l&&(i=l),a<h&&(a=h),o<u&&(o=u)}return this.min.set(e,n,r),this.max.set(i,a,o),this},ba.prototype.setFromPoints=function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},ba.prototype.setFromCenterAndSize=function(t,e){return e=wa.copy(e).multiplyScalar(.5),this.min.copy(t).sub(e),this.max.copy(t).add(e),this},ba.prototype.setFromObject=function(t){return this.makeEmpty(),this.expandByObject(t)},ba.prototype.clone=function(){return(new this.constructor).copy(this)},ba.prototype.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},ba.prototype.makeEmpty=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},ba.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},ba.prototype.getCenter=function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new va),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},ba.prototype.getSize=function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new va),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},ba.prototype.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},ba.prototype.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},ba.prototype.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},ba.prototype.expandByObject=function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),Ma.copy(e.boundingBox),Ma.applyMatrix4(t.matrixWorld),this.union(Ma)),e=0;for(var n=(t=t.children).length;e<n;e++)this.expandByObject(t[e]);return this},ba.prototype.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},ba.prototype.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},ba.prototype.getParameter=function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new va),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},ba.prototype.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},ba.prototype.intersectsSphere=function(t){return this.clampPoint(t.center,wa),wa.distanceToSquared(t.center)<=t.radius*t.radius},ba.prototype.intersectsPlane=function(t){if(0<t.normal.x)var e=t.normal.x*this.min.x,n=t.normal.x*this.max.x;else e=t.normal.x*this.max.x,n=t.normal.x*this.min.x;return 0<t.normal.y?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),0<t.normal.z?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},ba.prototype.intersectsTriangle=function(t){return!this.isEmpty()&&(this.getCenter(Pa),Ca.subVectors(this.max,Pa),Sa.subVectors(t.a,Pa),Ta.subVectors(t.b,Pa),Ea.subVectors(t.c,Pa),Aa.subVectors(Ta,Sa),La.subVectors(Ea,Ta),Ra.subVectors(Sa,Ea),!!r(t=[0,-Aa.z,Aa.y,0,-La.z,La.y,0,-Ra.z,Ra.y,Aa.z,0,-Aa.x,La.z,0,-La.x,Ra.z,0,-Ra.x,-Aa.y,Aa.x,0,-La.y,La.x,0,-Ra.y,Ra.x,0],Sa,Ta,Ea,Ca)&&(!!r(t=[1,0,0,0,1,0,0,0,1],Sa,Ta,Ea,Ca)&&(Oa.crossVectors(Aa,La),r(t=[Oa.x,Oa.y,Oa.z],Sa,Ta,Ea,Ca))))},ba.prototype.clampPoint=function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new va),e.copy(t).clamp(this.min,this.max)},ba.prototype.distanceToPoint=function(t){return wa.copy(t).clamp(this.min,this.max).sub(t).length()},ba.prototype.getBoundingSphere=function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(wa).length(),t},ba.prototype.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},ba.prototype.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},ba.prototype.applyMatrix4=function(t){return this.isEmpty()||(_a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),_a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),_a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),_a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),_a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),_a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),_a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),_a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(_a)),this},ba.prototype.translate=function(t){return this.min.add(t),this.max.add(t),this},ba.prototype.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)};var _a=[new va,new va,new va,new va,new va,new va,new va,new va],wa=new va,Ma=new ba,Sa=new va,Ta=new va,Ea=new va,Aa=new va,La=new va,Ra=new va,Pa=new va,Ca=new va,Oa=new va,Ia=new va,Da=new ba,Na=function(t,e){this.center=void 0!==t?t:new va,this.radius=void 0!==e?e:-1};Na.prototype.set=function(t,e){return this.center.copy(t),this.radius=e,this},Na.prototype.setFromPoints=function(t,e){var n=this.center;void 0!==e?n.copy(e):Da.setFromPoints(t).getCenter(n);for(var r=e=0,i=t.length;r<i;r++)e=Math.max(e,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(e),this},Na.prototype.clone=function(){return(new this.constructor).copy(this)},Na.prototype.copy=function(t){return this.center.copy(t.center),this.radius=t.radius,this},Na.prototype.isEmpty=function(){return this.radius<0},Na.prototype.makeEmpty=function(){return this.center.set(0,0,0),this.radius=-1,this},Na.prototype.containsPoint=function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},Na.prototype.distanceToPoint=function(t){return t.distanceTo(this.center)-this.radius},Na.prototype.intersectsSphere=function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},Na.prototype.intersectsBox=function(t){return t.intersectsSphere(this)},Na.prototype.intersectsPlane=function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},Na.prototype.clampPoint=function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new va),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},Na.prototype.getBoundingBox=function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new ba),this.isEmpty()?t.makeEmpty():(t.set(this.center,this.center),t.expandByScalar(this.radius)),t},Na.prototype.applyMatrix4=function(t){return this.center.applyMatrix4(t),this.radius*=t.getMaxScaleOnAxis(),this},Na.prototype.translate=function(t){return this.center.add(t),this},Na.prototype.equals=function(t){return t.center.equals(this.center)&&t.radius===this.radius};var Ba=new va,za=new va,Ga=new va,Ua=new va,Fa=new va,Ha=new va,ka=new va,Va=function(t,e){this.origin=void 0!==t?t:new va,this.direction=void 0!==e?e:new va(0,0,-1)};Va.prototype.set=function(t,e){return this.origin.copy(t),this.direction.copy(e),this},Va.prototype.clone=function(){return(new this.constructor).copy(this)},Va.prototype.copy=function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},Va.prototype.at=function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new va),e.copy(this.direction).multiplyScalar(t).add(this.origin)},Va.prototype.lookAt=function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},Va.prototype.recast=function(t){return this.origin.copy(this.at(t,Ba)),this},Va.prototype.closestPointToPoint=function(t,e){return void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new va),e.subVectors(t,this.origin),(t=e.dot(this.direction))<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(t).add(this.origin)},Va.prototype.distanceToPoint=function(t){return Math.sqrt(this.distanceSqToPoint(t))},Va.prototype.distanceSqToPoint=function(t){var e=Ba.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ba.copy(this.direction).multiplyScalar(e).add(this.origin),Ba.distanceToSquared(t))},Va.prototype.distanceSqToSegment=function(t,e,n,r){za.copy(t).add(e).multiplyScalar(.5),Ga.copy(e).sub(t).normalize(),Ua.copy(this.origin).sub(za);var i=.5*t.distanceTo(e),a=-this.direction.dot(Ga),o=Ua.dot(this.direction),s=-Ua.dot(Ga),c=Ua.lengthSq(),l=Math.abs(1-a*a);if(0<l){e=a*o-s;var h=i*l;a=0<=(t=a*s-o)?-h<=e?e<=h?(t*=i=1/l)*(t+a*(e*=i)+2*o)+e*(a*t+e+2*s)+c:(e=i,-(t=Math.max(0,-(a*e+o)))*t+e*(e+2*s)+c):(e=-i,-(t=Math.max(0,-(a*e+o)))*t+e*(e+2*s)+c):e<=-h?-(t=Math.max(0,-(-a*i+o)))*t+(e=0<t?-i:Math.min(Math.max(-i,-s),i))*(e+2*s)+c:e<=h?(t=0,(e=Math.min(Math.max(-i,-s),i))*(e+2*s)+c):-(t=Math.max(0,-(a*i+o)))*t+(e=0<t?i:Math.min(Math.max(-i,-s),i))*(e+2*s)+c}else e=0<a?-i:i,a=-(t=Math.max(0,-(a*e+o)))*t+e*(e+2*s)+c;return n&&n.copy(this.direction).multiplyScalar(t).add(this.origin),r&&r.copy(Ga).multiplyScalar(e).add(za),a},Va.prototype.intersectSphere=function(t,e){Ba.subVectors(t.center,this.origin);var n=Ba.dot(this.direction),r=Ba.dot(Ba)-n*n;return(t=t.radius*t.radius)<r?null:(r=n-(t=Math.sqrt(t-r)),n+=t,r<0&&n<0?null:r<0?this.at(n,e):this.at(r,e))},Va.prototype.intersectsSphere=function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},Va.prototype.distanceToPlane=function(t){var e=t.normal.dot(this.direction);return 0===e?0===t.distanceToPoint(this.origin)?0:null:0<=(t=-(this.origin.dot(t.normal)+t.constant)/e)?t:null},Va.prototype.intersectPlane=function(t,e){return null===(t=this.distanceToPlane(t))?null:this.at(t,e)},Va.prototype.intersectsPlane=function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},Va.prototype.intersectBox=function(t,e){var n=1/this.direction.x,r=1/this.direction.y,i=1/this.direction.z,a=this.origin;if(0<=n){var o=(t.min.x-a.x)*n;n*=t.max.x-a.x}else o=(t.max.x-a.x)*n,n*=t.min.x-a.x;if(0<=r){var s=(t.min.y-a.y)*r;r*=t.max.y-a.y}else s=(t.max.y-a.y)*r,r*=t.min.y-a.y;return r<o||n<s?null:((o<s||o!=o)&&(o=s),(r<n||n!=n)&&(n=r),(t=0<=i?(s=(t.min.z-a.z)*i,(t.max.z-a.z)*i):(s=(t.max.z-a.z)*i,(t.min.z-a.z)*i))<o||n<s?null:((o<s||o!=o)&&(o=s),(t<n||n!=n)&&(n=t),n<0?null:this.at(0<=o?o:n,e)))},Va.prototype.intersectsBox=function(t){return null!==this.intersectBox(t,Ba)},Va.prototype.intersectTriangle=function(t,e,n,r,i){if(Fa.subVectors(e,t),Ha.subVectors(n,t),ka.crossVectors(Fa,Ha),0<(e=this.direction.dot(ka))){if(r)return null;r=1}else{if(!(e<0))return null;r=-1,e=-e}return Ua.subVectors(this.origin,t),(t=r*this.direction.dot(Ha.crossVectors(Ua,Ha)))<0?null:(n=r*this.direction.dot(Fa.cross(Ua)))<0||e<t+n?null:(t=-r*Ua.dot(ka))<0?null:this.at(t/e,i)},Va.prototype.applyMatrix4=function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},Va.prototype.equals=function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)};var ja=function(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};ja.prototype.set=function(t,e,n,r,i,a,o,s,c,l,h,u,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=c,g[6]=l,g[10]=h,g[14]=u,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},ja.prototype.identity=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},ja.prototype.clone=function(){return(new ja).fromArray(this.elements)},ja.prototype.copy=function(t){var e=this.elements;return t=t.elements,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],this},ja.prototype.copyPosition=function(t){var e=this.elements;return t=t.elements,e[12]=t[12],e[13]=t[13],e[14]=t[14],this},ja.prototype.extractBasis=function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},ja.prototype.makeBasis=function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},ja.prototype.extractRotation=function(t){var e=this.elements,n=t.elements,r=1/Wa.setFromMatrixColumn(t,0).length(),i=1/Wa.setFromMatrixColumn(t,1).length();return t=1/Wa.setFromMatrixColumn(t,2).length(),e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*t,e[9]=n[9]*t,e[10]=n[10]*t,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},ja.prototype.makeRotationFromEuler=function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n);n=Math.sin(n);var o=Math.cos(r);r=Math.sin(r);var s=Math.cos(i);if(i=Math.sin(i),"XYZ"===t.order){t=a*s;var c=a*i,l=n*s,h=n*i;e[0]=o*s,e[4]=-o*i,e[8]=r,e[1]=c+l*r,e[5]=t-h*r,e[9]=-n*o,e[2]=h-t*r,e[6]=l+c*r,e[10]=a*o}else"YXZ"===t.order?(t=o*s,c=o*i,l=r*s,h=r*i,e[0]=t+h*n,e[4]=l*n-c,e[8]=a*r,e[1]=a*i,e[5]=a*s,e[9]=-n,e[2]=c*n-l,e[6]=h+t*n,e[10]=a*o):"ZXY"===t.order?(t=o*s,c=o*i,l=r*s,h=r*i,e[0]=t-h*n,e[4]=-a*i,e[8]=l+c*n,e[1]=c+l*n,e[5]=a*s,e[9]=h-t*n,e[2]=-a*r,e[6]=n,e[10]=a*o):"ZYX"===t.order?(t=a*s,c=a*i,l=n*s,h=n*i,e[0]=o*s,e[4]=l*r-c,e[8]=t*r+h,e[1]=o*i,e[5]=h*r+t,e[9]=c*r-l,e[2]=-r,e[6]=n*o,e[10]=a*o):"YZX"===t.order?(t=a*o,c=a*r,l=n*o,h=n*r,e[0]=o*s,e[4]=h-t*i,e[8]=l*i+c,e[1]=i,e[5]=a*s,e[9]=-n*s,e[2]=-r*s,e[6]=c*i+l,e[10]=t-h*i):"XZY"===t.order&&(t=a*o,c=a*r,l=n*o,h=n*r,e[0]=o*s,e[4]=-i,e[8]=r*s,e[1]=t*i+h,e[5]=a*s,e[9]=c*i-l,e[2]=l*i-c,e[6]=n*s,e[10]=h*i+t);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},ja.prototype.makeRotationFromQuaternion=function(t){return this.compose(Xa,t,Ya)},ja.prototype.lookAt=function(t,e,n){var r=this.elements;return Qa.subVectors(t,e),0===Qa.lengthSq()&&(Qa.z=1),Qa.normalize(),Za.crossVectors(n,Qa),0===Za.lengthSq()&&(1===Math.abs(n.z)?Qa.x+=1e-4:Qa.z+=1e-4,Qa.normalize(),Za.crossVectors(n,Qa)),Za.normalize(),Ja.crossVectors(Qa,Za),r[0]=Za.x,r[4]=Ja.x,r[8]=Qa.x,r[1]=Za.y,r[5]=Ja.y,r[9]=Qa.y,r[2]=Za.z,r[6]=Ja.z,r[10]=Qa.z,this},ja.prototype.multiply=function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},ja.prototype.premultiply=function(t){return this.multiplyMatrices(t,this)},ja.prototype.multiplyMatrices=function(t,e){var n=t.elements,r=e.elements;e=this.elements,t=n[0];var i=n[4],a=n[8],o=n[12],s=n[1],c=n[5],l=n[9],h=n[13],u=n[2],p=n[6],d=n[10],f=n[14],m=n[3],g=n[7],v=n[11];n=n[15];var y=r[0],x=r[4],b=r[8],_=r[12],w=r[1],M=r[5],S=r[9],T=r[13],E=r[2],A=r[6],L=r[10],R=r[14],P=r[3],C=r[7],O=r[11];return r=r[15],e[0]=t*y+i*w+a*E+o*P,e[4]=t*x+i*M+a*A+o*C,e[8]=t*b+i*S+a*L+o*O,e[12]=t*_+i*T+a*R+o*r,e[1]=s*y+c*w+l*E+h*P,e[5]=s*x+c*M+l*A+h*C,e[9]=s*b+c*S+l*L+h*O,e[13]=s*_+c*T+l*R+h*r,e[2]=u*y+p*w+d*E+f*P,e[6]=u*x+p*M+d*A+f*C,e[10]=u*b+p*S+d*L+f*O,e[14]=u*_+p*T+d*R+f*r,e[3]=m*y+g*w+v*E+n*P,e[7]=m*x+g*M+v*A+n*C,e[11]=m*b+g*S+v*L+n*O,e[15]=m*_+g*T+v*R+n*r,this},ja.prototype.multiplyScalar=function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},ja.prototype.determinant=function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],o=t[5],s=t[9],c=t[13],l=t[2],h=t[6],u=t[10],p=t[14];return t[3]*(+i*s*h-r*c*h-i*o*u+n*c*u+r*o*p-n*s*p)+t[7]*(+e*s*p-e*c*u+i*a*u-r*a*p+r*c*l-i*s*l)+t[11]*(+e*c*h-e*o*p-i*a*h+n*a*p+i*o*l-n*c*l)+t[15]*(-r*o*l-e*s*h+e*o*u+r*a*h-n*a*u+n*s*l)},ja.prototype.transpose=function(){var t=this.elements,e=t[1];return t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},ja.prototype.setPosition=function(t,e,n){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this},ja.prototype.getInverse=function(t,e){void 0!==e&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate."),e=this.elements;var n=t.elements;t=n[0];var r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],c=n[6],l=n[7],h=n[8],u=n[9],p=n[10],d=n[11],f=n[12],m=n[13],g=n[14],v=u*g*l-m*p*l+m*c*d-s*g*d-u*c*(n=n[15])+s*p*n,y=f*p*l-h*g*l-f*c*d+o*g*d+h*c*n-o*p*n,x=h*m*l-f*u*l+f*s*d-o*m*d-h*s*n+o*u*n,b=f*u*c-h*m*c-f*s*p+o*m*p+h*s*g-o*u*g,_=t*v+r*y+i*x+a*b;return 0===_?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(_=1/_,e[0]=v*_,e[1]=(m*p*a-u*g*a-m*i*d+r*g*d+u*i*n-r*p*n)*_,e[2]=(s*g*a-m*c*a+m*i*l-r*g*l-s*i*n+r*c*n)*_,e[3]=(u*c*a-s*p*a-u*i*l+r*p*l+s*i*d-r*c*d)*_,e[4]=y*_,e[5]=(h*g*a-f*p*a+f*i*d-t*g*d-h*i*n+t*p*n)*_,e[6]=(f*c*a-o*g*a-f*i*l+t*g*l+o*i*n-t*c*n)*_,e[7]=(o*p*a-h*c*a+h*i*l-t*p*l-o*i*d+t*c*d)*_,e[8]=x*_,e[9]=(f*u*a-h*m*a-f*r*d+t*m*d+h*r*n-t*u*n)*_,e[10]=(o*m*a-f*s*a+f*r*l-t*m*l-o*r*n+t*s*n)*_,e[11]=(h*s*a-o*u*a-h*r*l+t*u*l+o*r*d-t*s*d)*_,e[12]=b*_,e[13]=(h*m*i-f*u*i+f*r*p-t*m*p-h*r*g+t*u*g)*_,e[14]=(f*s*i-o*m*i-f*r*c+t*m*c+o*r*g-t*s*g)*_,e[15]=(o*u*i-h*s*i+h*r*c-t*u*c-o*r*p+t*s*p)*_,this)},ja.prototype.scale=function(t){var e=this.elements,n=t.x,r=t.y;return t=t.z,e[0]*=n,e[4]*=r,e[8]*=t,e[1]*=n,e[5]*=r,e[9]*=t,e[2]*=n,e[6]*=r,e[10]*=t,e[3]*=n,e[7]*=r,e[11]*=t,this},ja.prototype.getMaxScaleOnAxis=function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))},ja.prototype.makeTranslation=function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},ja.prototype.makeRotationX=function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1),this},ja.prototype.makeRotationY=function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1),this},ja.prototype.makeRotationZ=function(t){var e=Math.cos(t);return t=Math.sin(t),this.set(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1),this},ja.prototype.makeRotationAxis=function(t,e){var n=Math.cos(e);e=Math.sin(e);var r=1-n,i=t.x,a=t.y;t=t.z;var o=r*i,s=r*a;return this.set(o*i+n,o*a-e*t,o*t+e*a,0,o*a+e*t,s*a+n,s*t-e*i,0,o*t-e*a,s*t+e*i,r*t*t+n,0,0,0,0,1),this},ja.prototype.makeScale=function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},ja.prototype.makeShear=function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},ja.prototype.compose=function(t,e,n){var r=this.elements,i=e._x,a=e._y,o=e._z,s=e._w,c=i+i,l=a+a,h=o+o;e=i*c;var u=i*l;i*=h;var p=a*l;a*=h,o*=h,c*=s,l*=s,s*=h,h=n.x;var d=n.y;return n=n.z,r[0]=(1-(p+o))*h,r[1]=(u+s)*h,r[2]=(i-l)*h,r[3]=0,r[4]=(u-s)*d,r[5]=(1-(e+o))*d,r[6]=(a+c)*d,r[7]=0,r[8]=(i+l)*n,r[9]=(a-c)*n,r[10]=(1-(e+p))*n,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},ja.prototype.decompose=function(t,e,n){var r=this.elements,i=Wa.set(r[0],r[1],r[2]).length(),a=Wa.set(r[4],r[5],r[6]).length(),o=Wa.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],qa.copy(this),t=1/i,r=1/a;var s=1/o;return qa.elements[0]*=t,qa.elements[1]*=t,qa.elements[2]*=t,qa.elements[4]*=r,qa.elements[5]*=r,qa.elements[6]*=r,qa.elements[8]*=s,qa.elements[9]*=s,qa.elements[10]*=s,e.setFromRotationMatrix(qa),n.x=i,n.y=a,n.z=o,this},ja.prototype.makePerspective=function(t,e,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements;return o[0]=2*i/(e-t),o[4]=0,o[8]=(e+t)/(e-t),o[12]=0,o[1]=0,o[5]=2*i/(n-r),o[9]=(n+r)/(n-r),o[13]=0,o[2]=0,o[6]=0,o[10]=-(a+i)/(a-i),o[14]=-2*a*i/(a-i),o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},ja.prototype.makeOrthographic=function(t,e,n,r,i,a){var o=this.elements,s=1/(e-t),c=1/(n-r),l=1/(a-i);return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-(e+t)*s,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-(n+r)*c,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-(a+i)*l,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},ja.prototype.equals=function(t){var e=this.elements;t=t.elements;for(var n=0;n<16;n++)if(e[n]!==t[n])return!1;return!0},ja.prototype.fromArray=function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},ja.prototype.toArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t};var Wa=new va,qa=new ja,Xa=new va(0,0,0),Ya=new va(1,1,1),Za=new va,Ja=new va,Qa=new va,Ka=function t(e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=t.DefaultOrder),Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=n,this._z=r,this._order=i},$a={x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},order:{configurable:!0}};$a.x.get=function(){return this._x},$a.x.set=function(t){this._x=t,this._onChangeCallback()},$a.y.get=function(){return this._y},$a.y.set=function(t){this._y=t,this._onChangeCallback()},$a.z.get=function(){return this._z},$a.z.set=function(t){this._z=t,this._onChangeCallback()},$a.order.get=function(){return this._order},$a.order.set=function(t){this._order=t,this._onChangeCallback()},Ka.prototype.set=function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},Ka.prototype.clone=function(){return new this.constructor(this._x,this._y,this._z,this._order)},Ka.prototype.copy=function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},Ka.prototype.setFromRotationMatrix=function(t,e,n){var r=oa.clamp,i=t.elements;t=i[0];var a=i[4],o=i[8],s=i[1],c=i[5],l=i[9],h=i[2],u=i[6];switch(i=i[10],e=e||this._order){case"XYZ":this._y=Math.asin(r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,i),this._z=Math.atan2(-a,t)):(this._x=Math.atan2(u,c),this._z=0);break;case"YXZ":this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,i),this._z=Math.atan2(s,c)):(this._y=Math.atan2(-h,t),this._z=0);break;case"ZXY":this._x=Math.asin(r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-h,i),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(s,t));break;case"ZYX":this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(u,i),this._z=Math.atan2(s,t)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,t)):(this._x=0,this._y=Math.atan2(o,i));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(u,c),this._y=Math.atan2(o,t)):(this._x=Math.atan2(-l,i),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this},Ka.prototype.setFromQuaternion=function(t,e,n){return to.makeRotationFromQuaternion(t),this.setFromRotationMatrix(to,e,n)},Ka.prototype.setFromVector3=function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},Ka.prototype.reorder=function(t){return eo.setFromEuler(this),this.setFromQuaternion(eo,t)},Ka.prototype.equals=function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},Ka.prototype.fromArray=function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},Ka.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},Ka.prototype.toVector3=function(t){return t?t.set(this._x,this._y,this._z):new va(this._x,this._y,this._z)},Ka.prototype._onChange=function(t){return this._onChangeCallback=t,this},Ka.prototype._onChangeCallback=function(){},Object.defineProperties(Ka.prototype,$a),Ka.DefaultOrder="XYZ",Ka.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");var to=new ja,eo=new ma,no=function(){this.mask=1};no.prototype.set=function(t){this.mask=1<<t|0},no.prototype.enable=function(t){this.mask=this.mask|1<<t|0},no.prototype.enableAll=function(){this.mask=-1},no.prototype.toggle=function(t){this.mask^=1<<t|0},no.prototype.disable=function(t){this.mask&=~(1<<t|0)},no.prototype.disableAll=function(){this.mask=0},no.prototype.test=function(t){return 0!=(this.mask&t.mask)};var ro=0,io=new va,ao=new ma,oo=new ja,so=new va,co=new va,lo=new va,ho=new ma,uo=new va(1,0,0),po=new va(0,1,0),fo=new va(0,0,1),mo={type:"added"},go={type:"removed"};d.DefaultUp=new va(0,1,0),d.DefaultMatrixAutoUpdate=!0,d.prototype=Object.assign(Object.create(e.prototype),{constructor:d,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return ao.setFromAxisAngle(t,e),this.quaternion.multiply(ao),this},rotateOnWorldAxis:function(t,e){return ao.setFromAxisAngle(t,e),this.quaternion.premultiply(ao),this},rotateX:function(t){return this.rotateOnAxis(uo,t)},rotateY:function(t){return this.rotateOnAxis(po,t)},rotateZ:function(t){return this.rotateOnAxis(fo,t)},translateOnAxis:function(t,e){return io.copy(t).applyQuaternion(this.quaternion),this.position.add(io.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(uo,t)},translateY:function(t){return this.translateOnAxis(po,t)},translateZ:function(t){return this.translateOnAxis(fo,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(oo.getInverse(this.matrixWorld))},lookAt:function(t,e,n){t.isVector3?so.copy(t):so.set(t,e,n),t=this.parent,this.updateWorldMatrix(!0,!1),co.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?oo.lookAt(co,so,this.up):oo.lookAt(so,co,this.up),this.quaternion.setFromRotationMatrix(oo),t&&(oo.extractRotation(t.matrixWorld),ao.setFromRotationMatrix(oo),this.quaternion.premultiply(ao.inverse()))},add:function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",t):t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),(t.parent=this).children.push(t),t.dispatchEvent(mo)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this},remove:function(t){if(1<arguments.length){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}return-1!==(e=this.children.indexOf(t))&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(go)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),oo.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),oo.multiply(t.parent.matrixWorld)),t.applyMatrix4(oo),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new va),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new ma),this.updateMatrixWorld(!0),this.matrixWorld.decompose(co,t,lo),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new va),this.updateMatrixWorld(!0),this.matrixWorld.decompose(co,ho,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new va),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t=!(this.matrixWorldNeedsUpdate=!1));for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(e=0,n=(t=this.children).length;e<n;e++)t[e].updateWorldMatrix(!1,!0)},toJSON:function(n){function t(t,e){return void 0===t[e.uuid]&&(t[e.uuid]=e.toJSON(n)),e.uuid}function e(t){var e,n=[];for(e in t){var r=t[e];delete r.metadata,n.push(r)}return n}var r=void 0===n||"string"==typeof n,i={};r&&(n={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var a={};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),!1===this.frustumCulled&&(a.frustumCulled=!1),0!==this.renderOrder&&(a.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){a.geometry=t(n.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes)if(o=o.shapes,Array.isArray(o))for(var s=0,c=o.length;s<c;s++)t(n.shapes,o[s]);else t(n.shapes,o)}if(void 0!==this.material)if(Array.isArray(this.material)){for(o=[],s=0,c=this.material.length;s<c;s++)o.push(t(n.materials,this.material[s]));a.material=o}else a.material=t(n.materials,this.material);if(0<this.children.length)for(a.children=[],o=0;o<this.children.length;o++)a.children.push(this.children[o].toJSON(n).object);if(r){r=e(n.geometries),o=e(n.materials),s=e(n.textures),c=e(n.images);var l=e(n.shapes);0<r.length&&(i.geometries=r),0<o.length&&(i.materials=o),0<s.length&&(i.textures=s),0<c.length&&(i.images=c),0<l.length&&(i.shapes=l)}return i.object=a,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(e=0;e<t.children.length;e++)this.add(t.children[e].clone());return this}});var vo=new va,yo=new va,xo=new la,bo=function(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new va(1,0,0),this.constant=void 0!==e?e:0};bo.prototype.set=function(t,e){return this.normal.copy(t),this.constant=e,this},bo.prototype.setComponents=function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},bo.prototype.setFromNormalAndCoplanarPoint=function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},bo.prototype.setFromCoplanarPoints=function(t,e,n){return e=vo.subVectors(n,e).cross(yo.subVectors(t,e)).normalize(),this.setFromNormalAndCoplanarPoint(e,t),this},bo.prototype.clone=function(){return(new this.constructor).copy(this)},bo.prototype.copy=function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},bo.prototype.normalize=function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},bo.prototype.negate=function(){return this.constant*=-1,this.normal.negate(),this},bo.prototype.distanceToPoint=function(t){return this.normal.dot(t)+this.constant},bo.prototype.distanceToSphere=function(t){return this.distanceToPoint(t.center)-t.radius},bo.prototype.projectPoint=function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new va),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},bo.prototype.intersectLine=function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new va);var n=t.delta(vo),r=this.normal.dot(n);if(0===r){if(0===this.distanceToPoint(t.start))return e.copy(t.start)}else if(!((r=-(t.start.dot(this.normal)+this.constant)/r)<0||1<r))return e.copy(n).multiplyScalar(r).add(t.start)},bo.prototype.intersectsLine=function(t){var e=this.distanceToPoint(t.start);return t=this.distanceToPoint(t.end),e<0&&0<t||t<0&&0<e},bo.prototype.intersectsBox=function(t){return t.intersectsPlane(this)},bo.prototype.intersectsSphere=function(t){return t.intersectsPlane(this)},bo.prototype.coplanarPoint=function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new va),t.copy(this.normal).multiplyScalar(-this.constant)},bo.prototype.applyMatrix4=function(t,e){return e=e||xo.getNormalMatrix(t),t=this.coplanarPoint(vo).applyMatrix4(t),e=this.normal.applyMatrix3(e).normalize(),this.constant=-t.dot(e),this},bo.prototype.translate=function(t){return this.constant-=t.dot(this.normal),this},bo.prototype.equals=function(t){return t.normal.equals(this.normal)&&t.constant===this.constant};var _o=new va,wo=new va,Mo=new va,So=new va,To=new va,Eo=new va,Ao=new va,Lo=new va,Ro=new va,Po=new va,Co=function(t,e,n){this.a=void 0!==t?t:new va,this.b=void 0!==e?e:new va,this.c=void 0!==n?n:new va};Co.getNormal=function(t,e,n,r){return void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new va),r.subVectors(n,e),_o.subVectors(t,e),r.cross(_o),0<(t=r.lengthSq())?r.multiplyScalar(1/Math.sqrt(t)):r.set(0,0,0)},Co.getBarycoord=function(t,e,n,r,i){_o.subVectors(r,e),wo.subVectors(n,e),Mo.subVectors(t,e),t=_o.dot(_o),e=_o.dot(wo),n=_o.dot(Mo);var a=wo.dot(wo);r=wo.dot(Mo);var o=t*a-e*e;return void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new va),0===o?i.set(-2,-1,-1):(a=(a*n-e*r)*(o=1/o),t=(t*r-e*n)*o,i.set(1-a-t,t,a))},Co.containsPoint=function(t,e,n,r){return this.getBarycoord(t,e,n,r,So),0<=So.x&&0<=So.y&&So.x+So.y<=1},Co.getUV=function(t,e,n,r,i,a,o,s){return this.getBarycoord(t,e,n,r,So),s.set(0,0),s.addScaledVector(i,So.x),s.addScaledVector(a,So.y),s.addScaledVector(o,So.z),s},Co.isFrontFacing=function(t,e,n,r){return _o.subVectors(n,e),wo.subVectors(t,e),_o.cross(wo).dot(r)<0},Co.prototype.set=function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},Co.prototype.setFromPointsAndIndices=function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},Co.prototype.clone=function(){return(new this.constructor).copy(this)},Co.prototype.copy=function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},Co.prototype.getArea=function(){return _o.subVectors(this.c,this.b),wo.subVectors(this.a,this.b),.5*_o.cross(wo).length()},Co.prototype.getMidpoint=function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new va),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},Co.prototype.getNormal=function(t){return Co.getNormal(this.a,this.b,this.c,t)},Co.prototype.getPlane=function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new bo),t.setFromCoplanarPoints(this.a,this.b,this.c)},Co.prototype.getBarycoord=function(t,e){return Co.getBarycoord(t,this.a,this.b,this.c,e)},Co.prototype.getUV=function(t,e,n,r,i){return Co.getUV(t,this.a,this.b,this.c,e,n,r,i)},Co.prototype.containsPoint=function(t){return Co.containsPoint(t,this.a,this.b,this.c)},Co.prototype.isFrontFacing=function(t){return Co.isFrontFacing(this.a,this.b,this.c,t)},Co.prototype.intersectsBox=function(t){return t.intersectsTriangle(this)},Co.prototype.closestPointToPoint=function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new va);var n=this.a,r=this.b,i=this.c;To.subVectors(r,n),Eo.subVectors(i,n),Lo.subVectors(t,n);var a=To.dot(Lo),o=Eo.dot(Lo);if(a<=0&&o<=0)return e.copy(n);Ro.subVectors(t,r);var s=To.dot(Ro),c=Eo.dot(Ro);if(0<=s&&c<=s)return e.copy(r);var l=a*c-s*o;if(l<=0&&0<=a&&s<=0)return r=a/(a-s),e.copy(n).addScaledVector(To,r);Po.subVectors(t,i),t=To.dot(Po);var h=Eo.dot(Po);return 0<=h&&t<=h?e.copy(i):(a=t*o-a*h)<=0&&0<=o&&h<=0?(l=o/(o-h),e.copy(n).addScaledVector(Eo,l)):(o=s*h-t*c)<=0&&0<=c-s&&0<=t-h?(Ao.subVectors(i,r),l=(c-s)/(c-s+(t-h)),e.copy(r).addScaledVector(Ao,l)):(r=a*(i=1/(o+a+l)),l*=i,e.copy(n).addScaledVector(To,r).addScaledVector(Eo,l))},Co.prototype.equals=function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)};var Oo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Io={h:0,s:0,l:0},Do={h:0,s:0,l:0},No=function(t,e,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)};No.prototype.set=function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},No.prototype.setScalar=function(t){return this.b=this.g=this.r=t,this},No.prototype.setHex=function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},No.prototype.setRGB=function(t,e,n){return this.r=t,this.g=e,this.b=n,this},No.prototype.setHSL=function(t,e,n){return t=oa.euclideanModulo(t,1),e=oa.clamp(e,0,1),n=oa.clamp(n,0,1),0===e?this.r=this.g=this.b=n:(n=2*n-(e=n<=.5?n*(1+e):n+e-n*e),this.r=i(n,e,t+1/3),this.g=i(n,e,t),this.b=i(n,e,t-1/3)),this},No.prototype.setStyle=function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r=n[2];switch(n[1]){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){r=parseFloat(n[1])/360;var i=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(r,i,a)}}}else if(n=/^#([A-Fa-f0-9]+)$/.exec(e)){if(3===(r=(n=n[1]).length))return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,this;if(6===r)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this},No.prototype.setColorName=function(t){var e=Oo[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this},No.prototype.clone=function(){return new this.constructor(this.r,this.g,this.b)},No.prototype.copy=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},No.prototype.copyGammaToLinear=function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},No.prototype.copyLinearToGamma=function(t,e){return void 0===e&&(e=2),e=0<e?1/e:1,this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},No.prototype.convertGammaToLinear=function(t){return this.copyGammaToLinear(this,t),this},No.prototype.convertLinearToGamma=function(t){return this.copyLinearToGamma(this,t),this},No.prototype.copySRGBToLinear=function(t){return this.r=a(t.r),this.g=a(t.g),this.b=a(t.b),this},No.prototype.copyLinearToSRGB=function(t){return this.r=o(t.r),this.g=o(t.g),this.b=o(t.b),this},No.prototype.convertSRGBToLinear=function(){return this.copySRGBToLinear(this),this},No.prototype.convertLinearToSRGB=function(){return this.copyLinearToSRGB(this),this},No.prototype.getHex=function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},No.prototype.getHexString=function(){return("000000"+this.getHex().toString(16)).slice(-6)},No.prototype.getHSL=function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n=this.r,r=this.g,i=this.b,a=Math.max(n,r,i),o=Math.min(n,r,i),s=(o+a)/2;if(o===a)o=e=0;else{var c=a-o;switch(o=s<=.5?c/(a+o):c/(2-a-o),a){case n:e=(r-i)/c+(r<i?6:0);break;case r:e=(i-n)/c+2;break;case i:e=(n-r)/c+4}e/=6}return t.h=e,t.s=o,t.l=s,t},No.prototype.getStyle=function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},No.prototype.offsetHSL=function(t,e,n){return this.getHSL(Io),Io.h+=t,Io.s+=e,Io.l+=n,this.setHSL(Io.h,Io.s,Io.l),this},No.prototype.add=function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},No.prototype.addColors=function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},No.prototype.addScalar=function(t){return this.r+=t,this.g+=t,this.b+=t,this},No.prototype.sub=function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},No.prototype.multiply=function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},No.prototype.multiplyScalar=function(t){return this.r*=t,this.g*=t,this.b*=t,this},No.prototype.lerp=function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},No.prototype.lerpHSL=function(t,e){this.getHSL(Io),t.getHSL(Do),t=oa.lerp(Io.h,Do.h,e);var n=oa.lerp(Io.s,Do.s,e);return e=oa.lerp(Io.l,Do.l,e),this.setHSL(t,n,e),this},No.prototype.equals=function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},No.prototype.fromArray=function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},No.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},No.prototype.fromBufferAttribute=function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},No.prototype.toJSON=function(){return this.getHex()},No.NAMES=Oo,No.prototype.r=1,No.prototype.g=1,No.prototype.b=1;var Bo=function(t,e,n,r,i,a){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new va,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new No,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0};Bo.prototype.clone=function(){return(new this.constructor).copy(this)},Bo.prototype.copy=function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this};var zo=0;s.prototype=Object.assign(Object.create(e.prototype),{constructor:s,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0===n)console.warn("THREE.Material: '"+e+"' parameter is undefined.");else if("shading"===e)console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else{var r=this[e];void 0===r?console.warn("THREE."+this.type+": '"+e+"' is not a property of this material."):r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n}}},toJSON:function(t){function e(t){var e,n=[];for(e in t){var r=t[e];delete r.metadata,n.push(r)}return n}var n=void 0===t||"string"==typeof t;n&&(t={textures:{},images:{}});var r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(r.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearcoat&&(r.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(t).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(t).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(t).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(t).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(t).uuid,r.reflectivity=this.reflectivity,r.refractionRatio=this.refractionRatio,void 0!==this.combine&&(r.combine=this.combine),void 0!==this.envMapIntensity&&(r.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),!0===this.flatShading&&(r.flatShading=this.flatShading),0!==this.side&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(r.rotation=this.rotation),!0===this.polygonOffset&&(r.polygonOffset=!0),0!==this.polygonOffsetFactor&&(r.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(r.linewidth=this.linewidth),void 0!==this.dashSize&&(r.dashSize=this.dashSize),void 0!==this.gapSize&&(r.gapSize=this.gapSize),void 0!==this.scale&&(r.scale=this.scale),!0===this.dithering&&(r.dithering=!0),0<this.alphaTest&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),1<this.wireframeLinewidth&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(r.morphTargets=!0),!0===this.morphNormals&&(r.morphNormals=!0),!0===this.skinning&&(r.skinning=!0),!1===this.visible&&(r.visible=!1),!1===this.toneMapped&&(r.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n&&(n=e(t.textures),t=e(t.images),0<n.length&&(r.textures=n),0<t.length&&(r.images=t)),r},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(s.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),((c.prototype=Object.create(s.prototype)).constructor=c).prototype.isMeshBasicMaterial=!0,c.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};var Go=new va,Uo=new sa;Object.defineProperty(A.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(A.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new No),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new sa),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new va),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new da),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)Uo.fromBufferAttribute(this,e),Uo.applyMatrix3(t),this.setXY(e,Uo.x,Uo.y);else if(3===this.itemSize)for(e=0,n=this.count;e<n;e++)Go.fromBufferAttribute(this,e),Go.applyMatrix3(t),this.setXYZ(e,Go.x,Go.y,Go.z);return this},applyMatrix4:function(t){for(var e=0,n=this.count;e<n;e++)Go.x=this.getX(e),Go.y=this.getY(e),Go.z=this.getZ(e),Go.applyMatrix4(t),this.setXYZ(e,Go.x,Go.y,Go.z);return this},applyNormalMatrix:function(t){for(var e=0,n=this.count;e<n;e++)Go.x=this.getX(e),Go.y=this.getY(e),Go.z=this.getZ(e),Go.applyNormalMatrix(t),this.setXYZ(e,Go.x,Go.y,Go.z);return this},transformDirection:function(t){for(var e=0,n=this.count;e<n;e++)Go.x=this.getX(e),Go.y=this.getY(e),Go.z=this.getZ(e),Go.transformDirection(t),this.setXYZ(e,Go.x,Go.y,Go.z);return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(l.prototype=Object.create(A.prototype)).constructor=l,(h.prototype=Object.create(A.prototype)).constructor=h,(u.prototype=Object.create(A.prototype)).constructor=u,(f.prototype=Object.create(A.prototype)).constructor=f,(m.prototype=Object.create(A.prototype)).constructor=m,(g.prototype=Object.create(A.prototype)).constructor=g,(v.prototype=Object.create(A.prototype)).constructor=v,(R.prototype=Object.create(A.prototype)).constructor=R,(y.prototype=Object.create(A.prototype)).constructor=y;var Fo=function(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};Fo.prototype.computeGroups=function(t){var e=[],n=void 0,r=t.faces;for(t=0;t<r.length;t++){var i=r[t];if(i.materialIndex!==n){n=i.materialIndex,void 0!==a&&(a.count=3*t-a.start,e.push(a));var a={start:3*t,materialIndex:n}}}void 0!==a&&(a.count=3*t-a.start,e.push(a)),this.groups=e},Fo.prototype.fromGeometry=function(t){var e=t.faces,n=t.vertices,r=t.faceVertexUvs,i=r[0]&&0<r[0].length,a=r[1]&&0<r[1].length,o=t.morphTargets,s=o.length;if(0<s){for(var c=[],l=0;l<s;l++)c[l]={name:o[l].name,data:[]};this.morphTargets.position=c}var h=(l=t.morphNormals).length;if(0<h){for(var u=[],p=0;p<h;p++)u[p]={name:l[p].name,data:[]};this.morphTargets.normal=u}p=t.skinIndices;var d=t.skinWeights,f=p.length===n.length,m=d.length===n.length;0<n.length&&0===e.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var g=0;g<e.length;g++){var v=e[g];this.vertices.push(n[v.a],n[v.b],n[v.c]);var y=v.vertexNormals;for(3===y.length?this.normals.push(y[0],y[1],y[2]):(y=v.normal,this.normals.push(y,y,y)),3===(y=v.vertexColors).length?this.colors.push(y[0],y[1],y[2]):(y=v.color,this.colors.push(y,y,y)),!0===i&&(void 0!==(y=r[0][g])?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new sa,new sa,new sa))),!0===a&&(void 0!==(y=r[1][g])?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new sa,new sa,new sa))),y=0;y<s;y++){var x=o[y].vertices;c[y].data.push(x[v.a],x[v.b],x[v.c])}for(y=0;y<h;y++)x=l[y].vertexNormals[g],u[y].data.push(x.a,x.b,x.c);f&&this.skinIndices.push(p[v.a],p[v.b],p[v.c]),m&&this.skinWeights.push(d[v.a],d[v.b],d[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this};var Ho=1,ko=new ja,Vo=new d,jo=new va,Wo=new ba,qo=new ba,Xo=new va;P.prototype=Object.assign(Object.create(e.prototype),{constructor:P,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(65535<x(t)?v:m)(t,1):this.index=t},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){var e=this.attributes.position;if(void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0),void 0!==(e=this.attributes.normal)){var n=(new la).getNormalMatrix(t);e.applyNormalMatrix(n),e.needsUpdate=!0}return void 0!==(e=this.attributes.tangent)&&(e.transformDirection(t),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return ko.makeRotationX(t),this.applyMatrix4(ko),this},rotateY:function(t){return ko.makeRotationY(t),this.applyMatrix4(ko),this},rotateZ:function(t){return ko.makeRotationZ(t),this.applyMatrix4(ko),this},translate:function(t,e,n){return ko.makeTranslation(t,e,n),this.applyMatrix4(ko),this},scale:function(t,e,n){return ko.makeScale(t,e,n),this.applyMatrix4(ko),this},lookAt:function(t){return Vo.lookAt(t),Vo.updateMatrix(),this.applyMatrix4(Vo.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(jo).negate(),this.translate(jo.x,jo.y,jo.z),this},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){t=new R(3*e.vertices.length,3);var n=new R(3*e.colors.length,3);this.setAttribute("position",t.copyVector3sArray(e.vertices)),this.setAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length&&(t=new R(e.lineDistances.length,1),this.setAttribute("lineDistance",t.copyArray(e.lineDistances))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];e.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new R(e,3)),this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}return!0===e.verticesNeedUpdate&&(void 0!==(n=this.attributes.position)&&(n.copyVector3sArray(e.vertices),n.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(void 0!==(n=this.attributes.normal)&&(n.copyVector3sArray(e.normals),n.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(void 0!==(n=this.attributes.color)&&(n.copyColorsArray(e.colors),n.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(void 0!==(n=this.attributes.uv)&&(n.copyVector2sArray(e.uvs),n.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(void 0!==(n=this.attributes.lineDistance)&&(n.copyArray(e.lineDistances),n.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new Fo).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);for(var n in this.setAttribute("position",new A(e,3).copyVector3sArray(t.vertices)),0<t.normals.length&&(e=new Float32Array(3*t.normals.length),this.setAttribute("normal",new A(e,3).copyVector3sArray(t.normals))),0<t.colors.length&&(e=new Float32Array(3*t.colors.length),this.setAttribute("color",new A(e,3).copyColorsArray(t.colors))),0<t.uvs.length&&(e=new Float32Array(2*t.uvs.length),this.setAttribute("uv",new A(e,2).copyVector2sArray(t.uvs))),0<t.uvs2.length&&(e=new Float32Array(2*t.uvs2.length),this.setAttribute("uv2",new A(e,2).copyVector2sArray(t.uvs2))),this.groups=t.groups,t.morphTargets){e=[];for(var r=t.morphTargets[n],i=0,a=r.length;i<a;i++){var o=r[i],s=new R(3*o.data.length,3);s.name=o.name,e.push(s.copyVector3sArray(o.data))}this.morphAttributes[n]=e}return 0<t.skinIndices.length&&(n=new R(4*t.skinIndices.length,4),this.setAttribute("skinIndex",n.copyVector4sArray(t.skinIndices))),0<t.skinWeights.length&&(n=new R(4*t.skinWeights.length,4),this.setAttribute("skinWeight",n.copyVector4sArray(t.skinWeights))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ba);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new va(-1/0,-1/0,-1/0),new va(1/0,1/0,1/0));else{if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e){t=0;for(var n=e.length;t<n;t++)Wo.setFromBufferAttribute(e[t]),this.morphTargetsRelative?(Xo.addVectors(this.boundingBox.min,Wo.min),this.boundingBox.expandByPoint(Xo),Xo.addVectors(this.boundingBox.max,Wo.max),this.boundingBox.expandByPoint(Xo)):(this.boundingBox.expandByPoint(Wo.min),this.boundingBox.expandByPoint(Wo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Na);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new va,1/0);else if(t){var n=this.boundingSphere.center;if(Wo.setFromBufferAttribute(t),e)for(var r=0,i=e.length;r<i;r++)qo.setFromBufferAttribute(e[r]),this.morphTargetsRelative?(Xo.addVectors(Wo.min,qo.min),Wo.expandByPoint(Xo),Xo.addVectors(Wo.max,qo.max),Wo.expandByPoint(Xo)):(Wo.expandByPoint(qo.min),Wo.expandByPoint(qo.max));Wo.getCenter(n),i=r=0;for(var a=t.count;i<a;i++)Xo.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(Xo));if(e)for(i=0,a=e.length;i<a;i++)for(var o=e[i],s=this.morphTargetsRelative,c=0,l=o.count;c<l;c++)Xo.fromBufferAttribute(o,c),s&&(jo.fromBufferAttribute(t,c),Xo.add(jo)),r=Math.max(r,n.distanceToSquared(Xo));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new A(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);r=new va,i=new va;var a=new va,o=new va,s=new va,c=new va,l=new va,h=new va;if(t)for(var u=0,p=t.count;u<p;u+=3){var d=t.getX(u+0),f=t.getX(u+1),m=t.getX(u+2);r.fromBufferAttribute(e,d),i.fromBufferAttribute(e,f),a.fromBufferAttribute(e,m),l.subVectors(a,i),h.subVectors(r,i),l.cross(h),o.fromBufferAttribute(n,d),s.fromBufferAttribute(n,f),c.fromBufferAttribute(n,m),o.add(l),s.add(l),c.add(l),n.setXYZ(d,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(m,c.x,c.y,c.z)}else for(t=0,o=e.count;t<o;t+=3)r.fromBufferAttribute(e,t+0),i.fromBufferAttribute(e,t+1),a.fromBufferAttribute(e,t+2),l.subVectors(a,i),h.subVectors(r,i),l.cross(h),n.setXYZ(t+0,l.x,l.y,l.z),n.setXYZ(t+1,l.x,l.y,l.z),n.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n,r=this.attributes;for(n in r)if(void 0!==t.attributes[n]){var i=r[n].array,a=t.attributes[n],o=a.array,s=a.itemSize*e;a=Math.min(o.length,i.length-s);for(var c=0;c<a;c++,s++)i[s]=o[c]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)Xo.fromBufferAttribute(t,e),Xo.normalize(),t.setXYZ(e,Xo.x,Xo.y,Xo.z)},toNonIndexed:function(){function t(t,e){var n=t.array,r=t.itemSize;t=t.normalized;for(var i,a=new n.constructor(e.length*r),o=0,s=0,c=e.length;s<c;s++){i=e[s]*r;for(var l=0;l<r;l++)a[o++]=n[i++]}return new A(a,r,t)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new P,n=this.index.array,r=this.attributes;for(o in r){var i=t(r[o],n);e.setAttribute(o,i)}for(var a in r=this.morphAttributes){for(var o=[],s=0,c=(i=r[a]).length;s<c;s++){var l=t(i[s],n);o.push(l)}e.morphAttributes[a]=o}for(e.morphTargetsRelative=this.morphTargetsRelative,a=0,r=(n=this.groups).length;a<r;a++)o=n[a],e.addGroup(o.start,o.count,o.materialIndex);return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),0<Object.keys(this.userData).length&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var n=this.index;for(var r in null!==n&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)}),n=this.attributes){var i=n[r],a=i.toJSON(t.data);""!==i.name&&(a.name=i.name),t.data.attributes[r]=a}for(e in n=!(r={}),this.morphAttributes){a=[];for(var o=0,s=(i=this.morphAttributes[e]).length;o<s;o++){var c=i[o],l=c.toJSON(t.data);""!==c.name&&(l.name=c.name),a.push(l)}0<a.length&&(r[e]=a,n=!0)}return n&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative),0<(e=this.groups).length&&(t.data.groups=JSON.parse(JSON.stringify(e))),null!==(e=this.boundingSphere)&&(t.data.boundingSphere={center:e.center.toArray(),radius:e.radius}),t},clone:function(){return(new P).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null;var e={};this.name=t.name;var n=t.index;for(var r in null!==n&&this.setIndex(n.clone(e)),n=t.attributes)this.setAttribute(r,n[r].clone(e));for(var i in r=t.morphAttributes){n=[];for(var a=r[i],o=0,s=a.length;o<s;o++)n.push(a[o].clone(e));this.morphAttributes[i]=n}for(this.morphTargetsRelative=t.morphTargetsRelative,i=0,r=(e=t.groups).length;i<r;i++)n=e[i],this.addGroup(n.start,n.count,n.materialIndex);return null!==(e=t.boundingBox)&&(this.boundingBox=e.clone()),null!==(e=t.boundingSphere)&&(this.boundingSphere=e.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Yo=new ja,Zo=new Va,Jo=new Na,Qo=new va,Ko=new va,$o=new va,ts=new va,es=new va,ns=new va,rs=new va,is=new va,as=new va,os=new sa,ss=new sa,cs=new sa,ls=new va,hs=new va;L.prototype=Object.assign(Object.create(d.prototype),{constructor:L,isMesh:!0,copy:function(t){return d.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var e=Object.keys(t);if(0<e.length&&void 0!==(t=t[e[0]])){this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0;for(var n=t.length;e<n;e++){var r=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}}else void 0!==(t=t.morphTargets)&&0<t.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(t,e){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),Jo.copy(n.boundingSphere),Jo.applyMatrix4(i),!1!==t.ray.intersectsSphere(Jo)&&(Yo.getInverse(i),Zo.copy(t.ray).applyMatrix4(Yo),null===n.boundingBox||!1!==Zo.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var a=n.index,o=n.attributes.position;i=n.morphAttributes.position;var s=n.morphTargetsRelative,c=n.attributes.uv,l=n.attributes.uv2,h=n.groups,u=n.drawRange;if(null!==a)if(Array.isArray(r))for(var p=0,d=h.length;p<d;p++)for(var f=h[p],m=r[f.materialIndex],g=Math.max(f.start,u.start),v=Math.min(f.start+f.count,u.start+u.count);g<v;g+=3){n=a.getX(g);var y=a.getX(g+1),x=a.getX(g+2);(n=_(this,m,t,Zo,o,i,s,c,l,n,y,x))&&(n.faceIndex=Math.floor(g/3),n.face.materialIndex=f.materialIndex,e.push(n))}else for(h=Math.max(0,u.start),u=Math.min(a.count,u.start+u.count);h<u;h+=3)n=a.getX(h),p=a.getX(h+1),d=a.getX(h+2),(n=_(this,r,t,Zo,o,i,s,c,l,n,p,d))&&(n.faceIndex=Math.floor(h/3),e.push(n));else if(void 0!==o)if(Array.isArray(r))for(a=0,p=h.length;a<p;a++)for(f=r[(d=h[a]).materialIndex],m=Math.max(d.start,u.start),g=Math.min(d.start+d.count,u.start+u.count);m<g;m+=3)(n=_(this,f,t,Zo,o,i,s,c,l,m,m+1,m+2))&&(n.faceIndex=Math.floor(m/3),n.face.materialIndex=d.materialIndex,e.push(n));else for(h=Math.max(0,u.start),u=Math.min(o.count,u.start+u.count);h<u;h+=3)(n=_(this,r,t,Zo,o,i,s,c,l,h,h+1,h+2))&&(n.faceIndex=Math.floor(h/3),e.push(n))}else if(n.isGeometry)for(i=Array.isArray(r),s=n.vertices,c=n.faces,0<(n=n.faceVertexUvs[0]).length&&(o=n),l=0,u=c.length;l<u;l++)h=c[l],void 0!==(n=i?r[h.materialIndex]:r)&&(a=s[h.a],p=s[h.b],d=s[h.c],n=b(this,n,t,Zo,a,p,d,ls))&&(o&&o[l]&&(f=o[l],os.copy(f[0]),ss.copy(f[1]),cs.copy(f[2]),n.uv=Co.getUV(ls,a,p,d,os,ss,cs,new sa)),n.face=h,n.faceIndex=l,e.push(n))}});var us=0,ps=new ja,ds=new d,fs=new va;w.prototype=Object.assign(Object.create(e.prototype),{constructor:w,isGeometry:!0,applyMatrix4:function(t){for(var e=(new la).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(t);for(t=0,n=this.faces.length;t<n;t++){(r=this.faces[t]).normal.applyMatrix3(e).normalize();for(var i=0,a=r.vertexNormals.length;i<a;i++)r.vertexNormals[i].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(t){return ps.makeRotationX(t),this.applyMatrix4(ps),this},rotateY:function(t){return ps.makeRotationY(t),this.applyMatrix4(ps),this},rotateZ:function(t){return ps.makeRotationZ(t),this.applyMatrix4(ps),this},translate:function(t,e,n){return ps.makeTranslation(t,e,n),this.applyMatrix4(ps),this},scale:function(t,e,n){return ps.makeScale(t,e,n),this.applyMatrix4(ps),this},lookAt:function(t){return ds.lookAt(t),ds.updateMatrix(),this.applyMatrix4(ds.matrix),this},fromBufferGeometry:function(t){function e(t,e,n,r){var i=void 0===c?[]:[o.colors[t].clone(),o.colors[e].clone(),o.colors[n].clone()],a=void 0===s?[]:[(new va).fromBufferAttribute(s,t),(new va).fromBufferAttribute(s,e),(new va).fromBufferAttribute(s,n)];r=new Bo(t,e,n,a,i,r),o.faces.push(r),void 0!==l&&o.faceVertexUvs[0].push([(new sa).fromBufferAttribute(l,t),(new sa).fromBufferAttribute(l,e),(new sa).fromBufferAttribute(l,n)]),void 0!==h&&o.faceVertexUvs[1].push([(new sa).fromBufferAttribute(h,t),(new sa).fromBufferAttribute(h,e),(new sa).fromBufferAttribute(h,n)])}var o=this,n=null!==t.index?t.index:void 0,r=t.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position,s=r.normal,c=r.color,l=r.uv,h=r.uv2;for(void 0!==h&&(this.faceVertexUvs[1]=[]),r=0;r<i.count;r++)o.vertices.push((new va).fromBufferAttribute(i,r)),void 0!==c&&o.colors.push((new No).fromBufferAttribute(c,r));if(0<(r=t.groups).length)for(i=0;i<r.length;i++){var a=r[i],u=a.start,p=u;for(u+=a.count;p<u;p+=3)void 0!==n?e(n.getX(p),n.getX(p+1),n.getX(p+2),a.materialIndex):e(p,p+1,p+2,a.materialIndex)}else if(void 0!==n)for(r=0;r<n.count;r+=3)e(n.getX(r),n.getX(r+1),n.getX(r+2));else for(n=0;n<i.count;n+=3)e(n,n+1,n+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(fs).negate(),this.translate(fs.x,fs.y,fs.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius;e=0===e?1:1/e;var n=new ja;return n.set(e,0,0,-e*t.x,0,e,0,-e*t.y,0,0,e,-e*t.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){for(var t=new va,e=new va,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b];t.subVectors(this.vertices[i.c],o),e.subVectors(a,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);for(var e=Array(this.vertices.length),n=0,r=this.vertices.length;n<r;n++)e[n]=new va;if(t){t=new va,n=new va,r=0;for(var i=this.faces.length;r<i;r++){var a=this.faces[r],o=this.vertices[a.a],s=this.vertices[a.b];t.subVectors(this.vertices[a.c],s),n.subVectors(o,s),t.cross(n),e[a.a].add(t),e[a.b].add(t),e[a.c].add(t)}}else for(this.computeFaceNormals(),t=0,n=this.faces.length;t<n;t++)e[(r=this.faces[t]).a].add(r.normal),e[r.b].add(r.normal),e[r.c].add(r.normal);for(t=0,n=this.vertices.length;t<n;t++)e[t].normalize();for(t=0,n=this.faces.length;t<n;t++)3===(i=(r=this.faces[t]).vertexNormals).length?(i[0].copy(e[r.a]),i[1].copy(e[r.b]),i[2].copy(e[r.c])):(i[0]=e[r.a].clone(),i[1]=e[r.b].clone(),i[2]=e[r.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var t=0,e=this.faces.length;t<e;t++){var n=this.faces[t],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var t=0,e=this.faces.length;t<e;t++){var n=this.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var r=0,i=n.vertexNormals.length;r<i;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}for((t=new w).faces=this.faces,e=0,n=this.morphTargets.length;e<n;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[],r=this.morphNormals[e].faceNormals,i=this.morphNormals[e].vertexNormals;for(var a=0,o=this.faces.length;a<o;a++){var s=new va,c={a:new va,b:new va,c:new va};r.push(s),i.push(c)}}for(r=this.morphNormals[e],t.vertices=this.morphTargets[e].vertices,t.computeFaceNormals(),t.computeVertexNormals(),i=0,a=this.faces.length;i<a;i++)o=this.faces[i],s=r.vertexNormals[i],r.faceNormals[i].copy(o.normal),s.a.copy(o.vertexNormals[0]),s.b.copy(o.vertexNormals[1]),s.c.copy(o.vertexNormals[2])}for(t=0,e=this.faces.length;t<e;t++)(n=this.faces[t]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ba),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Na),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,l=this.colors,h=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new la).getNormalMatrix(e));for(var u=0,p=o.length;u<p;u++){var d=o[u].clone();void 0!==e&&d.applyMatrix4(e),a.push(d)}for(e=0,a=h.length;e<a;e++)l.push(h[e].clone());for(l=0,h=c.length;l<h;l++){p=(e=c[l]).vertexNormals,a=e.vertexColors,(o=new Bo(e.a+i,e.b+i,e.c+i)).normal.copy(e.normal),void 0!==r&&o.normal.applyMatrix3(r).normalize(),d=0;for(var f=p.length;d<f;d++)u=p[d].clone(),void 0!==r&&u.applyMatrix3(r).normalize(),o.vertexNormals.push(u);for(o.color.copy(e.color),p=0,d=a.length;p<d;p++)u=a[p],o.vertexColors.push(u.clone());o.materialIndex=e.materialIndex+n,s.push(o)}for(n=0,r=t.faceVertexUvs.length;n<r;n++)for(i=t.faceVertexUvs[n],void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]),s=0,c=i.length;s<c;s++){for(h=[],e=0,a=(l=i[s]).length;e<a;e++)h.push(l[e].clone());this.faceVertexUvs[n].push(h)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){for(var t={},e=[],n=[],r=Math.pow(10,4),i=0,a=this.vertices.length;i<a;i++){var o=this.vertices[i];void 0===t[o=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r)]?(t[o]=i,e.push(this.vertices[i]),n[i]=e.length-1):n[i]=n[t[o]]}for(t=[],r=0,i=this.faces.length;r<i;r++)for((a=this.faces[r]).a=n[a.a],a.b=n[a.b],a.c=n[a.c],a=[a.a,a.b,a.c],o=0;o<3;o++)if(a[o]===a[(o+1)%3]){t.push(r);break}for(n=t.length-1;0<=n;n--)for(r=t[n],this.faces.splice(r,1),i=0,a=this.faceVertexUvs.length;i<a;i++)this.faceVertexUvs[i].splice(r,1);return n=this.vertices.length-e.length,this.vertices=e,n},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];this.vertices.push(new va(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort(function(t,e){return t.materialIndex-e.materialIndex}),n=this.faceVertexUvs[0];var r,i,a=this.faceVertexUvs[1];n&&n.length===e&&(r=[]),a&&a.length===e&&(i=[]);for(var o=0;o<e;o++){var s=t[o]._id;r&&r.push(n[s]),i&&i.push(a[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]||(l[e]=c.length/3,c.push(t.x,t.y,t.z)),l[e]}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]||(u[e]=h.length,h.push(t.getHex())),u[e]}function r(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]||(d[e]=p.length/2,p.push(t.x,t.y)),d[e]}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var a,o=this.parameters;for(a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(o=[],a=0;a<this.vertices.length;a++){var s=this.vertices[a];o.push(s.x,s.y,s.z)}a=[];var c=[],l={},h=[],u={},p=[],d={};for(s=0;s<this.faces.length;s++){var f=this.faces[s],m=void 0!==this.faceVertexUvs[0][s],g=0<f.normal.length(),v=0<f.vertexNormals.length,y=1!==f.color.r||1!==f.color.g||1!==f.color.b,x=0<f.vertexColors.length,b=0;b=t(b=t(b=t(b=t(b=t(b=t(b=t(b=t(b,0,0),1,!0),2,!1),3,m),4,g),5,v),6,y),7,x),a.push(b),a.push(f.a,f.b,f.c),a.push(f.materialIndex),m&&(m=this.faceVertexUvs[0][s],a.push(r(m[0]),r(m[1]),r(m[2]))),g&&a.push(e(f.normal)),v&&(g=f.vertexNormals,a.push(e(g[0]),e(g[1]),e(g[2]))),y&&a.push(n(f.color)),x&&(f=f.vertexColors,a.push(n(f[0]),n(f[1]),n(f[2])))}return i.data={},i.data.vertices=o,i.data.normals=c,0<h.length&&(i.data.colors=h),0<p.length&&(i.data.uvs=[p]),i.data.faces=a,i},clone:function(){return(new w).copy(this)},copy:function(t){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=t.name;for(var e=t.vertices,n=0,r=e.length;n<r;n++)this.vertices.push(e[n].clone());for(n=0,r=(e=t.colors).length;n<r;n++)this.colors.push(e[n].clone());for(n=0,r=(e=t.faces).length;n<r;n++)this.faces.push(e[n].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){r=t.faceVertexUvs[e],void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]);for(var i=0,a=r.length;i<a;i++){for(var o=r[i],s=[],c=0,l=o.length;c<l;c++)s.push(o[c].clone());this.faceVertexUvs[e].push(s)}}for(n=0,r=(e=t.morphTargets).length;n<r;n++){if((i={}).name=e[n].name,void 0!==e[n].vertices)for(i.vertices=[],a=0,o=e[n].vertices.length;a<o;a++)i.vertices.push(e[n].vertices[a].clone());if(void 0!==e[n].normals)for(i.normals=[],a=0,o=e[n].normals.length;a<o;a++)i.normals.push(e[n].normals[a].clone());this.morphTargets.push(i)}for(n=0,r=(e=t.morphNormals).length;n<r;n++){if(i={},void 0!==e[n].vertexNormals)for(i.vertexNormals=[],a=0,o=e[n].vertexNormals.length;a<o;a++)s=e[n].vertexNormals[a],(c={}).a=s.a.clone(),c.b=s.b.clone(),c.c=s.c.clone(),i.vertexNormals.push(c);if(void 0!==e[n].faceNormals)for(i.faceNormals=[],a=0,o=e[n].faceNormals.length;a<o;a++)i.faceNormals.push(e[n].faceNormals[a].clone());this.morphNormals.push(i)}for(n=0,r=(e=t.skinWeights).length;n<r;n++)this.skinWeights.push(e[n].clone());for(n=0,r=(e=t.skinIndices).length;n<r;n++)this.skinIndices.push(e[n].clone());for(n=0,r=(e=t.lineDistances).length;n<r;n++)this.lineDistances.push(e[n]);return null!==(e=t.boundingBox)&&(this.boundingBox=e.clone()),null!==(e=t.boundingSphere)&&(this.boundingSphere=e.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(M.prototype=Object.create(w.prototype)).constructor=M,(S.prototype=Object.create(P.prototype)).constructor=S;var ms={clone:T,merge:C};((O.prototype=Object.create(s.prototype)).constructor=O).prototype.isShaderMaterial=!0,O.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=T(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},O.prototype.toJSON=function(t){var e=s.prototype.toJSON.call(this,t);for(var n in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var r=this.uniforms[n].value;e.uniforms[n]=r&&r.isTexture?{type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix3?{type:"m3",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}for(var i in 0<Object.keys(this.defines).length&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,t={},this.extensions)!0===this.extensions[i]&&(t[i]=!0);return 0<Object.keys(t).length&&(e.extensions=t),e},I.prototype=Object.assign(Object.create(d.prototype),{constructor:I,isCamera:!0,copy:function(t,e){return d.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new va),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){d.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(t,e){d.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),D.prototype=Object.assign(Object.create(I.prototype),{constructor:D,isPerspectiveCamera:!0,copy:function(t,e){return I.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){t=.5*this.getFilmHeight()/t,this.fov=2*oa.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*oa.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*oa.RAD2DEG*Math.atan(Math.tan(.5*oa.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*oa.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}0!==(a=this.filmOffset)&&(i+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){return(t=d.prototype.toJSON.call(this,t)).object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),(N.prototype=Object.create(d.prototype)).constructor=N,((B.prototype=Object.create(E.prototype)).constructor=B).prototype.isWebGLCubeRenderTarget=!0,B.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=1023,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n=new S(5,5,5),r=new O({name:"CubemapFromEquirect",uniforms:T({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",side:1,blending:0});return r.uniforms.tEquirect.value=e,n=new L(n,r),r=e.minFilter,1008===e.minFilter&&(e.minFilter=1006),new N(1,10,this).update(t,n),e.minFilter=r,n.geometry.dispose(),n.material.dispose(),this},((wt.prototype=Object.create(p.prototype)).constructor=wt).prototype.isDataTexture=!0;var gs=new Na,vs=new va,ys=function(t,e,n,r,i,a){this.planes=[void 0!==t?t:new bo,void 0!==e?e:new bo,void 0!==n?n:new bo,void 0!==r?r:new bo,void 0!==i?i:new bo,void 0!==a?a:new bo]};ys.prototype.set=function(t,e,n,r,i,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},ys.prototype.clone=function(){return(new this.constructor).copy(this)},ys.prototype.copy=function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},ys.prototype.setFromProjectionMatrix=function(t){var e=this.planes,n=t.elements;t=n[0];var r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],c=n[6],l=n[7],h=n[8],u=n[9],p=n[10],d=n[11],f=n[12],m=n[13],g=n[14];return n=n[15],e[0].setComponents(a-t,l-o,d-h,n-f).normalize(),e[1].setComponents(a+t,l+o,d+h,n+f).normalize(),e[2].setComponents(a+r,l+s,d+u,n+m).normalize(),e[3].setComponents(a-r,l-s,d-u,n-m).normalize(),e[4].setComponents(a-i,l-c,d-p,n-g).normalize(),e[5].setComponents(a+i,l+c,d+p,n+g).normalize(),this},ys.prototype.intersectsObject=function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),gs.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(gs)},ys.prototype.intersectsSprite=function(t){return gs.center.set(0,0,0),gs.radius=.7071067811865476,gs.applyMatrix4(t.matrixWorld),this.intersectsSphere(gs)},ys.prototype.intersectsSphere=function(t){var e=this.planes,n=t.center;t=-t.radius;for(var r=0;r<6;r++)if(e[r].distanceToPoint(n)<t)return!1;return!0},ys.prototype.intersectsBox=function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];if(vs.x=0<r.normal.x?t.max.x:t.min.x,vs.y=0<r.normal.y?t.max.y:t.min.y,vs.z=0<r.normal.z?t.max.z:t.min.z,r.distanceToPoint(vs)<0)return!1}return!0},ys.prototype.containsPoint=function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0},(z.prototype=Object.create(w.prototype)).constructor=z,(G.prototype=Object.create(P.prototype)).constructor=G;var xs={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},bs={common:{diffuse:{value:new No(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new la},uv2Transform:{value:new la},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new sa(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new No(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new No(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new la}},sprite:{diffuse:{value:new No(15658734)},opacity:{value:1},center:{value:new sa(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new la}}},_s={basic:{uniforms:C([bs.common,bs.specularmap,bs.envmap,bs.aomap,bs.lightmap,bs.fog]),vertexShader:xs.meshbasic_vert,fragmentShader:xs.meshbasic_frag},lambert:{uniforms:C([bs.common,bs.specularmap,bs.envmap,bs.aomap,bs.lightmap,bs.emissivemap,bs.fog,bs.lights,{emissive:{value:new No(0)}}]),vertexShader:xs.meshlambert_vert,fragmentShader:xs.meshlambert_frag},phong:{uniforms:C([bs.common,bs.specularmap,bs.envmap,bs.aomap,bs.lightmap,bs.emissivemap,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.fog,bs.lights,{emissive:{value:new No(0)},specular:{value:new No(1118481)},shininess:{value:30}}]),vertexShader:xs.meshphong_vert,fragmentShader:xs.meshphong_frag},standard:{uniforms:C([bs.common,bs.envmap,bs.aomap,bs.lightmap,bs.emissivemap,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.roughnessmap,bs.metalnessmap,bs.fog,bs.lights,{emissive:{value:new No(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xs.meshphysical_vert,fragmentShader:xs.meshphysical_frag},toon:{uniforms:C([bs.common,bs.aomap,bs.lightmap,bs.emissivemap,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.gradientmap,bs.fog,bs.lights,{emissive:{value:new No(0)}}]),vertexShader:xs.meshtoon_vert,fragmentShader:xs.meshtoon_frag},matcap:{uniforms:C([bs.common,bs.bumpmap,bs.normalmap,bs.displacementmap,bs.fog,{matcap:{value:null}}]),vertexShader:xs.meshmatcap_vert,fragmentShader:xs.meshmatcap_frag},points:{uniforms:C([bs.points,bs.fog]),vertexShader:xs.points_vert,fragmentShader:xs.points_frag},dashed:{uniforms:C([bs.common,bs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xs.linedashed_vert,fragmentShader:xs.linedashed_frag},depth:{uniforms:C([bs.common,bs.displacementmap]),vertexShader:xs.depth_vert,fragmentShader:xs.depth_frag},normal:{uniforms:C([bs.common,bs.bumpmap,bs.normalmap,bs.displacementmap,{opacity:{value:1}}]),vertexShader:xs.normal_vert,fragmentShader:xs.normal_frag},sprite:{uniforms:C([bs.sprite,bs.fog]),vertexShader:xs.sprite_vert,fragmentShader:xs.sprite_frag},background:{uniforms:{uvTransform:{value:new la},t2D:{value:null}},vertexShader:xs.background_vert,fragmentShader:xs.background_frag},cube:{uniforms:C([bs.envmap,{opacity:{value:1}}]),vertexShader:xs.cube_vert,fragmentShader:xs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xs.equirect_vert,fragmentShader:xs.equirect_frag},distanceRGBA:{uniforms:C([bs.common,bs.displacementmap,{referencePosition:{value:new va},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xs.distanceRGBA_vert,fragmentShader:xs.distanceRGBA_frag},shadow:{uniforms:C([bs.lights,bs.fog,{color:{value:new No(0)},opacity:{value:1}}]),vertexShader:xs.shadow_vert,fragmentShader:xs.shadow_frag}};_s.physical={uniforms:C([_s.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new sa(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new No(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:xs.meshphysical_vert,fragmentShader:xs.meshphysical_frag},((H.prototype=Object.create(p.prototype)).constructor=H).prototype.isCubeTexture=!0,Object.defineProperty(H.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),((k.prototype=Object.create(p.prototype)).constructor=k).prototype.isDataTexture2DArray=!0,((V.prototype=Object.create(p.prototype)).constructor=V).prototype.isDataTexture3D=!0;var ws=new p,Ms=new k,Ss=new V,Ts=new H,Es=[],As=[],Ls=new Float32Array(16),Rs=new Float32Array(9),Ps=new Float32Array(4);Ut.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),q(e,t)},Ft.prototype.setValue=function(t,e,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(t,e[o.id],n)}};var Cs=/([\w\d_]+)(\])?(\[|\.)?/g;Ht.prototype.setValue=function(t,e,n,r){void 0!==(e=this.map[e])&&e.setValue(t,n,r)},Ht.prototype.setOptional=function(t,e,n){void 0!==(e=e[n])&&this.setValue(t,n,e)},Ht.upload=function(t,e,n,r){for(var i=0,a=e.length;i!==a;++i){var o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},Ht.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var a=t[r];a.id in e&&n.push(a)}return n};var Os=0,Is=/^[ \t]*#include +<([\w\d./]+)>/gm,Ds=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ns=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g,Bs=0;((ue.prototype=Object.create(s.prototype)).constructor=ue).prototype.isMeshDepthMaterial=!0,ue.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},((pe.prototype=Object.create(s.prototype)).constructor=pe).prototype.isMeshDistanceMaterial=!0,pe.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},ve.prototype=Object.assign(Object.create(D.prototype),{constructor:ve,isArrayCamera:!0}),ye.prototype=Object.assign(Object.create(d.prototype),{constructor:ye,isGroup:!0}),Object.assign(xe.prototype,{constructor:xe,getHandSpace:function(){if(null===this._hand&&(this._hand=new ye,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(var t=0;t<=window.XRHand.LITTLE_PHALANX_TIP;t++){var e=new ye;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new ye,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new ye,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,c=this._hand;if(t)if(c&&t.hand){a=!0;for(var l=0;l<=window.XRHand.LITTLE_PHALANX_TIP;l++)if(t.hand[l]){var h=e.getJointPose(t.hand[l],n),u=c.joints[l];null!==h&&(u.matrix.fromArray(h.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.jointRadius=h.radius),u.visible=null!==h,h=c.joints[window.XRHand.INDEX_PHALANX_TIP].position.distanceTo(c.joints[window.XRHand.THUMB_PHALANX_TIP].position),c.inputState.pinching&&.025<h?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&h<=.015&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}}else null!==o&&(null!==(r=e.getPose(t.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==s&&t.gripSpace&&(null!==(i=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==c&&(c.visible=null!==a),this}}),Object.assign(be.prototype,e.prototype),Me.prototype=Object.assign(Object.create(we.prototype),{constructor:Me,isWebGL1Renderer:!0});var zs=function(t,e){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new No(t),this.density=void 0!==e?e:25e-5};zs.prototype.clone=function(){return new zs(this.color,this.density)},zs.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};var Gs=function(t,e,n){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new No(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3};Gs.prototype.clone=function(){return new Gs(this.color,this.near,this.far)},Gs.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},((Se.prototype=Object.create(d.prototype)).constructor=Se).prototype.copy=function(t,e){return d.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},Se.prototype.toJSON=function(t){var e=d.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},Object.defineProperty(Te.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Te.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oa.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer),(t=new Te(t=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride)).setUsage(this.usage),t},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oa.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var Us=new va;Object.defineProperties(Ee.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(Ee.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var e=0,n=this.data.count;e<n;e++)Us.x=this.getX(e),Us.y=this.getY(e),Us.z=this.getZ(e),Us.applyMatrix4(t),this.setXYZ(e,Us.x,Us.y,Us.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this},clone:function(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ee(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data."),t=[];for(var e=0;e<this.count;e++)for(var n=e*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[n+r]);return new A(new this.array.constructor(t),this.itemSize,this.normalized)},toJSON:function(t){if(void 0!==t)return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data."),t=[];for(var e=0;e<this.count;e++)for(var n=e*this.data.stride+this.offset,r=0;r<this.itemSize;r++)t.push(this.data.array[n+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}),((Ae.prototype=Object.create(s.prototype)).constructor=Ae).prototype.isSpriteMaterial=!0,Ae.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var Fs,Hs=new va,ks=new va,Vs=new va,js=new sa,Ws=new sa,qs=new ja,Xs=new va,Ys=new va,Zs=new va,Js=new sa,Qs=new sa,Ks=new sa;Le.prototype=Object.assign(Object.create(d.prototype),{constructor:Le,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ks.setFromMatrixScale(this.matrixWorld),qs.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Vs.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ks.multiplyScalar(-Vs.z);var n=this.material.rotation;if(0!==n)var r=Math.cos(n),i=Math.sin(n);n=this.center,Re(Xs.set(-.5,-.5,0),Vs,n,ks,i,r),Re(Ys.set(.5,-.5,0),Vs,n,ks,i,r),Re(Zs.set(.5,.5,0),Vs,n,ks,i,r),Js.set(0,0),Qs.set(1,0),Ks.set(1,1);var a=t.ray.intersectTriangle(Xs,Ys,Zs,!1,Hs);null===a&&(Re(Ys.set(-.5,.5,0),Vs,n,ks,i,r),Qs.set(0,1),null===(a=t.ray.intersectTriangle(Xs,Zs,Ys,!1,Hs)))||(i=t.ray.origin.distanceTo(Hs))<t.near||i>t.far||e.push({distance:i,point:Hs.clone(),uv:Co.getUV(Hs,Xs,Ys,Zs,Js,Qs,Ks,new sa),face:null,object:this})},copy:function(t){return d.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});var $s,tc,ec,nc,rc,ic=new va,ac=new va;Pe.prototype=Object.assign(Object.create(d.prototype),{constructor:Pe,isLOD:!0,copy:function(t){d.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);var n,r=this.levels;for(n=0;n<r.length&&!(e<r[n].distance);n++);return r.splice(n,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){var e=this.levels;if(0<e.length){var n,r=1;for(n=e.length;r<n&&!(t<e[r].distance);r++);return e[r-1].object}return null},raycast:function(t,e){if(0<this.levels.length){ic.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(ic);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){var e=this.levels;if(1<e.length){var n;ic.setFromMatrixPosition(t.matrixWorld),ac.setFromMatrixPosition(this.matrixWorld),t=ic.distanceTo(ac)/t.zoom,e[0].object.visible=!0;var r=1;for(n=e.length;r<n&&t>=e[r].distance;r++)e[r-1].object.visible=!1,e[r].object.visible=!0;for(this._currentLevel=r-1;r<n;r++)e[r].object.visible=!1}},toJSON:function(t){t=d.prototype.toJSON.call(this,t),!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var e=this.levels,n=0,r=e.length;n<r;n++){var i=e[n];t.object.levels.push({object:i.object.uuid,distance:i.distance})}return t}}),Ce.prototype=Object.assign(Object.create(L.prototype),{constructor:Ce,isSkinnedMesh:!0,copy:function(t){return L.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new da,e=this.geometry.attributes.skinWeight,n=0,r=e.count;n<r;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var i=1/t.manhattanLength();1/0!==i?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){L.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:($s=new va,tc=new da,ec=new da,nc=new va,rc=new ja,function(t,e){var n=this.skeleton,r=this.geometry;for(tc.fromBufferAttribute(r.attributes.skinIndex,t),ec.fromBufferAttribute(r.attributes.skinWeight,t),$s.fromBufferAttribute(r.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0),t=0;t<4;t++)if(0!==(r=ec.getComponent(t))){var i=tc.getComponent(t);rc.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),e.addScaledVector(nc.copy($s).applyMatrix4(rc),r)}return e.applyMatrix4(this.bindMatrixInverse)})});var oc=new ja,sc=new ja;Object.assign(Oe.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new ja;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t];n&&n.matrixWorld.getInverse(this.boneInverses[t])}for(t=0,e=this.bones.length;t<e;t++)(n=this.bones[t])&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))},update:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=t.length;i<a;i++)oc.multiplyMatrices(t[i]?t[i].matrixWorld:sc,e[i]),oc.toArray(n,16*i);void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Oe(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e];if(r.name===t)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),Ie.prototype=Object.assign(Object.create(d.prototype),{constructor:Ie,isBone:!0});var cc=new ja,lc=new ja,hc=[],uc=new L;De.prototype=Object.assign(Object.create(L.prototype),{constructor:De,isInstancedMesh:!0,copy:function(t){return L.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),this.count=t.count,this},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new A(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){var n=this.matrixWorld,r=this.count;if(uc.geometry=this.geometry,uc.material=this.material,void 0!==uc.material)for(var i=0;i<r;i++){this.getMatrixAt(i,cc),lc.multiplyMatrices(n,cc),uc.matrixWorld=lc,uc.raycast(t,hc);for(var a=0,o=hc.length;a<o;a++){var s=hc[a];s.instanceId=i,s.object=this,e.push(s)}hc.length=0}},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),((Ne.prototype=Object.create(s.prototype)).constructor=Ne).prototype.isLineBasicMaterial=!0,Ne.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};var pc=new va,dc=new va,fc=new ja,mc=new Va,gc=new Na;Be.prototype=Object.assign(Object.create(d.prototype),{constructor:Be,isLine:!0,copy:function(t){return d.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],r=1,i=e.count;r<i;r++)pc.fromBufferAttribute(e,r-1),dc.fromBufferAttribute(e,r),n[r]=n[r-1],n[r]+=pc.distanceTo(dc);t.setAttribute("lineDistance",new R(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(e=t.vertices,(t=t.lineDistances)[0]=0,n=1,r=e.length;n<r;n++)t[n]=t[n-1],t[n]+=e[n-1].distanceTo(e[n]);return this},raycast:function(t,e){var n=this.geometry,r=this.matrixWorld,i=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),gc.copy(n.boundingSphere),gc.applyMatrix4(r),gc.radius+=i,!1!==t.ray.intersectsSphere(gc)){fc.getInverse(r),mc.copy(t.ray).applyMatrix4(fc),r=i/((this.scale.x+this.scale.y+this.scale.z)/3),r*=r;var a=new va,o=new va;i=new va;var s=new va,c=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var l=n.index;if(n=n.attributes.position.array,null!==l)for(var h=0,u=(l=l.array).length-1;h<u;h+=c){var p=l[h+1];a.fromArray(n,3*l[h]),o.fromArray(n,3*p),mc.distanceSqToSegment(a,o,s,i)>r||(s.applyMatrix4(this.matrixWorld),(p=t.ray.origin.distanceTo(s))<t.near||p>t.far||e.push({distance:p,point:i.clone().applyMatrix4(this.matrixWorld),index:h,face:null,faceIndex:null,object:this}))}else for(l=0,h=n.length/3-1;l<h;l+=c)a.fromArray(n,3*l),o.fromArray(n,3*l+3),mc.distanceSqToSegment(a,o,s,i)>r||(s.applyMatrix4(this.matrixWorld),(u=t.ray.origin.distanceTo(s))<t.near||u>t.far||e.push({distance:u,point:i.clone().applyMatrix4(this.matrixWorld),index:l,face:null,faceIndex:null,object:this}))}else if(n.isGeometry)for(o=(a=n.vertices).length,n=0;n<o-1;n+=c)mc.distanceSqToSegment(a[n],a[n+1],s,i)>r||(s.applyMatrix4(this.matrixWorld),(l=t.ray.origin.distanceTo(s))<t.near||l>t.far||e.push({distance:l,point:i.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var e=Object.keys(t);if(0<e.length&&void 0!==(t=t[e[0]])){this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0;for(var n=t.length;e<n;e++){var r=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}}else void 0!==(t=t.morphTargets)&&0<t.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}});var vc=new va,yc=new va;ze.prototype=Object.assign(Object.create(Be.prototype),{constructor:ze,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],r=0,i=e.count;r<i;r+=2)vc.fromBufferAttribute(e,r),yc.fromBufferAttribute(e,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+vc.distanceTo(yc);t.setAttribute("lineDistance",new R(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(e=t.vertices,t=t.lineDistances,n=0,r=e.length;n<r;n+=2)vc.copy(e[n]),yc.copy(e[n+1]),t[n]=0===n?0:t[n-1],t[n+1]=t[n]+vc.distanceTo(yc);return this}}),Ge.prototype=Object.assign(Object.create(Be.prototype),{constructor:Ge,isLineLoop:!0}),((Ue.prototype=Object.create(s.prototype)).constructor=Ue).prototype.isPointsMaterial=!0,Ue.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};var xc=new ja,bc=new Va,_c=new Na,wc=new va;Fe.prototype=Object.assign(Object.create(d.prototype),{constructor:Fe,isPoints:!0,copy:function(t){return d.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){var n=this.geometry,r=this.matrixWorld,i=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),_c.copy(n.boundingSphere),_c.applyMatrix4(r),_c.radius+=i,!1!==t.ray.intersectsSphere(_c))if(xc.getInverse(r),bc.copy(t.ray).applyMatrix4(xc),i/=(this.scale.x+this.scale.y+this.scale.z)/3,i*=i,n.isBufferGeometry){var a=n.index;if(n=n.attributes.position.array,null!==a)for(var o=0,s=(a=a.array).length;o<s;o++){var c=a[o];wc.fromArray(n,3*c),He(wc,c,i,r,t,e,this)}else for(a=0,o=n.length/3;a<o;a++)wc.fromArray(n,3*a),He(wc,a,i,r,t,e,this)}else for(a=0,o=(n=n.vertices).length;a<o;a++)He(n[a],a,i,r,t,e,this)},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var e=Object.keys(t);if(0<e.length&&void 0!==(t=t[e[0]])){this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0;for(var n=t.length;e<n;e++){var r=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[r]=e}}}else void 0!==(t=t.morphTargets)&&0<t.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}),ke.prototype=Object.assign(Object.create(p.prototype),{constructor:ke,isVideoTexture:!0,update:function(){var t=this.image;!1=="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),((Ve.prototype=Object.create(p.prototype)).constructor=Ve).prototype.isCompressedTexture=!0,((je.prototype=Object.create(p.prototype)).constructor=je).prototype.isCanvasTexture=!0,((We.prototype=Object.create(p.prototype)).constructor=We).prototype.isDepthTexture=!0,(qe.prototype=Object.create(P.prototype)).constructor=qe,(Xe.prototype=Object.create(w.prototype)).constructor=Xe,(Ye.prototype=Object.create(P.prototype)).constructor=Ye,(Ze.prototype=Object.create(w.prototype)).constructor=Ze,(Je.prototype=Object.create(P.prototype)).constructor=Je,(Qe.prototype=Object.create(w.prototype)).constructor=Qe,(Ke.prototype=Object.create(Je.prototype)).constructor=Ke,($e.prototype=Object.create(w.prototype)).constructor=$e,(tn.prototype=Object.create(Je.prototype)).constructor=tn,(en.prototype=Object.create(w.prototype)).constructor=en,(nn.prototype=Object.create(Je.prototype)).constructor=nn,(rn.prototype=Object.create(w.prototype)).constructor=rn,(an.prototype=Object.create(Je.prototype)).constructor=an,(on.prototype=Object.create(w.prototype)).constructor=on,((sn.prototype=Object.create(P.prototype)).constructor=sn).prototype.toJSON=function(){var t=P.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},(cn.prototype=Object.create(w.prototype)).constructor=cn,(ln.prototype=Object.create(P.prototype)).constructor=ln,(hn.prototype=Object.create(w.prototype)).constructor=hn,(un.prototype=Object.create(P.prototype)).constructor=un;var Mc=function(t,e,n){n=n||2;var r,i=e&&e.length,a=i?e[0]*n:t.length,o=pn(t,0,a,n,!0),s=[];if(!o||o.next===o.prev)return s;if(i){var c,l=n;i=[];var h=0;for(c=e.length;h<c;h++){var u=e[h]*l;(u=pn(t,u,h<c-1?e[h+1]*l:t.length,l,!1))===u.next&&(u.steiner=!0),i.push(yn(u))}for(i.sort(mn),h=0;h<i.length;h++)(e=gn(l=i[h],e=o))&&(l=En(e,l),dn(e,e.next),dn(l,l.next)),o=dn(o,o.next)}if(t.length>80*n){var p=r=t[0],d=i=t[1];for(l=n;l<a;l+=n)(h=t[l])<p&&(p=h),(e=t[l+1])<d&&(d=e),r<h&&(r=h),i<e&&(i=e);r=0!==(r=Math.max(r-p,i-d))?1/r:0}return function t(e,n,r,i,a,o,s){if(e){if(!s&&o){for(var c=e,l=c;null===l.z&&(l.z=vn(l.x,l.y,i,a,o)),l.prevZ=l.prev,(l=l.nextZ=l.next)!==c;);l.prevZ.nextZ=null,l.prevZ=null,c=l;var h,u,p,d,f=1;do{l=c;var m=c=null;for(u=0;l;){u++;var g=l;for(h=p=0;h<f&&(p++,g=g.nextZ);h++);for(d=f;0<p||0<d&&g;)0!==p&&(0===d||!g||l.z<=g.z)?(l=(h=l).nextZ,p--):(g=(h=g).nextZ,d--),m?m.nextZ=h:c=h,h.prevZ=m,m=h;l=g}m.nextZ=null,f*=2}while(1<u)}for(c=e;e.prev!==e.next;){if(l=e.prev,g=e.next,o)m=fn(e,i,a,o);else t:if(m=e,u=m.prev,p=m,f=m.next,0<=bn(u,p,f))m=!1;else{for(h=m.next.next;h!==m.prev;){if(xn(u.x,u.y,p.x,p.y,f.x,f.y,h.x,h.y)&&0<=bn(h.prev,h,h.next)){m=!1;break t}h=h.next}m=!0}if(m)n.push(l.i/r),n.push(e.i/r),n.push(g.i/r),Ln(e),c=e=g.next;else if((e=g)===c){if(s){if(1===s){for(s=n,c=r,l=e=dn(e);!_n(g=l.prev,m=l.next.next)&&wn(g,l,l.next,m)&&Tn(g,m)&&Tn(m,g)&&(s.push(g.i/c),s.push(l.i/c),s.push(m.i/c),Ln(l),Ln(l.next),l=e=m),(l=l.next)!==e;);t(e=dn(l),n,r,i,a,o,2)}else if(2===s)t:{s=e;do{for(c=s.next.next;c!==s.prev;){if(l=s.i!==c.i){if(g=c,m=(l=s).next.i!==g.i&&l.prev.i!==g.i){e:{m=l;do{if(m.i!==l.i&&m.next.i!==l.i&&m.i!==g.i&&m.next.i!==g.i&&wn(m,m.next,l,g)){m=!0;break e}m=m.next}while(m!==l);m=!1}m=!m}if(m){if(m=Tn(l,g)&&Tn(g,l)){for(u=!1,p=((m=l).x+g.x)/2,f=(l.y+g.y)/2;m.y>f!=m.next.y>f&&m.next.y!==m.y&&p<(m.next.x-m.x)*(f-m.y)/(m.next.y-m.y)+m.x&&(u=!u),(m=m.next)!==l;);m=u}m=m&&(bn(l.prev,l,g.prev)||bn(l,g.prev,g))||_n(l,g)&&0<bn(l.prev,l,l.next)&&0<bn(g.prev,g,g.next)}l=m}if(l){e=En(s,c),s=dn(s,s.next),e=dn(e,e.next),t(s,n,r,i,a,o),t(e,n,r,i,a,o);break t}c=c.next}s=s.next}while(s!==e)}}else t(dn(e),n,r,i,a,o,1);break}}}}(o,s,n,p,d,r),s},Sc={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},isClockWise:function(t){return Sc.area(t)<0},triangulateShape:function(t,e){var n=[],r=[],i=[];Pn(t),Cn(n,t),t=t.length,e.forEach(Pn);for(var a=0;a<e.length;a++)r.push(t),t+=e[a].length,Cn(n,e[a]);for(e=Mc(n,r),n=0;n<e.length;n+=3)i.push(e.slice(n,n+3));return i}};((On.prototype=Object.create(w.prototype)).constructor=On).prototype.toJSON=function(){var t=w.prototype.toJSON.call(this);return Dn(this.parameters.shapes,this.parameters.options,t)},((In.prototype=Object.create(P.prototype)).constructor=In).prototype.toJSON=function(){var t=P.prototype.toJSON.call(this);return Dn(this.parameters.shapes,this.parameters.options,t)};var Tc={generateTopUV:function(t,e,n,r,i){t=e[3*r],r=e[3*r+1];var a=e[3*i];return i=e[3*i+1],[new sa(e[3*n],e[3*n+1]),new sa(t,r),new sa(a,i)]},generateSideWallUV:function(t,e,n,r,i,a){t=e[3*n];var o=e[3*n+1];n=e[3*n+2];var s=e[3*r],c=e[3*r+1];r=e[3*r+2];var l=e[3*i],h=e[3*i+1];i=e[3*i+2];var u=e[3*a],p=e[3*a+1];return e=e[3*a+2],Math.abs(o-c)<.01?[new sa(t,1-n),new sa(s,1-r),new sa(l,1-i),new sa(u,1-e)]:[new sa(o,1-n),new sa(c,1-r),new sa(h,1-i),new sa(p,1-e)]}};(Nn.prototype=Object.create(w.prototype)).constructor=Nn,(Bn.prototype=Object.create(In.prototype)).constructor=Bn,(zn.prototype=Object.create(w.prototype)).constructor=zn,(Gn.prototype=Object.create(P.prototype)).constructor=Gn,(Un.prototype=Object.create(w.prototype)).constructor=Un,(Fn.prototype=Object.create(P.prototype)).constructor=Fn,(Hn.prototype=Object.create(w.prototype)).constructor=Hn,(kn.prototype=Object.create(P.prototype)).constructor=kn,((Vn.prototype=Object.create(w.prototype)).constructor=Vn).prototype.toJSON=function(){var t=w.prototype.toJSON.call(this);return Wn(this.parameters.shapes,t)},((jn.prototype=Object.create(P.prototype)).constructor=jn).prototype.toJSON=function(){var t=P.prototype.toJSON.call(this);return Wn(this.parameters.shapes,t)},(qn.prototype=Object.create(P.prototype)).constructor=qn,(Xn.prototype=Object.create(w.prototype)).constructor=Xn,(Yn.prototype=Object.create(P.prototype)).constructor=Yn,(Zn.prototype=Object.create(Xn.prototype)).constructor=Zn,(Jn.prototype=Object.create(Yn.prototype)).constructor=Jn,(Qn.prototype=Object.create(w.prototype)).constructor=Qn,(Kn.prototype=Object.create(P.prototype)).constructor=Kn;var Ec=Object.freeze({__proto__:null,WireframeGeometry:qe,ParametricGeometry:Xe,ParametricBufferGeometry:Ye,TetrahedronGeometry:Qe,TetrahedronBufferGeometry:Ke,OctahedronGeometry:$e,OctahedronBufferGeometry:tn,IcosahedronGeometry:en,IcosahedronBufferGeometry:nn,DodecahedronGeometry:rn,DodecahedronBufferGeometry:an,PolyhedronGeometry:Ze,PolyhedronBufferGeometry:Je,TubeGeometry:on,TubeBufferGeometry:sn,TorusKnotGeometry:cn,TorusKnotBufferGeometry:ln,TorusGeometry:hn,TorusBufferGeometry:un,TextGeometry:Nn,TextBufferGeometry:Bn,SphereGeometry:zn,SphereBufferGeometry:Gn,RingGeometry:Un,RingBufferGeometry:Fn,PlaneGeometry:z,PlaneBufferGeometry:G,LatheGeometry:Hn,LatheBufferGeometry:kn,ShapeGeometry:Vn,ShapeBufferGeometry:jn,ExtrudeGeometry:On,ExtrudeBufferGeometry:In,EdgesGeometry:qn,ConeGeometry:Zn,ConeBufferGeometry:Jn,CylinderGeometry:Xn,CylinderBufferGeometry:Yn,CircleGeometry:Qn,CircleBufferGeometry:Kn,BoxGeometry:M,BoxBufferGeometry:S});(($n.prototype=Object.create(s.prototype)).constructor=$n).prototype.isShadowMaterial=!0,$n.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.color.copy(t.color),this},((tr.prototype=Object.create(O.prototype)).constructor=tr).prototype.isRawShaderMaterial=!0,((er.prototype=Object.create(s.prototype)).constructor=er).prototype.isMeshStandardMaterial=!0,er.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},((nr.prototype=Object.create(er.prototype)).constructor=nr).prototype.isMeshPhysicalMaterial=!0,nr.prototype.copy=function(t){return er.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,this.sheen=t.sheen?(this.sheen||new No).copy(t.sheen):null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},((rr.prototype=Object.create(s.prototype)).constructor=rr).prototype.isMeshPhongMaterial=!0,rr.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((ir.prototype=Object.create(s.prototype)).constructor=ir).prototype.isMeshToonMaterial=!0,ir.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((ar.prototype=Object.create(s.prototype)).constructor=ar).prototype.isMeshNormalMaterial=!0,ar.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((or.prototype=Object.create(s.prototype)).constructor=or).prototype.isMeshLambertMaterial=!0,or.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((sr.prototype=Object.create(s.prototype)).constructor=sr).prototype.isMeshMatcapMaterial=!0,sr.prototype.copy=function(t){return s.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},((cr.prototype=Object.create(Ne.prototype)).constructor=cr).prototype.isLineDashedMaterial=!0,cr.prototype.copy=function(t){return Ne.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Ac=Object.freeze({__proto__:null,ShadowMaterial:$n,SpriteMaterial:Ae,RawShaderMaterial:tr,ShaderMaterial:O,PointsMaterial:Ue,MeshPhysicalMaterial:nr,MeshStandardMaterial:er,MeshPhongMaterial:rr,MeshToonMaterial:ir,MeshNormalMaterial:ar,MeshLambertMaterial:or,MeshDepthMaterial:ue,MeshDistanceMaterial:pe,MeshBasicMaterial:c,MeshMatcapMaterial:sr,LineDashedMaterial:cr,LineBasicMaterial:Ne,Material:s}),Lc={arraySlice:function(t,e,n){return Lc.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(n){for(var t=n.length,e=Array(t),r=0;r!==t;++r)e[r]=r;return e.sort(function(t,e){return n[t]-n[e]}),e},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*e,c=0;c!==e;++c)i[o++]=t[s+c];return i},flattenJSON:function(t,e,n,r){for(var i=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))for(;void 0!==(o=a[r])&&(e.push(a.time),n.push.apply(n,o)),void 0!==(a=t[i++]););else if(void 0!==o.toArray)for(;void 0!==(o=a[r])&&(e.push(a.time),o.toArray(n,n.length)),void 0!==(a=t[i++]););else for(;void 0!==(o=a[r])&&(e.push(a.time),n.push(o)),void 0!==(a=t[i++]););}},subclip:function(t,e,n,r,i){i=i||30,(t=t.clone()).name=e,e=[];for(var a=0;a<t.tracks.length;++a){for(var o=t.tracks[a],s=o.getValueSize(),c=[],l=[],h=0;h<o.times.length;++h){var u=o.times[h]*i;if(!(u<n||r<=u))for(c.push(o.times[h]),u=0;u<s;++u)l.push(o.values[h*s+u])}0!==c.length&&(o.times=Lc.convertArray(c,o.times.constructor),o.values=Lc.convertArray(l,o.values.constructor),e.push(o))}for(t.tracks=e,n=1/0,r=0;r<t.tracks.length;++r)n>t.tracks[r].times[0]&&(n=t.tracks[r].times[0]);for(r=0;r<t.tracks.length;++r)t.tracks[r].shift(-1*n);return t.resetDuration(),t},makeClipAdditive:function(u,t,p,e){void 0===t&&(t=0),void 0===p&&(p=u),(void 0===e||e<=0)&&(e=30);var n=u.tracks.length,d=t/e;for(t=function(t){var e=p.tracks[t],n=e.ValueTypeName;if("bool"!==n&&"string"!==n&&void 0!==(t=u.tracks.find(function(t){return t.name===e.name&&t.ValueTypeName===n}))){var r=0,i=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(r=i/3);var a=0,o=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=o/3);var s=e.times.length-1,c=void 0;for(c=d<=e.times[0]?Lc.arraySlice(e.values,r,i-r):d>=e.times[s]?(c=s*i+r,Lc.arraySlice(e.values,c,c+i-r)):(r=i-(s=r),(c=e.createInterpolant()).evaluate(d),Lc.arraySlice(c.resultBuffer,s,r)),"quaternion"===n&&(new ma).fromArray(c).normalize().conjugate().toArray(c),r=t.times.length,i=0;i<r;++i)if(s=i*o+a,"quaternion"===n)ma.multiplyQuaternionsFlat(t.values,s,c,0,t.values,s);else for(var l=o-2*a,h=0;h<l;++h)t.values[s+h]-=c[h]}},e=0;e<n;++e)t(e);return u.blendMode=2501,u}};Object.assign(lr.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{n:{r:if(!(t<r)){for(var a=n+2;;){if(void 0===r){if(t<i)break r;return this._cachedIndex=n=e.length,this.afterEnd_(n-1,t,i)}if(n===a)break;if(i=r,t<(r=e[++n]))break e}r=e.length;break n}if(i<=t)break t;for(t<(a=e[1])&&(n=2,i=a),a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===a)break;if(r=i,(i=e[--n-1])<=t)break e}r=n,n=0}for(;n<r;)t<e[i=n+r>>>1]?r=i:n=i+1;if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return this._cachedIndex=n=e.length,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize;t*=r;for(var i=0;i!==r;++i)e[i]=n[t+i];return e},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(lr.prototype,{beforeStart_:lr.prototype.copySampleValue_,afterEnd_:lr.prototype.copySampleValue_}),hr.prototype=Object.assign(Object.create(lr.prototype),{constructor:hr,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,a=t+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=t,o=2*e-n;break;case 2402:o=e+r[i=r.length-2]-r[i+1];break;default:i=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=t,s=2*n-e;break;case 2402:s=n+r[a=1]-r[0];break;default:a=t-1,s=e}t=.5*(n-e),r=this.valueSize,this._weightPrev=t/(e-o),this._weightNext=t/(s-n),this._offsetPrev=i*r,this._offsetNext=a*r},interpolate_:function(t,e,n,r){var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(t*=o)-o,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,u=this._weightNext,p=(n-e)/(r-e);for(e=-h*(r=(n=p*p)*p)+2*h*n-h*p,h=(1+h)*r+(-1.5-2*h)*n+(-.5+h)*p+1,p=(-1-u)*r+(1.5+u)*n+.5*p,u=u*r-u*n,n=0;n!==o;++n)i[n]=e*a[c+n]+h*a[s+n]+p*a[t+n]+u*a[l+n];return i}}),ur.prototype=Object.assign(Object.create(lr.prototype),{constructor:ur,interpolate_:function(t,e,n,r){var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(t*=o)-o;for(n=1-(e=(n-e)/(r-e)),r=0;r!==o;++r)i[r]=a[s+r]*n+a[t+r]*e;return i}}),pr.prototype=Object.assign(Object.create(lr.prototype),{constructor:pr,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(dr,{toJSON:function(t){var e=t.constructor;if(void 0!==e.toJSON)e=e.toJSON(t);else{e={name:t.name,times:Lc.convertArray(t.times,Array),values:Lc.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e}}),Object.assign(dr.prototype,{constructor:dr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new pr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new ur(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new hr(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){switch(t){case 2300:var e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)return this.createInterpolant=e,this;if(e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<t;)++i;for(;-1!==a&&n[a]>e;)--a;return++a,0===i&&a===r||(a<=i&&(i=(a=Math.max(a,1))-1),t=this.getValueSize(),this.times=Lc.arraySlice(n,i,a),this.values=Lc.arraySlice(this.values,i*t,a*t)),this},validate:function(){var t=!0,e=this.getValueSize();0!=e-Math.floor(e)&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times;e=this.values;var r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var i=null,a=0;a!==r;a++){var o=n[a];if("number"==typeof o&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,o),t=!1;break}if(null!==i&&o<i){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,o,i),t=!1;break}i=o}if(void 0!==e&&Lc.isTypedArray(e))for(n=0,r=e.length;n!==r;++n)if(i=e[n],isNaN(i)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,n,i),t=!1;break}return t},optimize:function(){for(var t=Lc.arraySlice(this.times),e=Lc.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=t.length-1,a=1,o=1;o<i;++o){var s=!1,c=t[o];if(c!==t[o+1]&&(1!==o||c!==c[0]))if(r)s=!0;else for(var l=(c=o*n)-n,h=c+n,u=0;u!==n;++u){var p=e[c+u];if(p!==e[l+u]||p!==e[h+u]){s=!0;break}}if(s){if(o!==a)for(t[a]=t[o],s=o*n,c=a*n,l=0;l!==n;++l)e[c+l]=e[s+l];++a}}if(0<i){for(t[a]=t[i],r=i*n,i=a*n,o=0;o!==n;++o)e[i+o]=e[r+o];++a}return a!==t.length?(this.times=Lc.arraySlice(t,0,a),this.values=Lc.arraySlice(e,0,a*n)):(this.times=t,this.values=e),this},clone:function(){var t=Lc.arraySlice(this.times,0),e=Lc.arraySlice(this.values,0);return(t=new this.constructor(this.name,t,e)).createInterpolant=this.createInterpolant,t}}),fr.prototype=Object.assign(Object.create(dr.prototype),{constructor:fr,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),mr.prototype=Object.assign(Object.create(dr.prototype),{constructor:mr,ValueTypeName:"color"}),gr.prototype=Object.assign(Object.create(dr.prototype),{constructor:gr,ValueTypeName:"number"}),vr.prototype=Object.assign(Object.create(lr.prototype),{constructor:vr,interpolate_:function(t,e,n,r){var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize;for(e=(n-e)/(r-e),n=(t*=o)+o;t!==n;t+=4)ma.slerpFlat(i,0,a,t-o,a,t,e);return i}}),yr.prototype=Object.assign(Object.create(dr.prototype),{constructor:yr,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new vr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),xr.prototype=Object.assign(Object.create(dr.prototype),{constructor:xr,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),br.prototype=Object.assign(Object.create(dr.prototype),{constructor:br,ValueTypeName:"vector"}),Object.assign(_r,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,a=n.length;i!==a;++i)e.push(wr(n[i]).scale(r));return new _r(t.name,t.duration,e,t.blendMode)},toJSON:function(t){var e=[],n=t.tracks;t={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(var r=0,i=n.length;r!==i;++r)e.push(dr.toJSON(n[r]));return t},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,a=[],o=0;o<i;o++){var s=[],c=[];s.push((o+i-1)%i,o,(o+1)%i),c.push(0,1,0);var l=Lc.getKeyframeOrder(s);s=Lc.sortedArray(s,1,l),c=Lc.sortedArray(c,1,l),r||0!==s[0]||(s.push(i),c.push(c[0])),a.push(new gr(".morphTargetInfluences["+e[o].name+"]",s,c).scale(1/n))}return new _r(t,-1,a)},findByName:function(t,e){var n=t;for(Array.isArray(t)||(n=t.geometry&&t.geometry.animations||t.animations),t=0;t<n.length;t++)if(n[t].name===e)return n[t];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],c=s.name.match(i);if(c&&1<c.length){var l=r[c=c[1]];l||(r[c]=l=[]),l.push(s)}}for(var h in t=[],r)t.push(_r.CreateFromMorphTargetSequence(h,r[h],e,n));return t},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var n=function(t,e,n,r,i){if(0!==n.length){var a=[],o=[];Lc.flattenJSON(n,a,o,r),0!==a.length&&i.push(new t(e,a,o))}},r=[],i=t.name||"default",a=t.fps||30,o=t.blendMode,s=t.length||-1;t=t.hierarchy||[];for(var c=0;c<t.length;c++){var l=t[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){s={};var h=void 0;for(h=0;h<l.length;h++)if(l[h].morphTargets)for(var u=0;u<l[h].morphTargets.length;u++)s[l[h].morphTargets[u]]=-1;for(var p in s){u=[];for(var d=[],f=0;f!==l[h].morphTargets.length;++f){var m=l[h];u.push(m.time),d.push(m.morphTarget===p?1:0)}r.push(new gr(".morphTargetInfluence["+p+"]",u,d))}s=s.length*(a||1)}else n(br,(h=".bones["+e[c].name+"]")+".position",l,"pos",r),n(yr,h+".quaternion",l,"rot",r),n(br,h+".scale",l,"scl",r)}return 0===r.length?null:new _r(i,s,r,o)}}),Object.assign(_r.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new _r(this.name,this.duration,t,this.blendMode)}});var Rc={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Pc=new Mr;Object.assign(Sr.prototype,{load:function(){},loadAsync:function(n,r){var i=this;return new Promise(function(t,e){i.load(n,t,r,e)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var Cc={};Tr.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Tr,load:function(a,t,e,n){void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);var o=this,r=Rc.get(a);if(void 0!==r)return o.manager.itemStart(a),setTimeout(function(){t&&t(r),o.manager.itemEnd(a)},0),r;if(void 0===Cc[a]){var i=a.match(/^data:(.*?)(;base64)?,(.*)$/);if(i){e=i[1];var s=!!i[2];i=i[3],i=decodeURIComponent(i),s&&(i=atob(i));try{var c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":var l=new Uint8Array(i.length);for(s=0;s<i.length;s++)l[s]=i.charCodeAt(s);var h="blob"===c?new Blob([l.buffer],{type:e}):l.buffer;break;case"document":h=(new DOMParser).parseFromString(i,e);break;case"json":h=JSON.parse(i);break;default:h=i}setTimeout(function(){t&&t(h),o.manager.itemEnd(a)},0)}catch(t){setTimeout(function(){n&&n(t),o.manager.itemError(a),o.manager.itemEnd(a)},0)}}else{Cc[a]=[],Cc[a].push({onLoad:t,onProgress:e,onError:n});var u=new XMLHttpRequest;for(s in u.open("GET",a,!0),u.addEventListener("load",function(t){var e=this.response,n=Cc[a];if(delete Cc[a],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Rc.add(a,e),t=0;for(var r=n.length;t<r;t++){var i=n[t];i.onLoad&&i.onLoad(e)}}else{for(e=0,r=n.length;e<r;e++)(i=n[e]).onError&&i.onError(t);o.manager.itemError(a)}o.manager.itemEnd(a)},!1),u.addEventListener("progress",function(t){for(var e=Cc[a],n=0,r=e.length;n<r;n++){var i=e[n];i.onProgress&&i.onProgress(t)}},!1),u.addEventListener("error",function(t){var e=Cc[a];delete Cc[a];for(var n=0,r=e.length;n<r;n++){var i=e[n];i.onError&&i.onError(t)}o.manager.itemError(a),o.manager.itemEnd(a)},!1),u.addEventListener("abort",function(t){var e=Cc[a];delete Cc[a];for(var n=0,r=e.length;n<r;n++){var i=e[n];i.onError&&i.onError(t)}o.manager.itemError(a),o.manager.itemEnd(a)},!1),void 0!==this.responseType&&(u.responseType=this.responseType),void 0!==this.withCredentials&&(u.withCredentials=this.withCredentials),u.overrideMimeType&&u.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)u.setRequestHeader(s,this.requestHeader[s]);u.send(null)}return o.manager.itemStart(a),u}Cc[a].push({onLoad:t,onProgress:e,onError:n})},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Er.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Er,load:function(e,n,t,r){var i=this,a=new Tr(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.load(e,function(t){try{n(i.parse(JSON.parse(t)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}},t,r)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var r=_r.parse(t[n]);e.push(r)}return e}}),Ar.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Ar,load:function(t,i,n,r){function e(e){c.load(t[e],function(t){t=a.parse(t,!0),o[e]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps},6===(l+=1)&&(1===t.mipmapCount&&(s.minFilter=1006),s.format=t.format,s.needsUpdate=!0,i&&i(s))},n,r)}var a=this,o=[],s=new Ve;s.image=o;var c=new Tr(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader);var l=0;if(Array.isArray(t))for(var h=0,u=t.length;h<u;++h)e(h);else c.load(t,function(t){if((t=a.parse(t,!0)).isCubemap)for(var e=t.mipmaps.length/t.mipmapCount,n=0;n<e;n++){o[n]={mipmaps:[]};for(var r=0;r<t.mipmapCount;r++)o[n].mipmaps.push(t.mipmaps[n*t.mipmapCount+r]),o[n].format=t.format,o[n].width=t.width,o[n].height=t.height}else s.image.width=t.width,s.image.height=t.height,s.mipmaps=t.mipmaps;1===t.mipmapCount&&(s.minFilter=1006),s.format=t.format,s.needsUpdate=!0,i&&i(s)},n,r);return s}}),Lr.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Lr,load:function(e,t,n,r){function i(){c.removeEventListener("load",i,!1),c.removeEventListener("error",a,!1),Rc.add(e,this),t&&t(this),o.manager.itemEnd(e)}function a(t){c.removeEventListener("load",i,!1),c.removeEventListener("error",a,!1),r&&r(t),o.manager.itemError(e),o.manager.itemEnd(e)}void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var o=this,s=Rc.get(e);if(void 0!==s)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;var c=document.createElementNS("http://www.w3.org/1999/xhtml","img");return c.addEventListener("load",i,!1),c.addEventListener("error",a,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(c.crossOrigin=this.crossOrigin),o.manager.itemStart(e),c.src=e,c}}),Rr.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Rr,load:function(t,n,e,r){function i(e){o.load(t[e],function(t){a.images[e]=t,6===++s&&(a.needsUpdate=!0,n&&n(a))},void 0,r)}var a=new H,o=new Lr(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var s=0;for(e=0;e<t.length;++e)i(e);return a}}),Pr.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Pr,load:function(t,e,n,r){var i=this,a=new wt,o=new Tr(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.load(t,function(t){(t=i.parse(t))&&(void 0!==t.image?a.image=t.image:void 0!==t.data&&(a.image.width=t.width,a.image.height=t.height,a.image.data=t.data),a.wrapS=void 0!==t.wrapS?t.wrapS:1001,a.wrapT=void 0!==t.wrapT?t.wrapT:1001,a.magFilter=void 0!==t.magFilter?t.magFilter:1006,a.minFilter=void 0!==t.minFilter?t.minFilter:1006,a.anisotropy=void 0!==t.anisotropy?t.anisotropy:1,void 0!==t.format&&(a.format=t.format),void 0!==t.type&&(a.type=t.type),void 0!==t.mipmaps&&(a.mipmaps=t.mipmaps,a.minFilter=1008),1===t.mipmapCount&&(a.minFilter=1006),a.needsUpdate=!0,e&&e(a,t))},n,r),a}}),Cr.prototype=Object.assign(Object.create(Sr.prototype),{constructor:Cr,load:function(e,n,t,r){var i=new p,a=new Lr(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(t){i.image=t,t=0<e.search(/\.jpe?g($|\?)/i)||0===e.search(/^data:image\/jpeg/),i.format=t?1022:1023,i.needsUpdate=!0,void 0!==n&&n(i)},t,r),i}}),Object.assign(Or.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){return t=this.getUtoTmapping(t),this.getPoint(t,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e=[],n=this.getPoint(0),r=0;e.push(0);for(var i=1;i<=t;i++){var a=this.getPoint(i/t);r+=a.distanceTo(n),e.push(r),n=a}return this.cacheArcLengths=e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n=this.getLengths(),r=n.length;e=e||t*n[r-1];for(var i,a=0,o=r-1;a<=o;)if((i=n[t=Math.floor(a+(o-a)/2)]-e)<0)a=t+1;else{if(!(0<i)){o=t;break}o=t-1}return n[t=o]===e?t/(r-1):(t+(e-(a=n[t]))/(n[t+1]-a))/(r-1)},getTangent:function(t,e){var n=t-1e-4;return n<0&&(n=0),1<(t+=1e-4)&&(t=1),n=this.getPoint(n),t=this.getPoint(t),(e=e||(n.isVector2?new sa:new va)).copy(t).sub(n).normalize(),e},getTangentAt:function(t,e){return t=this.getUtoTmapping(t),this.getTangent(t,e)},computeFrenetFrames:function(t,e){for(var n=new va,r=[],i=[],a=[],o=new va,s=new ja,c=0;c<=t;c++)r[c]=this.getTangentAt(c/t,new va),r[c].normalize();i[0]=new va,a[0]=new va,c=Number.MAX_VALUE;var l=Math.abs(r[0].x),h=Math.abs(r[0].y),u=Math.abs(r[0].z);for(l<=c&&(c=l,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),u<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]),n=1;n<=t;n++)i[n]=i[n-1].clone(),a[n]=a[n-1].clone(),o.crossVectors(r[n-1],r[n]),o.length()>Number.EPSILON&&(o.normalize(),c=Math.acos(oa.clamp(r[n-1].dot(r[n]),-1,1)),i[n].applyMatrix4(s.makeRotationAxis(o,c))),a[n].crossVectors(r[n],i[n]);if(!0===e)for(e=Math.acos(oa.clamp(i[0].dot(i[t]),-1,1)),e/=t,0<r[0].dot(o.crossVectors(i[0],i[t]))&&(e=-e),o=1;o<=t;o++)i[o].applyMatrix4(s.makeRotationAxis(r[o],e*o)),a[o].crossVectors(r[o],i[o]);return{tangents:r,normals:i,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),((Ir.prototype=Object.create(Or.prototype)).constructor=Ir).prototype.isEllipseCurve=!0,Ir.prototype.getPoint=function(t,e){e=e||new sa;for(var n=2*Math.PI,r=this.aEndAngle-this.aStartAngle,i=Math.abs(r)<Number.EPSILON;r<0;)r+=n;for(;n<r;)r-=n;r<Number.EPSILON&&(r=i?0:n),!0!==this.aClockwise||i||(r=r===n?-n:r-n),n=this.aStartAngle+t*r,t=this.aX+this.xRadius*Math.cos(n);var a=this.aY+this.yRadius*Math.sin(n);return 0!==this.aRotation&&(n=Math.cos(this.aRotation),r=Math.sin(this.aRotation),t=(i=t-this.aX)*n-(a-=this.aY)*r+this.aX,a=i*r+a*n+this.aY),e.set(t,a)},Ir.prototype.copy=function(t){return Or.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ir.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Ir.prototype.fromJSON=function(t){return Or.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},((Dr.prototype=Object.create(Ir.prototype)).constructor=Dr).prototype.isArcCurve=!0;var Oc=new va,Ic=new Nr,Dc=new Nr,Nc=new Nr;((Br.prototype=Object.create(Or.prototype)).constructor=Br).prototype.isCatmullRomCurve3=!0,Br.prototype.getPoint=function(t,e){e=e||new va;var n=this.points,r=n.length;t*=r-(this.closed?0:1);var i=Math.floor(t);if(t-=i,this.closed?i+=0<i?0:(Math.floor(Math.abs(i)/r)+1)*r:0===t&&i===r-1&&(i=r-2,t=1),this.closed||0<i)var a=n[(i-1)%r];else Oc.subVectors(n[0],n[1]).add(n[0]),a=Oc;var o=n[i%r],s=n[(i+1)%r];if(n=this.closed||i+2<r?n[(i+2)%r]:(Oc.subVectors(n[r-1],n[r-2]).add(n[r-1]),Oc),"centripetal"===this.curveType||"chordal"===this.curveType){var c="chordal"===this.curveType?.5:.25;r=Math.pow(a.distanceToSquared(o),c),(i=Math.pow(o.distanceToSquared(s),c))<1e-4&&(i=1),r<1e-4&&(r=i),(c=Math.pow(s.distanceToSquared(n),c))<1e-4&&(c=i),Ic.initNonuniformCatmullRom(a.x,o.x,s.x,n.x,r,i,c),Dc.initNonuniformCatmullRom(a.y,o.y,s.y,n.y,r,i,c),Nc.initNonuniformCatmullRom(a.z,o.z,s.z,n.z,r,i,c)}else"catmullrom"===this.curveType&&(Ic.initCatmullRom(a.x,o.x,s.x,n.x,this.tension),Dc.initCatmullRom(a.y,o.y,s.y,n.y,this.tension),Nc.initCatmullRom(a.z,o.z,s.z,n.z,this.tension));return e.set(Ic.calc(t),Dc.calc(t),Nc.calc(t)),e},Br.prototype.copy=function(t){Or.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Br.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Br.prototype.fromJSON=function(t){Or.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new va).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},((Fr.prototype=Object.create(Or.prototype)).constructor=Fr).prototype.isCubicBezierCurve=!0,Fr.prototype.getPoint=function(t,e){e=e||new sa;var n=this.v0,r=this.v1,i=this.v2,a=this.v3;return e.set(Ur(t,n.x,r.x,i.x,a.x),Ur(t,n.y,r.y,i.y,a.y)),e},Fr.prototype.copy=function(t){return Or.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Fr.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Fr.prototype.fromJSON=function(t){return Or.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},((Hr.prototype=Object.create(Or.prototype)).constructor=Hr).prototype.isCubicBezierCurve3=!0,Hr.prototype.getPoint=function(t,e){e=e||new va;var n=this.v0,r=this.v1,i=this.v2,a=this.v3;return e.set(Ur(t,n.x,r.x,i.x,a.x),Ur(t,n.y,r.y,i.y,a.y),Ur(t,n.z,r.z,i.z,a.z)),e},Hr.prototype.copy=function(t){return Or.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Hr.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Hr.prototype.fromJSON=function(t){return Or.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},((kr.prototype=Object.create(Or.prototype)).constructor=kr).prototype.isLineCurve=!0,kr.prototype.getPoint=function(t,e){return e=e||new sa,1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e},kr.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},kr.prototype.getTangent=function(t,e){return(t=e||new sa).copy(this.v2).sub(this.v1).normalize(),t},kr.prototype.copy=function(t){return Or.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},kr.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},kr.prototype.fromJSON=function(t){return Or.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((Vr.prototype=Object.create(Or.prototype)).constructor=Vr).prototype.isLineCurve3=!0,Vr.prototype.getPoint=function(t,e){return e=e||new va,1===t?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(t).add(this.v1)),e},Vr.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Vr.prototype.copy=function(t){return Or.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Vr.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Vr.prototype.fromJSON=function(t){return Or.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((jr.prototype=Object.create(Or.prototype)).constructor=jr).prototype.isQuadraticBezierCurve=!0,jr.prototype.getPoint=function(t,e){e=e||new sa;var n=this.v0,r=this.v1,i=this.v2;return e.set(Gr(t,n.x,r.x,i.x),Gr(t,n.y,r.y,i.y)),e},jr.prototype.copy=function(t){return Or.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},jr.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},jr.prototype.fromJSON=function(t){return Or.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((Wr.prototype=Object.create(Or.prototype)).constructor=Wr).prototype.isQuadraticBezierCurve3=!0,Wr.prototype.getPoint=function(t,e){e=e||new va;var n=this.v0,r=this.v1,i=this.v2;return e.set(Gr(t,n.x,r.x,i.x),Gr(t,n.y,r.y,i.y),Gr(t,n.z,r.z,i.z)),e},Wr.prototype.copy=function(t){return Or.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Wr.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Wr.prototype.fromJSON=function(t){return Or.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},((qr.prototype=Object.create(Or.prototype)).constructor=qr).prototype.isSplineCurve=!0,qr.prototype.getPoint=function(t,e){e=e||new sa;var n=this.points,r=(n.length-1)*t;r-=t=Math.floor(r);var i=n[0===t?t:t-1],a=n[t],o=n[t>n.length-2?n.length-1:t+1];return n=n[t>n.length-3?n.length-1:t+2],e.set(zr(r,i.x,a.x,o.x,n.x),zr(r,i.y,a.y,o.y,n.y)),e},qr.prototype.copy=function(t){Or.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this},qr.prototype.toJSON=function(){var t=Or.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t},qr.prototype.fromJSON=function(t){Or.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new sa).fromArray(r))}return this};var Bc=Object.freeze({__proto__:null,ArcCurve:Dr,CatmullRomCurve3:Br,CubicBezierCurve:Fr,CubicBezierCurve3:Hr,EllipseCurve:Ir,LineCurve:kr,LineCurve3:Vr,QuadraticBezierCurve:jr,QuadraticBezierCurve3:Wr,SplineCurve:qr});Xr.prototype=Object.assign(Object.create(Or.prototype),{constructor:Xr,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new kr(e,t))},getPoint:function(t){var e=t*this.getLength(),n=this.getCurveLengths();for(t=0;t<n.length;){if(n[t]>=e)return e=n[t]-e,n=(t=this.curves[t]).getLength(),t.getPointAt(0===n?0:1-e/n);t++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++){var a=i[r];a=a.getPoints(a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t);for(var o=0;o<a.length;o++){var s=a[o];e&&e.equals(s)||(n.push(s),e=s)}}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Or.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this},toJSON:function(){var t=Or.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++)t.curves.push(this.curves[e].toJSON());return t},fromJSON:function(t){Or.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push((new Bc[r.type]).fromJSON(r))}return this}}),Yr.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Yr,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){var n=new kr(this.currentPoint.clone(),new sa(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,n,r){return t=new jr(this.currentPoint.clone(),new sa(t,e),new sa(n,r)),this.curves.push(t),this.currentPoint.set(n,r),this},bezierCurveTo:function(t,e,n,r,i,a){return t=new Fr(this.currentPoint.clone(),new sa(t,e),new sa(n,r),new sa(i,a)),this.curves.push(t),this.currentPoint.set(i,a),this},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t);return e=new qr(e),this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,n,r,i,a){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,r,i,a),this},absarc:function(t,e,n,r,i,a){return this.absellipse(t,e,n,n,r,i,a),this},ellipse:function(t,e,n,r,i,a,o,s){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,r,i,a,o,s),this},absellipse:function(t,e,n,r,i,a,o,s){return t=new Ir(t,e,n,r,i,a,o,s),0<this.curves.length&&((e=t.getPoint(0)).equals(this.currentPoint)||this.lineTo(e.x,e.y)),this.curves.push(t),t=t.getPoint(1),this.currentPoint.copy(t),this},copy:function(t){return Xr.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Xr.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Xr.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Zr.prototype=Object.assign(Object.create(Yr.prototype),{constructor:Zr,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Yr.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++)this.holes.push(t.holes[e].clone());return this},toJSON:function(){var t=Yr.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++)t.holes.push(this.holes[e].toJSON());return t},fromJSON:function(t){Yr.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push((new Yr).fromJSON(r))}return this}}),Jr.prototype=Object.assign(Object.create(d.prototype),{constructor:Jr,isLight:!0,copy:function(t){return d.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){return(t=d.prototype.toJSON.call(this,t)).object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Qr.prototype=Object.assign(Object.create(Jr.prototype),{constructor:Qr,isHemisphereLight:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Kr.prototype,{_projScreenMatrix:new ja,_lightPositionWorld:new va,_lookTarget:new va,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var e=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(t.matrixWorld),e.position.copy(a),i.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(i),e.updateMatrixWorld(),r.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),$r.prototype=Object.assign(Object.create(Kr.prototype),{constructor:$r,isSpotLightShadow:!0,updateMatrices:function(t){var e=this.camera,n=2*oa.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix()),Kr.prototype.updateMatrices.call(this,t)}}),ti.prototype=Object.assign(Object.create(Jr.prototype),{constructor:ti,isSpotLight:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),ei.prototype=Object.assign(Object.create(Kr.prototype),{constructor:ei,isPointLightShadow:!0,updateMatrices:function(t,e){void 0===e&&(e=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;i.setFromMatrixPosition(t.matrixWorld),n.position.copy(i),a.copy(n.position),a.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(a),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),o.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),ni.prototype=Object.assign(Object.create(Jr.prototype),{constructor:ni,isPointLight:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),ri.prototype=Object.assign(Object.create(I.prototype),{constructor:ri,isOrthographicCamera:!0,copy:function(t,e){return I.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t;n+=t,t=r+e,e=r-e,null!==this.view&&this.view.enabled&&(r=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom,n=(i+=r*this.view.offsetX)+r*this.view.width,e=(t-=e*this.view.offsetY)-e*this.view.height),this.projectionMatrix.makeOrthographic(i,n,t,e,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){return(t=d.prototype.toJSON.call(this,t)).object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),ii.prototype=Object.assign(Object.create(Kr.prototype),{constructor:ii,isDirectionalLightShadow:!0,updateMatrices:function(t){Kr.prototype.updateMatrices.call(this,t)}}),ai.prototype=Object.assign(Object.create(Jr.prototype),{constructor:ai,isDirectionalLight:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),oi.prototype=Object.assign(Object.create(Jr.prototype),{constructor:oi,isAmbientLight:!0}),si.prototype=Object.assign(Object.create(Jr.prototype),{constructor:si,isRectAreaLight:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){return(t=Jr.prototype.toJSON.call(this,t)).object.width=this.width,t.object.height=this.height,t}});var zc=function(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new va)};zc.prototype.set=function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zc.prototype.zero=function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},zc.prototype.getAt=function(t,e){var n=t.x,r=t.y;t=t.z;var i=this.coefficients;return e.copy(i[0]).multiplyScalar(.282095),e.addScaledVector(i[1],.488603*r),e.addScaledVector(i[2],.488603*t),e.addScaledVector(i[3],.488603*n),e.addScaledVector(i[4],1.092548*n*r),e.addScaledVector(i[5],1.092548*r*t),e.addScaledVector(i[6],.315392*(3*t*t-1)),e.addScaledVector(i[7],1.092548*n*t),e.addScaledVector(i[8],.546274*(n*n-r*r)),e},zc.prototype.getIrradianceAt=function(t,e){var n=t.x,r=t.y;t=t.z;var i=this.coefficients;return e.copy(i[0]).multiplyScalar(.886227),e.addScaledVector(i[1],1.023328*r),e.addScaledVector(i[2],1.023328*t),e.addScaledVector(i[3],1.023328*n),e.addScaledVector(i[4],.858086*n*r),e.addScaledVector(i[5],.858086*r*t),e.addScaledVector(i[6],.743125*t*t-.247708),e.addScaledVector(i[7],.858086*n*t),e.addScaledVector(i[8],.429043*(n*n-r*r)),e},zc.prototype.add=function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},zc.prototype.addScaledSH=function(t,e){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this},zc.prototype.scale=function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},zc.prototype.lerp=function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this},zc.prototype.equals=function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},zc.prototype.copy=function(t){return this.set(t.coefficients)},zc.prototype.clone=function(){return(new this.constructor).copy(this)},zc.prototype.fromArray=function(t,e){void 0===e&&(e=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(t,e+3*r);return this},zc.prototype.toArray=function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(t,e+3*r);return t},zc.getBasisAt=function(t,e){var n=t.x,r=t.y;t=t.z,e[0]=.282095,e[1]=.488603*r,e[2]=.488603*t,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*t,e[6]=.315392*(3*t*t-1),e[7]=1.092548*n*t,e[8]=.546274*(n*n-r*r)},ci.prototype=Object.assign(Object.create(Jr.prototype),{constructor:ci,isLightProbe:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){return(t=Jr.prototype.toJSON.call(this,t)).object.sh=this.sh.toArray(),t}}),li.prototype=Object.assign(Object.create(Sr.prototype),{constructor:li,load:function(e,n,t,r){var i=this,a=new Tr(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.load(e,function(t){try{n(i.parse(JSON.parse(t)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}},t,r)},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,r=new Ac[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=(new No).setHex(t.sheen)),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(r.morphNormals=t.morphNormals),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.vertexTangents&&(r.vertexTangents=t.vertexTangents),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&(r.vertexColors="number"==typeof t.vertexColors?0<t.vertexColors:t.vertexColors),void 0!==t.uniforms)for(var i in t.uniforms){var a=t.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=e(a.value);break;case"c":r.uniforms[i].value=(new No).setHex(a.value);break;case"v2":r.uniforms[i].value=(new sa).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new va).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new da).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new la).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new ja).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];return void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=e(t.map)),void 0!==t.matcap&&(r.matcap=e(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=e(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=e(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale&&(i=t.normalScale,!1===Array.isArray(i)&&(i=[i,i]),r.normalScale=(new sa).fromArray(i)),void 0!==t.displacementMap&&(r.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=e(t.specularMap)),void 0!==t.envMap&&(r.envMap=e(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=e(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=e(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=e(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=e(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new sa).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.transmissionMap&&(r.transmissionMap=e(t.transmissionMap)),r},setTextures:function(t){return this.textures=t,this}});var Gc={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};hi.prototype=Object.assign(Object.create(P.prototype),{constructor:hi,isInstancedBufferGeometry:!0,copy:function(t){return P.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=P.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),ui.prototype=Object.assign(Object.create(A.prototype),{constructor:ui,isInstancedBufferAttribute:!0,copy:function(t){return A.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=A.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),pi.prototype=Object.assign(Object.create(Sr.prototype),{constructor:pi,load:function(e,n,t,r){var i=this,a=new Tr(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.load(e,function(t){try{n(i.parse(JSON.parse(t)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}},t,r)},parse:function(t){function e(t,e){if(void 0!==i[e])return i[e];var n=t.interleavedBuffers[e],r=n.buffer;return r=void 0!==a[r]?a[r]:(t=new Uint32Array(t.arrayBuffers[r]).buffer,a[r]=t),(r=new Te(r=new Uc[n.type](r),n.stride)).uuid=n.uuid,i[e]=r}var i={},a={},n=t.isInstancedBufferGeometry?new hi:new P,r=t.data.index;for(var o in void 0!==r&&(r=new Uc[r.type](r.array),n.setIndex(new A(r,1))),r=t.data.attributes){var s=r[o],c=void 0;c=s.isInterleavedBufferAttribute?new Ee(c=e(t.data,s.data),s.itemSize,s.offset,s.normalized):(c=new Uc[s.type](s.array),new(s.isInstancedBufferAttribute?ui:A)(c,s.itemSize,s.normalized)),void 0!==s.name&&(c.name=s.name),n.setAttribute(o,c)}if(o=t.data.morphAttributes)for(var l in o){s=[],c=0;for(var h=(r=o[l]).length;c<h;c++){var u=r[c],p=void 0;p=u.isInterleavedBufferAttribute?new Ee(p=e(t.data,u.data),u.itemSize,u.offset,u.normalized):new A(p=new Uc[u.type](u.array),u.itemSize,u.normalized),void 0!==u.name&&(p.name=u.name),s.push(p)}n.morphAttributes[l]=s}if(t.data.morphTargetsRelative&&(n.morphTargetsRelative=!0),void 0!==(l=t.data.groups||t.data.drawcalls||t.data.offsets))for(o=0,r=l.length;o!==r;++o)s=l[o],n.addGroup(s.start,s.count,s.materialIndex);return void 0!==(l=t.data.boundingSphere)&&(o=new va,void 0!==l.center&&o.fromArray(l.center),n.boundingSphere=new Na(o,l.radius)),t.name&&(n.name=t.name),t.userData&&(n.userData=t.userData),n}});var Uc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};di.prototype=Object.assign(Object.create(Sr.prototype),{constructor:di,load:function(n,r,t,i){var a=this,e=""===this.path?Gc.extractUrlBase(n):this.path;this.resourcePath=this.resourcePath||e,(e=new Tr(a.manager)).setPath(this.path),e.setRequestHeader(this.requestHeader),e.load(n,function(t){var e=null;try{e=JSON.parse(t)}catch(t){return void 0!==i&&i(t),void console.error("THREE:ObjectLoader: Can't parse "+n+".",t.message)}void 0===(t=e.metadata)||void 0===t.type||"geometry"===t.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+n):a.parse(e,r)},t,i)},parse:function(t,e){var n=this.parseShape(t.shapes);n=this.parseGeometries(t.geometries,n);var r=this.parseImages(t.images,function(){void 0!==e&&e(i)});r=this.parseTextures(t.textures,r),r=this.parseMaterials(t.materials,r);var i=this.parseObject(t.object,n,r);return t.animations&&(i.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0===e||e(i),i},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,r=t.length;n<r;n++){var i=(new Zr).fromJSON(t[n]);e[i.uuid]=i}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var r=new pi,i=0,a=t.length;i<a;i++){var o=void 0,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Ec[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Ec[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Ec[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Ec[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Ec[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Ec[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new Ec[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Ec[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Ec[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Ec[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new Ec[s.type]((new Bc[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Ec[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new Ec[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":o=[];for(var c=0,l=s.shapes.length;c<l;c++)o.push(e[s.shapes[c]]);o=new Ec[s.type](o,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(o=[],c=0,l=s.shapes.length;c<l;c++)o.push(e[s.shapes[c]]);void 0!==(c=s.options.extrudePath)&&(s.options.extrudePath=(new Bc[c.type]).fromJSON(c)),o=new Ec[s.type](o,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(t,e){var n={},r={};if(void 0!==t){var i=new li;i.setTextures(e),e=0;for(var a=t.length;e<a;e++){var o=t[e];if("MultiMaterial"===o.type){for(var s=[],c=0;c<o.materials.length;c++){var l=o.materials[c];void 0===n[l.uuid]&&(n[l.uuid]=i.parse(l)),s.push(n[l.uuid])}r[o.uuid]=s}else void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=_r.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),e.push(i)}return e},parseImages:function(t,e){function n(t){return r.manager.itemStart(t),a.load(t,function(){r.manager.itemEnd(t)},void 0,function(){r.manager.itemError(t),r.manager.itemEnd(t)})}var r=this,i={};if(void 0!==t&&0<t.length){var a=new Lr(e=new Mr(e));a.setCrossOrigin(this.crossOrigin),e=0;for(var o=t.length;e<o;e++){var s=t[e],c=s.url;if(Array.isArray(c)){i[s.uuid]=[];for(var l=0,h=c.length;l<h;l++){var u=c[l];u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u,i[s.uuid].push(n(u))}}else c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s.url)?s.url:r.resourcePath+s.url,i[s.uuid]=n(c)}}return i},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var r={};if(void 0!==t)for(var i=0,a=t.length;i<a;i++){var o=t[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=void 0;(s=Array.isArray(e[o.image])?new H(e[o.image]):new p(e[o.image])).needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,Fc)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],Hc),s.wrapT=n(o.wrap[1],Hc)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,kc)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,kc)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),r[o.uuid]=s}return r},parseObject:function(t,e,a){function n(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function r(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];void 0===a[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),e.push(a[i])}return e}return void 0===a[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),a[t]}}switch(t.type){case"Scene":var i=new Se;void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new No(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new Gs(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new zs(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new D(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new ri(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"AmbientLight":i=new oi(t.color,t.intensity);break;case"DirectionalLight":i=new ai(t.color,t.intensity);break;case"PointLight":i=new ni(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new si(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new ti(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new Qr(t.color,t.groundColor,t.intensity);break;case"LightProbe":i=(new ci).fromJSON(t);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":i=n(t.geometry);var o=r(t.material);i=new L(i,o);break;case"InstancedMesh":i=n(t.geometry),o=r(t.material);var s=t.instanceMatrix;(i=new De(i,o,t.count)).instanceMatrix=new A(new Float32Array(s.array),16);break;case"LOD":i=new Pe;break;case"Line":i=new Be(n(t.geometry),r(t.material),t.mode);break;case"LineLoop":i=new Ge(n(t.geometry),r(t.material));break;case"LineSegments":i=new ze(n(t.geometry),r(t.material));break;case"PointCloud":case"Points":i=new Fe(n(t.geometry),r(t.material));break;case"Sprite":i=new Le(r(t.material));break;case"Group":i=new ye;break;default:i=new d}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(i.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(i.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.frustumCulled&&(i.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(i.renderOrder=t.renderOrder),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.layers&&(i.layers.mask=t.layers),void 0!==t.children)for(s=t.children,o=0;o<s.length;o++)i.add(this.parseObject(s[o],e,a));if("LOD"===t.type)for(void 0!==t.autoUpdate&&(i.autoUpdate=t.autoUpdate),t=t.levels,s=0;s<t.length;s++){o=t[s];var c=i.getObjectByProperty("uuid",o.object);void 0!==c&&i.addLevel(c,o.distance)}return i}});var Fc={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Hc={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},kc={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};fi.prototype=Object.assign(Object.create(Sr.prototype),{constructor:fi,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,n,t,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Rc.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout(function(){n&&n(a),i.manager.itemEnd(e)},0),a;fetch(e).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,i.options)}).then(function(t){Rc.add(e,t),n&&n(t),i.manager.itemEnd(e)}).catch(function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),i.manager.itemStart(e)}}),Object.assign(mi.prototype,{moveTo:function(t,e){return this.currentPath=new Yr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this},bezierCurveTo:function(t,e,n,r,i,a){return this.currentPath.bezierCurveTo(t,e,n,r,i,a),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],a=new Zr;a.curves=i.curves,e.push(a)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=e[i],s=e[a],c=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=e[a],c=-c,s=e[i],l=-l),!(t.y<o.y||t.y>s.y))if(t.y===o.y){if(t.x===o.x)return!0}else{if(0===(i=l*(t.x-o.x)-c*(t.y-o.y)))return!0;i<0||(r=!r)}}else if(t.y===o.y&&(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x))return!0}return r}var i=Sc.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return n(a);if(e=[],1===a.length){var o=a[0],s=new Zr;return s.curves=o.curves,e.push(s),e}var c=!i(a[0].getPoints());c=t?!c:c,s=[];var l=[],h=[],u=0;l[u]=void 0,h[u]=[];for(var p=0,d=a.length;p<d;p++){var f=(o=a[p]).getPoints(),m=i(f);(m=t?!m:m)?(!c&&l[u]&&u++,l[u]={s:new Zr,p:f},l[u].s.curves=o.curves,c&&u++,h[u]=[]):h[u].push({h:o,p:f[0]})}if(!l[0])return n(a);if(1<l.length){for(t=!1,i=[],a=0,o=l.length;a<o;a++)s[a]=[];for(a=0,o=l.length;a<o;a++)for(m=h[a],c=0;c<m.length;c++){for(u=m[c],f=!0,p=0;p<l.length;p++)r(u.p,l[p].p)&&(a!==p&&i.push({froms:a,tos:p,hole:c}),f?(f=!1,s[p].push(u)):t=!0);f&&s[a].push(u)}0<i.length&&(t||(h=s))}for(i=0,a=l.length;i<a;i++)for(s=l[i].s,e.push(s),o=0,m=(t=h[i]).length;o<m;o++)s.holes.push(t[o].h);return e}}),Object.assign(gi.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);var n=[],r=e;e=this.data;var i=Array.from?Array.from(t):String(t).split("");r/=e.resolution;var a=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*r;t=[];for(var o=0,s=0,c=0;c<i.length;c++){var l=i[c];if("\n"===l)o=0,s-=a;else{var h=l;l=r;var u=o,p=s,d=e,f=d.glyphs[h]||d.glyphs["?"];if(f){if(h=new mi,f.o)for(var m=0,g=(d=f._cachedOutline||(f._cachedOutline=f.o.split(" "))).length;m<g;)switch(d[m++]){case"m":var v=d[m++]*l+u,y=d[m++]*l+p;h.moveTo(v,y);break;case"l":v=d[m++]*l+u,y=d[m++]*l+p,h.lineTo(v,y);break;case"q":var x=d[m++]*l+u,b=d[m++]*l+p,_=d[m++]*l+u,w=d[m++]*l+p;h.quadraticCurveTo(_,w,x,b);break;case"b":x=d[m++]*l+u,b=d[m++]*l+p,_=d[m++]*l+u,w=d[m++]*l+p,v=d[m++]*l+u,y=d[m++]*l+p,h.bezierCurveTo(_,w,v,y,x,b)}l={offsetX:f.ha*l,path:h}}else console.error('THREE.Font: character "'+h+'" does not exists in font family '+d.familyName+"."),l=void 0;o+=l.offsetX,t.push(l.path)}}for(e=0,i=t.length;e<i;e++)Array.prototype.push.apply(n,t[e].toShapes());return n}}),vi.prototype=Object.assign(Object.create(Sr.prototype),{constructor:vi,load:function(t,r,e,n){var i=this,a=new Tr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.load(t,function(e){try{var n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}e=i.parse(n),r&&r(e)},e,n)},parse:function(t){return new gi(t)}});var Vc,jc={getContext:function(){return void 0===Vc&&(Vc=new(window.AudioContext||window.webkitAudioContext)),Vc},setContext:function(t){Vc=t}};yi.prototype=Object.assign(Object.create(Sr.prototype),{constructor:yi,load:function(n,r,t,i){var a=this,e=new Tr(a.manager);e.setResponseType("arraybuffer"),e.setPath(a.path),e.setRequestHeader(a.requestHeader),e.load(n,function(t){try{var e=t.slice(0);jc.getContext().decodeAudioData(e,function(t){r(t)})}catch(t){i?i(t):console.error(t),a.manager.itemError(n)}},t,i)}}),xi.prototype=Object.assign(Object.create(ci.prototype),{constructor:xi,isHemisphereLightProbe:!0,copy:function(t){return ci.prototype.copy.call(this,t),this},toJSON:function(t){return ci.prototype.toJSON.call(this,t)}}),bi.prototype=Object.assign(Object.create(ci.prototype),{constructor:bi,isAmbientLightProbe:!0,copy:function(t){return ci.prototype.copy.call(this,t),this},toJSON:function(t){return ci.prototype.toJSON.call(this,t)}});var Wc=new ja,qc=new ja;Object.assign(_i.prototype,{update:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n=t.projectionMatrix.clone(),r=e.eyeSep/2,i=r*e.near/e.focus,a=e.near*Math.tan(oa.DEG2RAD*e.fov*.5)/e.zoom;qc.elements[12]=-r,Wc.elements[12]=r,r=-a*e.aspect+i;var o=a*e.aspect+i;n.elements[0]=2*e.near/(o-r),n.elements[8]=(o+r)/(o-r),this.cameraL.projectionMatrix.copy(n),r=-a*e.aspect-i,o=a*e.aspect-i,n.elements[0]=2*e.near/(o-r),n.elements[8]=(o+r)/(o-r),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(qc),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Wc)}});var Xc=function(t){this.autoStart=void 0===t||t,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1};Xc.prototype.start=function(){this.oldTime=this.startTime=("undefined"==typeof performance?Date:performance).now(),this.elapsedTime=0,this.running=!0},Xc.prototype.stop=function(){this.getElapsedTime(),this.autoStart=this.running=!1},Xc.prototype.getElapsedTime=function(){return this.getDelta(),this.elapsedTime},Xc.prototype.getDelta=function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t};var Yc=new va,Zc=new ma,Jc=new va,Qc=new va;((wi.prototype=Object.create(d.prototype)).constructor=wi).prototype.getInput=function(){return this.gain},wi.prototype.removeFilter=function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},wi.prototype.getFilter=function(){return this.filter},wi.prototype.setFilter=function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},wi.prototype.getMasterVolume=function(){return this.gain.gain.value},wi.prototype.setMasterVolume=function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},wi.prototype.updateMatrixWorld=function(t){d.prototype.updateMatrixWorld.call(this,t),t=this.context.listener;var e=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Yc,Zc,Jc),Qc.set(0,0,-1).applyQuaternion(Zc),t.positionX){var n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Yc.x,n),t.positionY.linearRampToValueAtTime(Yc.y,n),t.positionZ.linearRampToValueAtTime(Yc.z,n),t.forwardX.linearRampToValueAtTime(Qc.x,n),t.forwardY.linearRampToValueAtTime(Qc.y,n),t.forwardZ.linearRampToValueAtTime(Qc.z,n),t.upX.linearRampToValueAtTime(e.x,n),t.upY.linearRampToValueAtTime(e.y,n),t.upZ.linearRampToValueAtTime(e.z,n)}else t.setPosition(Yc.x,Yc.y,Yc.z),t.setOrientation(Qc.x,Qc.y,Qc.z,e.x,e.y,e.z)},((Mi.prototype=Object.create(d.prototype)).constructor=Mi).prototype.getOutput=function(){return this.gain},Mi.prototype.setNodeSource=function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},Mi.prototype.setMediaElementSource=function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},Mi.prototype.setMediaStreamSource=function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this},Mi.prototype.setBuffer=function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},Mi.prototype.play=function(t){if(void 0===t&&(t=0),!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl)return this._startedAt=this.context.currentTime+t,(t=this.context.createBufferSource()).buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect();console.warn("THREE.Audio: this Audio has no playback control.")}},Mi.prototype.pause=function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},Mi.prototype.stop=function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},Mi.prototype.connect=function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this},Mi.prototype.disconnect=function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this},Mi.prototype.getFilters=function(){return this.filters},Mi.prototype.setFilters=function(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},Mi.prototype.setDetune=function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},Mi.prototype.getDetune=function(){return this.detune},Mi.prototype.getFilter=function(){return this.getFilters()[0]},Mi.prototype.setFilter=function(t){return this.setFilters(t?[t]:[])},Mi.prototype.setPlaybackRate=function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},Mi.prototype.getPlaybackRate=function(){return this.playbackRate},Mi.prototype.onEnded=function(){this.isPlaying=!1},Mi.prototype.getLoop=function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},Mi.prototype.setLoop=function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},Mi.prototype.setLoopStart=function(t){return this.loopStart=t,this},Mi.prototype.setLoopEnd=function(t){return this.loopEnd=t,this},Mi.prototype.getVolume=function(){return this.gain.gain.value},Mi.prototype.setVolume=function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this};var Kc=new va,$c=new ma,tl=new va,el=new va;((Si.prototype=Object.create(Mi.prototype)).constructor=Si).prototype.getOutput=function(){return this.panner},Si.prototype.getRefDistance=function(){return this.panner.refDistance},Si.prototype.setRefDistance=function(t){return this.panner.refDistance=t,this},Si.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},Si.prototype.setRolloffFactor=function(t){return this.panner.rolloffFactor=t,this},Si.prototype.getDistanceModel=function(){return this.panner.distanceModel},Si.prototype.setDistanceModel=function(t){return this.panner.distanceModel=t,this},Si.prototype.getMaxDistance=function(){return this.panner.maxDistance},Si.prototype.setMaxDistance=function(t){return this.panner.maxDistance=t,this},Si.prototype.setDirectionalCone=function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},Si.prototype.updateMatrixWorld=function(t){if(Mi.prototype.updateMatrixWorld.call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying)if(this.matrixWorld.decompose(Kc,$c,tl),el.set(0,0,1).applyQuaternion($c),(t=this.panner).positionX){var e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Kc.x,e),t.positionY.linearRampToValueAtTime(Kc.y,e),t.positionZ.linearRampToValueAtTime(Kc.z,e),t.orientationX.linearRampToValueAtTime(el.x,e),t.orientationY.linearRampToValueAtTime(el.y,e),t.orientationZ.linearRampToValueAtTime(el.z,e)}else t.setPosition(Kc.x,Kc.y,Kc.z),t.setOrientation(el.x,el.y,el.z)};var nl=function(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)};nl.prototype.getFrequencyData=function(){return this.analyser.getByteFrequencyData(this.data),this.data},nl.prototype.getAverageFrequency=function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length},Object.assign(Ti.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize;t=t*r+r;var i=this.cumulativeWeight;if(0===i){for(i=0;i!==r;++i)n[t+i]=n[i];i=e}else i+=e,this._mixBufferRegion(n,t,0,e/i,r);this.cumulativeWeight=i},accumulateAdditive:function(t){var e=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,n),this.cumulativeWeightAdditive+=t},apply:function(t){var e=this.valueSize,n=this.buffer;t=t*e+e;var r=this.cumulativeWeight,i=this.cumulativeWeightAdditive,a=this.binding;for(this.cumulativeWeightAdditive=this.cumulativeWeight=0,r<1&&this._mixBufferRegion(n,t,e*this._origIndex,1-r,e),0<i&&this._mixBufferRegionAdditive(n,t,this._addIndex*e,1,e),i=(r=e)+e;r!==i;++r)if(n[r]!==n[r+e]){a.setValue(n,t);break}},saveOriginalState:function(){var t=this.buffer,e=this.valueSize,n=e*this._origIndex;this.binding.getValue(t,n);for(var r=e;r!==n;++r)t[r]=t[n+r%e];this._setIdentity(),this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var t=this._addIndex*this.valueSize,e=t+this.valueSize;t<e;t++)this.buffer[t]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){for(var t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]},_select:function(t,e,n,r,i){if(.5<=r)for(r=0;r!==i;++r)t[e+r]=t[n+r]},_slerp:function(t,e,n,r){ma.slerpFlat(t,e,t,e,t,n,r)},_slerpAdditive:function(t,e,n,r,i){i*=this._workIndex,ma.multiplyQuaternionsFlat(t,i,t,e,t,n),ma.slerpFlat(t,e,t,e,t,i,r)},_lerp:function(t,e,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*r}},_lerpAdditive:function(t,e,n,r,i){for(var a=0;a!==i;++a){t[e+a]+=t[n+a]*r}}});var rl=/[\[\]\.:\/]/g,il="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",al=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),ol=/(WCOD+)?/.source.replace("WCOD",il),sl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),cl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),ll=new RegExp("^"+al+ol+sl+cl+"$"),hl=["material","materials","bones"];Object.assign(Ei.prototype,{getValue:function(t,e){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Ai,{Composite:Ei,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Ai.Composite(t,e,n):new Ai(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(rl,"")},parseTrackName:function(t){var e=ll.exec(t);if(!e)throw Error("PropertyBinding: Cannot parse trackName: "+t);var n=(e={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]}).nodeName&&e.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var r=e.nodeName.substring(n+1);-1!==hl.indexOf(r)&&(e.nodeName=e.nodeName.substring(0,n),e.objectName=r)}if(null===e.propertyName||0===e.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+t);return e},findNode:function(t,r){if(!r||""===r||"."===r||-1===r||r===t.name||r===t.uuid)return t;if(t.skeleton){var e=t.skeleton.getBoneByName(r);if(void 0!==e)return e}if(t.children){var i=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.name===r||n.uuid===r||(n=i(n.children)))return n}return null};if(t=i(t.children))return t}return null}}),Object.assign(Ai.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(this.node=t=Ai.findNode(this.rootNode,e.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);for(t=t.skeleton.bones,n=0;n<t.length;n++)if(t[n].name===a){a=n;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}if(void 0===(a=t[r]))console.error("THREE.PropertyBinding: Trying to update property for track: "+e.nodeName+"."+r+" but it wasn't found.",t);else{if(e=this.Versioning.None,void 0!==(this.targetObject=t).needsUpdate?e=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(e=this.Versioning.MatrixWorldNeedsUpdate),n=this.BindingType.Direct,void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[i]&&(i=t.morphTargetDictionary[i])}n=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(n=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(n=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[n],this.setValue=this.SetterByBindingTypeAndVersioning[n][e]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ai.prototype,{_getValue_unbound:Ai.prototype.getValue,_setValue_unbound:Ai.prototype.setValue}),Object.assign(Li.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,s=t.length,c=this.nCachedObjects_,l=0,h=arguments.length;l!==h;++l){var u=arguments[l],p=u.uuid,d=e[p];if(void 0===d){d=s++,e[p]=d,t.push(u),d=0;for(var f=a;d!==f;++d)i[d].push(new Ai(u,n[d],r[d]))}else if(d<c){o=t[d];var m=t[f=--c];for(t[e[m.uuid]=d]=m,t[e[p]=f]=u,p=0,m=a;p!==m;++p){var g=i[p],v=g[d];g[d]=g[f],void 0===v&&(v=new Ai(u,n[p],r[p])),g[f]=v}}else t[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c},remove:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],c=s.uuid,l=e[c];if(void 0!==l&&i<=l){var h=i++,u=t[h];for(t[e[u.uuid]=l]=u,t[e[c]=h]=s,s=0,c=r;s!==c;++s){var p=(u=n[s])[l];u[l]=u[h],u[h]=p}}}this.nCachedObjects_=i},uncache:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=t.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o].uuid,l=e[c];if(void 0!==l)if(delete e[c],l<i){var h=t[c=--i],u=--a,p=t[u];for(t[e[h.uuid]=l]=h,t[e[p.uuid]=c]=p,t.pop(),h=0,p=r;h!==p;++h){var d=n[h],f=d[u];d[l]=d[c],d[c]=f,d.pop()}}else for(t[e[(u=t[c=--a]).uuid]=l]=u,t.pop(),u=0,h=r;u!==h;++u)(p=n[u])[l]=p[c],p.pop()}this.nCachedObjects_=i},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,c=this.nCachedObjects_,l=Array(s.length);for(r=i.length,n[t]=r,a.push(t),o.push(e),i.push(l),n=c,r=s.length;n!==r;++n)l[n]=new Ai(s[n],t,e);return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];a[e[t[o]]=n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}});var ul=function(t,e,n,r){this._mixer=t,this._clip=e,this._localRoot=n||null,this.blendMode=r||e.blendMode,e=(t=e.tracks).length,n=Array(e),r={endingStart:2400,endingEnd:2400};for(var i=0;i!==e;++i){var a=t[i].createInterpolant(null);(n[i]=a).settings=r}this._interpolantSettings=r,this._interpolants=n,this._propertyBindings=Array(e),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};ul.prototype.play=function(){return this._mixer._activateAction(this),this},ul.prototype.stop=function(){return this._mixer._deactivateAction(this),this.reset()},ul.prototype.reset=function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},ul.prototype.isRunning=function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},ul.prototype.isScheduled=function(){return this._mixer._isActiveAction(this)},ul.prototype.startAt=function(t){return this._startTime=t,this},ul.prototype.setLoop=function(t,e){return this.loop=t,this.repetitions=e,this},ul.prototype.setEffectiveWeight=function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},ul.prototype.getEffectiveWeight=function(){return this._effectiveWeight},ul.prototype.fadeIn=function(t){return this._scheduleFading(t,0,1)},ul.prototype.fadeOut=function(t){return this._scheduleFading(t,1,0)},ul.prototype.crossFadeFrom=function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){n=this._clip.duration;var r=t._clip.duration,i=n/r;t.warp(1,r/n,e),this.warp(i,1,e)}return this},ul.prototype.crossFadeTo=function(t,e,n){return t.crossFadeFrom(this,e,n)},ul.prototype.stopFading=function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},ul.prototype.setEffectiveTimeScale=function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},ul.prototype.getEffectiveTimeScale=function(){return this._effectiveTimeScale},ul.prototype.setDuration=function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},ul.prototype.syncWith=function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},ul.prototype.halt=function(t){return this.warp(this._effectiveTimeScale,0,t)},ul.prototype.warp=function(t,e,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;return null===o&&(this._timeScaleInterpolant=o=r._lendControlInterpolant()),r=o.parameterPositions,o=o.sampleValues,r[0]=i,r[1]=i+n,o[0]=t/a,o[1]=e/a,this},ul.prototype.stopWarping=function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},ul.prototype.getMixer=function(){return this._mixer},ul.prototype.getClip=function(){return this._clip},ul.prototype.getRoot=function(){return this._localRoot||this._mixer._root},ul.prototype._update=function(t,e,n,r){if(this.enabled){var i=this._startTime;if(null!==i){if((e=(t-i)*n)<0||0===n)return;this._startTime=null,e*=n}if(e*=this._updateTimeScale(t),n=this._updateTime(e),0<(t=this._updateWeight(t)))switch(e=this._interpolants,i=this._propertyBindings,this.blendMode){case 2501:r=0;for(var a=e.length;r!==a;++r)e[r].evaluate(n),i[r].accumulateAdditive(t);break;default:a=0;for(var o=e.length;a!==o;++a)e[a].evaluate(n),i[a].accumulate(r,t)}}else this._updateWeight(t)},ul.prototype._updateWeight=function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e},ul.prototype._updateTimeScale=function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e},ul.prototype._updateTime=function(t){var e=this._clip.duration,n=this.loop,r=this.time+t,i=this._loopCount,a=2202===n;if(0===t)return-1===i?r:a&&1==(1&i)?e-r:r;if(2200===n)t:{if(-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1)),e<=r)r=e;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}else{if(-1===i&&(0<=t?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e<=r||r<0){r-=e*(n=Math.floor(r/e)),i+=Math.abs(n);var o=this.repetitions-i;o<=0?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r=0<t?e:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1})):(1===o?(t=t<0,this._setEndings(t,!t,a)):this._setEndings(!1,!1,a),this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n}))}else this.time=r;if(a&&1==(1&i))return e-r}return r},ul.prototype._setEndings=function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)},ul.prototype._scheduleFading=function(t,e,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;return null===a&&(this._weightInterpolant=a=r._lendControlInterpolant()),r=a.parameterPositions,a=a.sampleValues,r[0]=i,a[0]=e,r[1]=i+t,a[1]=n,this},Ri.prototype=Object.assign(Object.create(e.prototype),{constructor:Ri,_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,a=t._propertyBindings;t=t._interpolants;var o=n.uuid,s=this._bindingsByRootAndName,c=s[o];for(void 0===c&&(c={},s[o]=c),s=0;s!==i;++s){var l=r[s],h=l.name,u=c[h];if(void 0===u){if(void 0!==(u=a[s])){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,o,h));continue}++(u=new Ti(Ai.create(n,h,e&&e._propertyBindings[s].binding.parsedPath),l.ValueTypeName,l.getValueSize())).referenceCount,this._addInactiveBinding(u,o,h)}a[s]=u,t[s].resultBuffer=u.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(n=0,r=(e=t._propertyBindings).length;n!==r;++n){var i=e[n];0==i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){return null!==(t=t._cacheIndex)&&t<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,a=i[e];void 0===a?(a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=a):(e=a.knownActions,t._byClipCacheIndex=e.length,e.push(t)),t._cacheIndex=r.length,r.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;e[n._cacheIndex=r]=n,e.pop(),t._cacheIndex=null,e=t._clip.uuid;var i=(r=(n=this._actionsByClip)[e]).knownActions,a=i[i.length-1],o=t._byClipCacheIndex;i[a._byClipCacheIndex=o]=a,i.pop(),t._byClipCacheIndex=null,delete r.actionByRoot[(t._localRoot||this._root).uuid],0===i.length&&delete n[e],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=0,n=(t=t._propertyBindings).length;e!==n;++e){var r=t[e];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];e[t._cacheIndex=r]=t,e[i._cacheIndex=n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];e[t._cacheIndex=r]=t,e[i._cacheIndex=n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[e];void 0===a&&(a={},r[e]=a),(a[n]=t)._cacheIndex=i.length,i.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid;n=n.path;var i=this._bindingsByRootAndName,a=i[r],o=e[e.length-1];t=t._cacheIndex,e[o._cacheIndex=t]=o,e.pop(),delete a[n],0===Object.keys(a).length&&delete i[r]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];e[t._cacheIndex=r]=t,e[i._cacheIndex=n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];e[t._cacheIndex=r]=t,e[i._cacheIndex=n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(t[(n=new ur(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];e[t.__cacheIndex=r]=t,e[i.__cacheIndex=n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,n){var r=e||this._root,i=r.uuid;t=null!==(r="string"==typeof t?_r.findByName(r,t):t)?r.uuid:t;var a=this._actionsByClip[t],o=null;if(void 0===n&&(n=null!==r?r.blendMode:2500),void 0!==a){if(void 0!==(o=a.actionByRoot[i])&&o.blendMode===n)return o;o=a.knownActions[0],null===r&&(r=o._clip)}return null===r?null:(e=new ul(this,r,e,n),this._bindAction(e,o),this._addInactiveAction(e,t,i),e)},existingAction:function(t,e){var n=e||this._root;return e=n.uuid,n="string"==typeof t?_r.findByName(n,t):t,void 0!==(t=this._actionsByClip[n?n.uuid:t])&&t.actionByRoot[e]||null},stopAllAction:function(){for(var t=this._actions,e=this._nActiveActions-1;0<=e;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o)e[o]._update(r,t,i,a);for(t=this._bindings,e=this._nActiveBindings,n=0;n!==e;++n)t[n].apply(a);return this},setTime:function(t){for(var e=this.time=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions;t=t.uuid;var n=this._actionsByClip,r=n[t];if(void 0!==r){for(var i=0,a=(r=r.knownActions).length;i!==a;++i){var o=r[i];this._deactivateAction(o);var s=o._cacheIndex,c=e[e.length-1];o._cacheIndex=null,o._byClipCacheIndex=null,e[c._cacheIndex=s]=c,e.pop(),this._removeInactiveBindingsForAction(o)}delete n[t]}},uncacheRoot:function(t){t=t.uuid;var e=this._actionsByClip;for(r in e){var n=e[r].actionByRoot[t];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var r=this._bindingsByRootAndName[t];if(void 0!==r)for(var i in r)(t=r[i]).restoreOriginalState(),this._removeInactiveBinding(t)},uncacheAction:function(t,e){null!==(t=this.existingAction(t,e))&&(this._deactivateAction(t),this._removeInactiveAction(t))}});var pl=function(t,e){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=e),this.value=t};pl.prototype.clone=function(){return new pl(void 0===this.value.clone?this.value:this.value.clone())},Pi.prototype=Object.assign(Object.create(Te.prototype),{constructor:Pi,isInstancedInterleavedBuffer:!0,copy:function(t){return Te.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){return(t=Te.prototype.clone.call(this,t)).meshPerAttribute=this.meshPerAttribute,t},toJSON:function(t){return(t=Te.prototype.toJSON.call(this,t)).isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Ci.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Ci.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(Oi.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){return Di(t,this,n=n||[],e),n.sort(Ii),n},intersectObjects:function(t,e,n){if(n=n||[],!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=t.length;r<i;r++)Di(t[r],this,n,e);return n.sort(Ii),n}});var dl=function(t,e,n){return void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),this.radius=t,this.phi=e,this.theta=n,this};dl.prototype.set=function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},dl.prototype.clone=function(){return(new this.constructor).copy(this)},dl.prototype.copy=function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},dl.prototype.makeSafe=function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},dl.prototype.setFromVector3=function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},dl.prototype.setFromCartesianCoords=function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(t,n),this.phi=Math.acos(oa.clamp(e/this.radius,-1,1))),this};var fl=function(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this};fl.prototype.set=function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},fl.prototype.clone=function(){return(new this.constructor).copy(this)},fl.prototype.copy=function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},fl.prototype.setFromVector3=function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},fl.prototype.setFromCartesianCoords=function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this};var ml=new sa,gl=function(t,e){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new sa(1/0,1/0),this.max=void 0!==e?e:new sa(-1/0,-1/0)};gl.prototype.set=function(t,e){return this.min.copy(t),this.max.copy(e),this},gl.prototype.setFromPoints=function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},gl.prototype.setFromCenterAndSize=function(t,e){return e=ml.copy(e).multiplyScalar(.5),this.min.copy(t).sub(e),this.max.copy(t).add(e),this},gl.prototype.clone=function(){return(new this.constructor).copy(this)},gl.prototype.copy=function(t){return this.min.copy(t.min),this.max.copy(t.max),this},gl.prototype.makeEmpty=function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},gl.prototype.isEmpty=function(){return this.max.x<this.min.x||this.max.y<this.min.y},gl.prototype.getCenter=function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new sa),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},gl.prototype.getSize=function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new sa),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},gl.prototype.expandByPoint=function(t){return this.min.min(t),this.max.max(t),this},gl.prototype.expandByVector=function(t){return this.min.sub(t),this.max.add(t),this},gl.prototype.expandByScalar=function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},gl.prototype.containsPoint=function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},gl.prototype.containsBox=function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},gl.prototype.getParameter=function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new sa),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},gl.prototype.intersectsBox=function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},gl.prototype.clampPoint=function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new sa),e.copy(t).clamp(this.min,this.max)},gl.prototype.distanceToPoint=function(t){return ml.copy(t).clamp(this.min,this.max).sub(t).length()},gl.prototype.intersect=function(t){return this.min.max(t.min),this.max.min(t.max),this},gl.prototype.union=function(t){return this.min.min(t.min),this.max.max(t.max),this},gl.prototype.translate=function(t){return this.min.add(t),this.max.add(t),this},gl.prototype.equals=function(t){return t.min.equals(this.min)&&t.max.equals(this.max)};var vl=new va,yl=new va,xl=function(t,e){this.start=void 0!==t?t:new va,this.end=void 0!==e?e:new va};xl.prototype.set=function(t,e){return this.start.copy(t),this.end.copy(e),this},xl.prototype.clone=function(){return(new this.constructor).copy(this)},xl.prototype.copy=function(t){return this.start.copy(t.start),this.end.copy(t.end),this},xl.prototype.getCenter=function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new va),t.addVectors(this.start,this.end).multiplyScalar(.5)},xl.prototype.delta=function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new va),t.subVectors(this.end,this.start)},xl.prototype.distanceSq=function(){return this.start.distanceToSquared(this.end)},xl.prototype.distance=function(){return this.start.distanceTo(this.end)},xl.prototype.at=function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new va),this.delta(e).multiplyScalar(t).add(this.start)},xl.prototype.closestPointToPointParameter=function(t,e){return vl.subVectors(t,this.start),yl.subVectors(this.end,this.start),t=yl.dot(yl),t=yl.dot(vl)/t,e&&(t=oa.clamp(t,0,1)),t},xl.prototype.closestPointToPoint=function(t,e,n){return t=this.closestPointToPointParameter(t,e),void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new va),this.delta(n).multiplyScalar(t).add(this.start)},xl.prototype.applyMatrix4=function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},xl.prototype.equals=function(t){return t.start.equals(this.start)&&t.end.equals(this.end)},((Ni.prototype=Object.create(d.prototype)).constructor=Ni).prototype.isImmediateRenderObject=!0;var bl=new va;((Bi.prototype=Object.create(d.prototype)).constructor=Bi).prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Bi.prototype.update=function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),bl.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(bl),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var _l=new va,wl=new ja,Ml=new ja;((zi.prototype=Object.create(ze.prototype)).constructor=zi).prototype.updateMatrixWorld=function(t){var e=this.bones,n=this.geometry,r=n.getAttribute("position");Ml.getInverse(this.root.matrixWorld);for(var i=0,a=0;i<e.length;i++){var o=e[i];o.parent&&o.parent.isBone&&(wl.multiplyMatrices(Ml,o.matrixWorld),_l.setFromMatrixPosition(wl),r.setXYZ(a,_l.x,_l.y,_l.z),wl.multiplyMatrices(Ml,o.parent.matrixWorld),_l.setFromMatrixPosition(wl),r.setXYZ(a+1,_l.x,_l.y,_l.z),a+=2)}n.getAttribute("position").needsUpdate=!0,ze.prototype.updateMatrixWorld.call(this,t)},((Gi.prototype=Object.create(L.prototype)).constructor=Gi).prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Gi.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var Sl=new va,Tl=new No,El=new No;((Ui.prototype=Object.create(d.prototype)).constructor=Ui).prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Ui.prototype.update=function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");Tl.copy(this.light.color),El.copy(this.light.groundColor);for(var n=0,r=e.count;n<r;n++){var i=n<r/2?Tl:El;e.setXYZ(n,i.r,i.g,i.b)}e.needsUpdate=!0}t.lookAt(Sl.setFromMatrixPosition(this.light.matrixWorld).negate())},(Fi.prototype=Object.create(ze.prototype)).constructor=Fi,(Hi.prototype=Object.create(ze.prototype)).constructor=Hi;var Al=new va,Ll=new va,Rl=new va;((ki.prototype=Object.create(d.prototype)).constructor=ki).prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},ki.prototype.update=function(){Al.setFromMatrixPosition(this.light.matrixWorld),Ll.setFromMatrixPosition(this.light.target.matrixWorld),Rl.subVectors(Ll,Al),this.lightPlane.lookAt(Ll),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ll),this.targetLine.scale.z=Rl.length()};var Pl=new va,Cl=new I;((Vi.prototype=Object.create(ze.prototype)).constructor=Vi).prototype.update=function(){var t=this.geometry,e=this.pointMap;Cl.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ji("c",e,t,Cl,0,0,-1),ji("t",e,t,Cl,0,0,1),ji("n1",e,t,Cl,-1,-1,-1),ji("n2",e,t,Cl,1,-1,-1),ji("n3",e,t,Cl,-1,1,-1),ji("n4",e,t,Cl,1,1,-1),ji("f1",e,t,Cl,-1,-1,1),ji("f2",e,t,Cl,1,-1,1),ji("f3",e,t,Cl,-1,1,1),ji("f4",e,t,Cl,1,1,1),ji("u1",e,t,Cl,.7,1.1,-1),ji("u2",e,t,Cl,-.7,1.1,-1),ji("u3",e,t,Cl,0,2,-1),ji("cf1",e,t,Cl,-1,0,1),ji("cf2",e,t,Cl,1,0,1),ji("cf3",e,t,Cl,0,-1,1),ji("cf4",e,t,Cl,0,1,1),ji("cn1",e,t,Cl,-1,0,-1),ji("cn2",e,t,Cl,1,0,-1),ji("cn3",e,t,Cl,0,-1,-1),ji("cn4",e,t,Cl,0,1,-1),t.getAttribute("position").needsUpdate=!0};var Ol=new ba;((Wi.prototype=Object.create(ze.prototype)).constructor=Wi).prototype.update=function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Ol.setFromObject(this.object),!Ol.isEmpty()){t=Ol.min;var e=Ol.max,n=this.geometry.attributes.position,r=n.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Wi.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Wi.prototype.copy=function(t){return ze.prototype.copy.call(this,t),this.object=t.object,this},((qi.prototype=Object.create(ze.prototype)).constructor=qi).prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),ze.prototype.updateMatrixWorld.call(this,t))},((Xi.prototype=Object.create(Be.prototype)).constructor=Xi).prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:0,this.lookAt(this.plane.normal),Be.prototype.updateMatrixWorld.call(this,t)};var Il,Dl,Nl=new va;((Yi.prototype=Object.create(d.prototype)).constructor=Yi).prototype.setDirection=function(t){.99999<t.y?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(Nl.set(t.z,0,-t.x).normalize(),this.quaternion.setFromAxisAngle(Nl,Math.acos(t.y)))},Yi.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Yi.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},Yi.prototype.copy=function(t){return d.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},(Zi.prototype=Object.create(ze.prototype)).constructor=Zi;var Bl=Math.pow(2,8),zl=[.125,.215,.35,.446,.526,.582],Gl=5+zl.length,Ul={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},Fl=new ri,Hl=function(){for(var t=[],e=[],n=[],r=8,i=0;i<Gl;i++){var a=Math.pow(2,r);e.push(a);var o=1/a;4<i?o=zl[i-8+4-1]:0==i&&(o=0),n.push(o);var s=[a=-(o=1/(a-1))/2,a,o=1+o/2,a,o,o,a,a,o,o,a,o];a=new Float32Array(108),o=new Float32Array(72);for(var c=new Float32Array(36),l=0;l<6;l++){var h=l%3*2/3-1,u=2<l?0:-1;a.set([h,u,0,h+2/3,u,0,h+2/3,u+1,0,h,u,0,h+2/3,u+1,0,h,u+1,0],18*l),o.set(s,12*l),c.set([l,l,l,l,l,l],6*l)}(s=new P).setAttribute("position",new A(a,3)),s.setAttribute("uv",new A(o,2)),s.setAttribute("faceIndex",new A(c,1)),t.push(s),4<r&&r--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}(),kl=Hl._lodPlanes,Vl=Hl._sizeLods,jl=Hl._sigmas,Wl=null,ql=(1+Math.sqrt(5))/2,Xl=1/ql,Yl=[new va(1,1,1),new va(-1,1,1),new va(1,1,-1),new va(-1,1,-1),new va(0,ql,Xl),new va(0,ql,-Xl),new va(Xl,0,ql),new va(-Xl,0,ql),new va(ql,Xl,0),new va(-ql,Xl,0)],Zl=function(t){this._renderer=t,this._pingPongRenderTarget=null,t=new Float32Array(20);var e=new va(0,1,0);this._blurMaterial=new tr({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:e},inputEncoding:{value:Ul[3e3]},outputEncoding:{value:Ul[3e3]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1}),this._cubemapShader=this._equirectShader=null,this._compileMaterial(this._blurMaterial)};Zl.prototype.fromScene=function(t,e,n,r){void 0===e&&(e=0),void 0===n&&(n=.1),void 0===r&&(r=100),Wl=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(t,n,r,i),0<e&&this._blur(i,0,0,e),this._applyPMREM(i),this._cleanup(i),i},Zl.prototype.fromEquirectangular=function(t){return this._fromTexture(t)},Zl.prototype.fromCubemap=function(t){return this._fromTexture(t)},Zl.prototype.compileCubemapShader=function(){null===this._cubemapShader&&(this._cubemapShader=$i(),this._compileMaterial(this._cubemapShader))},Zl.prototype.compileEquirectangularShader=function(){null===this._equirectShader&&(this._equirectShader=Ki(),this._compileMaterial(this._equirectShader))},Zl.prototype.dispose=function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var t=0;t<kl.length;t++)kl[t].dispose()},Zl.prototype._cleanup=function(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Wl),t.scissorTest=!1,Qi(t,0,0,t.width,t.height)},Zl.prototype._fromTexture=function(t){Wl=this._renderer.getRenderTarget();var e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e},Zl.prototype._allocateTargets=function(t){var e=void 0!==t&&1009===t.type&&(3e3===t.encoding||3001===t.encoding||3007===t.encoding),n=Ji(e={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:e?t.encoding:3002,depthBuffer:!1});return n.depthBuffer=!t,this._pingPongRenderTarget=Ji(e),n},Zl.prototype._compileMaterial=function(t){t=new L(kl[0],t),this._renderer.compile(t,Fl)},Zl.prototype._sceneToCubeUV=function(t,e,n,r){e=new D(90,1,e,n),n=[1,-1,1,1,1,1];var i=[1,1,1,-1,-1,-1],a=this._renderer,o=a.outputEncoding,s=a.toneMapping,c=a.getClearColor(),l=a.getClearAlpha();a.toneMapping=0,a.outputEncoding=3e3;var h=t.background;if(h&&h.isColor){h.convertSRGBToLinear();var u=Math.min(Math.max(Math.ceil(Math.log2(Math.max(h.r,h.g,h.b))),-128),127);h=h.multiplyScalar(Math.pow(2,-u)),a.setClearColor(h,(u+128)/255),t.background=null}for(h=0;h<6;h++)0==(u=h%3)?(e.up.set(0,n[h],0),e.lookAt(i[h],0,0)):1==u?(e.up.set(0,0,n[h]),e.lookAt(0,i[h],0)):(e.up.set(0,n[h],0),e.lookAt(0,0,i[h])),Qi(r,u*Bl,2<h?Bl:0,Bl,Bl),a.setRenderTarget(r),a.render(t,e);a.toneMapping=s,a.outputEncoding=o,a.setClearColor(c,l)},Zl.prototype._textureToCubeUV=function(t,e){var n=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=$i()):null==this._equirectShader&&(this._equirectShader=Ki());var r=t.isCubeTexture?this._cubemapShader:this._equirectShader,i=new L(kl[0],r);((r=r.uniforms).envMap.value=t).isCubeTexture||r.texelSize.value.set(1/t.image.width,1/t.image.height),r.inputEncoding.value=Ul[t.encoding],r.outputEncoding.value=Ul[e.texture.encoding],Qi(e,0,0,3*Bl,2*Bl),n.setRenderTarget(e),n.render(i,Fl)},Zl.prototype._applyPMREM=function(t){var e=this._renderer,n=e.autoClear;e.autoClear=!1;for(var r=1;r<Gl;r++)this._blur(t,r-1,r,Math.sqrt(jl[r]*jl[r]-jl[r-1]*jl[r-1]),Yl[(r-1)%Yl.length]);e.autoClear=n},Zl.prototype._blur=function(t,e,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,r,"latitudinal",i),this._halfBlur(a,t,n,n,r,"longitudinal",i)},Zl.prototype._halfBlur=function(t,e,n,r,i,a,o){var s=this._renderer,c=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new L(kl[r],c);c=c.uniforms;var h=Vl[n]-1,u=i/(h=isFinite(i)?Math.PI/(2*h):2*Math.PI/39),p=isFinite(i)?1+Math.floor(3*u):20;20<p&&console.warn("sigmaRadians, "+i+", is too large and will clip, as it requested "+p+" samples when the maximum is set to 20"),i=[];for(var d=0,f=0;f<20;++f){var m=f/u;m=Math.exp(-m*m/2),i.push(m),0==f?d+=m:f<p&&(d+=2*m)}for(u=0;u<i.length;u++)i[u]/=d;c.envMap.value=t.texture,c.samples.value=p,c.weights.value=i,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o),c.dTheta.value=h,c.mipInt.value=8-n,c.inputEncoding.value=Ul[t.texture.encoding],c.outputEncoding.value=Ul[t.texture.encoding],t=Vl[r],Qi(e,3*Math.max(0,Bl-2*t),(0===r?0:2*Bl)+2*t*(4<r?r-8+4:0),3*t,2*t),s.setRenderTarget(e),s.render(l,Fl)},Or.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Or.prototype),(t.prototype.constructor=t).prototype.getPoint=e,t},Object.assign(Xr.prototype,{createPointsGeometry:function(t){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),t=this.getPoints(t),this.createGeometry(t)},createSpacedPointsGeometry:function(t){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),t=this.getSpacedPoints(t),this.createGeometry(t)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new w,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new va(i.x,i.y,i.z||0))}return e}}),Object.assign(Yr.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),ta.prototype=Object.create(Br.prototype),ea.prototype=Object.create(Br.prototype),na.prototype=Object.create(Br.prototype),Object.assign(na.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Fi.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},zi.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Sr.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Gc.extractUrlBase(t)}}),Sr.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(di.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(gl.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(ba.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Na.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),ys.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},xl.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(oa,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),oa.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),oa.ceilPowerOfTwo(t)}}),Object.assign(la.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(ja.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new va).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,a)}}),bo.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},ma.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Va.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Co.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Co,{barycoordFromPoint:function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Co.getBarycoord(t,e,n,r,i)},normal:function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Co.getNormal(t,e,n,r)}}),Object.assign(Zr.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new On(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Vn(this,t)}}),Object.assign(sa.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(va.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(da.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(w.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(d.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(d.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(L.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(L.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Pe.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Oe.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Ce.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Or.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),D.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Jr.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(A.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(A.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(P.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e,n){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new A(e,n)))},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(P.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(hi.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(Oi.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Te.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(Te.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(In.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(Se.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(pl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(s.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new No}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(rr.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(nr.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(O.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(we.prototype,{clearTarget:function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(we.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(de.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(E.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Mi.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new yi).load(t,function(t){e.setBuffer(t)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),nl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},N.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},ua.crossOrigin=void 0,ua.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new Cr;return i.setCrossOrigin(this.crossOrigin),t=i.load(t,n,void 0,r),e&&(t.mapping=e),t},ua.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Rr;return i.setCrossOrigin(this.crossOrigin),t=i.load(t,n,void 0,r),e&&(t.mapping=e),t},ua.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ua.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"120"}})),t.ACESFilmicToneMapping=4,t.AddEquation=100,t.AddOperation=2,t.AdditiveAnimationBlendMode=2501,t.AdditiveBlending=2,t.AlphaFormat=1021,t.AlwaysDepth=1,t.AlwaysStencilFunc=519,t.AmbientLight=oi,t.AmbientLightProbe=bi,t.AnimationClip=_r,t.AnimationLoader=Er,t.AnimationMixer=Ri,t.AnimationObjectGroup=Li,t.AnimationUtils=Lc,t.ArcCurve=Dr,t.ArrayCamera=ve,t.ArrowHelper=Yi,t.Audio=Mi,t.AudioAnalyser=nl,t.AudioContext=jc,t.AudioListener=wi,t.AudioLoader=yi,t.AxesHelper=Zi,t.AxisHelper=function(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Zi(t)},t.BackSide=1,t.BasicDepthPacking=3200,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Pr(t)},t.Bone=Ie,t.BooleanKeyframeTrack=fr,t.BoundingBoxHelper=function(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Wi(t,e)},t.Box2=gl,t.Box3=ba,t.Box3Helper=qi,t.BoxBufferGeometry=S,t.BoxGeometry=M,t.BoxHelper=Wi,t.BufferAttribute=A,t.BufferGeometry=P,t.BufferGeometryLoader=pi,t.ByteType=1010,t.Cache=Rc,t.Camera=I,t.CameraHelper=Vi,t.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},t.CanvasTexture=je,t.CatmullRomCurve3=Br,t.CineonToneMapping=3,t.CircleBufferGeometry=Kn,t.CircleGeometry=Qn,t.ClampToEdgeWrapping=1001,t.Clock=Xc,t.ClosedSplineCurve3=ta,t.Color=No,t.ColorKeyframeTrack=mr,t.CompressedTexture=Ve,t.CompressedTextureLoader=Ar,t.ConeBufferGeometry=Jn,t.ConeGeometry=Zn,t.CubeCamera=N,t.CubeGeometry=M,t.CubeReflectionMapping=301,t.CubeRefractionMapping=302,t.CubeTexture=H,t.CubeTextureLoader=Rr,t.CubeUVReflectionMapping=306,t.CubeUVRefractionMapping=307,t.CubicBezierCurve=Fr,t.CubicBezierCurve3=Hr,t.CubicInterpolant=hr,t.CullFaceBack=1,t.CullFaceFront=2,t.CullFaceFrontBack=3,t.CullFaceNone=0,t.Curve=Or,t.CurvePath=Xr,t.CustomBlending=5,t.CustomToneMapping=5,t.CylinderBufferGeometry=Yn,t.CylinderGeometry=Xn,t.Cylindrical=fl,t.DataTexture=wt,t.DataTexture2DArray=k,t.DataTexture3D=V,t.DataTextureLoader=Pr,t.DecrementStencilOp=7683,t.DecrementWrapStencilOp=34056,t.DefaultLoadingManager=Pc,t.DepthFormat=1026,t.DepthStencilFormat=1027,t.DepthTexture=We,t.DirectionalLight=ai,t.DirectionalLightHelper=ki,t.DiscreteInterpolant=pr,t.DodecahedronBufferGeometry=an,t.DodecahedronGeometry=rn,t.DoubleSide=2,t.DstAlphaFactor=206,t.DstColorFactor=208,t.DynamicBufferAttribute=function(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new A(t,e).setUsage(35048)},t.DynamicCopyUsage=35050,t.DynamicDrawUsage=35048,t.DynamicReadUsage=35049,t.EdgesGeometry=qn,t.EdgesHelper=function(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ze(new qn(t.geometry),new Ne({color:void 0!==e?e:16777215}))},t.EllipseCurve=Ir,t.EqualDepth=4,t.EqualStencilFunc=514,t.EquirectangularReflectionMapping=303,t.EquirectangularRefractionMapping=304,t.Euler=Ka,t.EventDispatcher=e,t.ExtrudeBufferGeometry=In,t.ExtrudeGeometry=On,t.Face3=Bo,t.Face4=function(t,e,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Bo(t,e,n,i,a,o)},t.FaceColors=1,t.FileLoader=Tr,t.FlatShading=1,t.Float32Attribute=function(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new R(t,e)},t.Float32BufferAttribute=R,t.Float64Attribute=function(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new y(t,e)},t.Float64BufferAttribute=y,t.FloatType=1015,t.Fog=Gs,t.FogExp2=zs,t.Font=gi,t.FontLoader=vi,t.FrontSide=0,t.Frustum=ys,t.GLBufferAttribute=Ci,t.GLSL1="100",t.GLSL3="300 es",t.GammaEncoding=3007,t.Geometry=w,t.GeometryUtils={merge:function(t,e,n){if(console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh){e.matrixAutoUpdate&&e.updateMatrix();var r=e.matrix;e=e.geometry}t.merge(e,r,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},t.GreaterDepth=6,t.GreaterEqualDepth=5,t.GreaterEqualStencilFunc=518,t.GreaterStencilFunc=516,t.GridHelper=Fi,t.Group=ye,t.HalfFloatType=1016,t.HemisphereLight=Qr,t.HemisphereLightHelper=Ui,t.HemisphereLightProbe=xi,t.IcosahedronBufferGeometry=nn,t.IcosahedronGeometry=en,t.ImageBitmapLoader=fi,t.ImageLoader=Lr,t.ImageUtils=ua,t.ImmediateRenderObject=Ni,t.IncrementStencilOp=7682,t.IncrementWrapStencilOp=34055,t.InstancedBufferAttribute=ui,t.InstancedBufferGeometry=hi,t.InstancedInterleavedBuffer=Pi,t.InstancedMesh=De,t.Int16Attribute=function(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new f(t,e)},t.Int16BufferAttribute=f,t.Int32Attribute=function(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new g(t,e)},t.Int32BufferAttribute=g,t.Int8Attribute=function(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new l(t,e)},t.Int8BufferAttribute=l,t.IntType=1013,t.InterleavedBuffer=Te,t.InterleavedBufferAttribute=Ee,t.Interpolant=lr,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.InvertStencilOp=5386,t.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},t.KeepStencilOp=7680,t.KeyframeTrack=dr,t.LOD=Pe,t.LatheBufferGeometry=kn,t.LatheGeometry=Hn,t.Layers=no,t.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},t.LessDepth=2,t.LessEqualDepth=3,t.LessEqualStencilFunc=515,t.LessStencilFunc=513,t.Light=Jr,t.LightProbe=ci,t.LightShadow=Kr,t.Line=Be,t.Line3=xl,t.LineBasicMaterial=Ne,t.LineCurve=kr,t.LineCurve3=Vr,t.LineDashedMaterial=cr,t.LineLoop=Ge,t.LinePieces=1,t.LineSegments=ze,t.LineStrip=0,t.LinearEncoding=3e3,t.LinearFilter=1006,t.LinearInterpolant=ur,t.LinearMipMapLinearFilter=1008,t.LinearMipMapNearestFilter=1007,t.LinearMipmapLinearFilter=1008,t.LinearMipmapNearestFilter=1007,t.LinearToneMapping=1,t.Loader=Sr,t.LoaderUtils=Gc,t.LoadingManager=Mr,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=1025,t.LuminanceFormat=1024,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},t.Material=s,t.MaterialLoader=li,t.Math=oa,t.MathUtils=oa,t.Matrix3=la,t.Matrix4=ja,t.MaxEquation=104,t.Mesh=L,t.MeshBasicMaterial=c,t.MeshDepthMaterial=ue,t.MeshDistanceMaterial=pe,t.MeshFaceMaterial=function(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t},t.MeshLambertMaterial=or,t.MeshMatcapMaterial=sr,t.MeshNormalMaterial=ar,t.MeshPhongMaterial=rr,t.MeshPhysicalMaterial=nr,t.MeshStandardMaterial=er,t.MeshToonMaterial=ir,t.MinEquation=103,t.MirroredRepeatWrapping=1002,t.MixOperation=1,t.MultiMaterial=function(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,(t.materials=t).clone=function(){return t.slice()},t},t.MultiplyBlending=4,t.MultiplyOperation=0,t.NearestFilter=1003,t.NearestMipMapLinearFilter=1005,t.NearestMipMapNearestFilter=1004,t.NearestMipmapLinearFilter=1005,t.NearestMipmapNearestFilter=1004,t.NeverDepth=0,t.NeverStencilFunc=512,t.NoBlending=0,t.NoColors=0,t.NoToneMapping=0,t.NormalAnimationBlendMode=2500,t.NormalBlending=1,t.NotEqualDepth=7,t.NotEqualStencilFunc=517,t.NumberKeyframeTrack=gr,t.Object3D=d,t.ObjectLoader=di,t.ObjectSpaceNormalMap=1,t.OctahedronBufferGeometry=tn,t.OctahedronGeometry=$e,t.OneFactor=201,t.OneMinusDstAlphaFactor=207,t.OneMinusDstColorFactor=209,t.OneMinusSrcAlphaFactor=205,t.OneMinusSrcColorFactor=203,t.OrthographicCamera=ri,t.PCFShadowMap=1,t.PCFSoftShadowMap=2,t.PMREMGenerator=Zl,t.ParametricBufferGeometry=Ye,t.ParametricGeometry=Xe,t.Particle=function(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Le(t)},t.ParticleBasicMaterial=function(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ue(t)},t.ParticleSystem=function(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Fe(t,e)},t.ParticleSystemMaterial=function(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ue(t)},t.Path=Yr,t.PerspectiveCamera=D,t.Plane=bo,t.PlaneBufferGeometry=G,t.PlaneGeometry=z,t.PlaneHelper=Xi,t.PointCloud=function(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Fe(t,e)},t.PointCloudMaterial=function(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ue(t)},t.PointLight=ni,t.PointLightHelper=Gi,t.Points=Fe,t.PointsMaterial=Ue,t.PolarGridHelper=Hi,t.PolyhedronBufferGeometry=Je,t.PolyhedronGeometry=Ze,t.PositionalAudio=Si,t.PropertyBinding=Ai,t.PropertyMixer=Ti,t.QuadraticBezierCurve=jr,t.QuadraticBezierCurve3=Wr,t.Quaternion=ma,t.QuaternionKeyframeTrack=yr,t.QuaternionLinearInterpolant=vr,t.REVISION="120",t.RGBADepthPacking=3201,t.RGBAFormat=1023,t.RGBAIntegerFormat=1033,t.RGBA_ASTC_10x10_Format=37819,t.RGBA_ASTC_10x5_Format=37816,t.RGBA_ASTC_10x6_Format=37817,t.RGBA_ASTC_10x8_Format=37818,t.RGBA_ASTC_12x10_Format=37820,t.RGBA_ASTC_12x12_Format=37821,t.RGBA_ASTC_4x4_Format=37808,t.RGBA_ASTC_5x4_Format=37809,t.RGBA_ASTC_5x5_Format=37810,t.RGBA_ASTC_6x5_Format=37811,t.RGBA_ASTC_6x6_Format=37812,t.RGBA_ASTC_8x5_Format=37813,t.RGBA_ASTC_8x6_Format=37814,t.RGBA_ASTC_8x8_Format=37815,t.RGBA_BPTC_Format=36492,t.RGBA_ETC2_EAC_Format=37496,t.RGBA_PVRTC_2BPPV1_Format=35843,t.RGBA_PVRTC_4BPPV1_Format=35842,t.RGBA_S3TC_DXT1_Format=33777,t.RGBA_S3TC_DXT3_Format=33778,t.RGBA_S3TC_DXT5_Format=33779,t.RGBDEncoding=3006,t.RGBEEncoding=3002,t.RGBEFormat=1023,t.RGBFormat=1022,t.RGBIntegerFormat=1032,t.RGBM16Encoding=3005,t.RGBM7Encoding=3004,t.RGB_ETC1_Format=36196,t.RGB_ETC2_Format=37492,t.RGB_PVRTC_2BPPV1_Format=35841,t.RGB_PVRTC_4BPPV1_Format=35840,t.RGB_S3TC_DXT1_Format=33776,t.RGFormat=1030,t.RGIntegerFormat=1031,t.RawShaderMaterial=tr,t.Ray=Va,t.Raycaster=Oi,t.RectAreaLight=si,t.RedFormat=1028,t.RedIntegerFormat=1029,t.ReinhardToneMapping=2,t.RepeatWrapping=1e3,t.ReplaceStencilOp=7681,t.ReverseSubtractEquation=102,t.RingBufferGeometry=Fn,t.RingGeometry=Un,t.SRGB8_ALPHA8_ASTC_10x10_Format=37851,t.SRGB8_ALPHA8_ASTC_10x5_Format=37848,t.SRGB8_ALPHA8_ASTC_10x6_Format=37849,t.SRGB8_ALPHA8_ASTC_10x8_Format=37850,t.SRGB8_ALPHA8_ASTC_12x10_Format=37852,t.SRGB8_ALPHA8_ASTC_12x12_Format=37853,t.SRGB8_ALPHA8_ASTC_4x4_Format=37840,t.SRGB8_ALPHA8_ASTC_5x4_Format=37841,t.SRGB8_ALPHA8_ASTC_5x5_Format=37842,t.SRGB8_ALPHA8_ASTC_6x5_Format=37843,t.SRGB8_ALPHA8_ASTC_6x6_Format=37844,t.SRGB8_ALPHA8_ASTC_8x5_Format=37845,t.SRGB8_ALPHA8_ASTC_8x6_Format=37846,t.SRGB8_ALPHA8_ASTC_8x8_Format=37847,t.Scene=Se,t.SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}},t.ShaderChunk=xs,t.ShaderLib=_s,t.ShaderMaterial=O,t.ShadowMaterial=$n,t.Shape=Zr,t.ShapeBufferGeometry=jn,t.ShapeGeometry=Vn,t.ShapePath=mi,t.ShapeUtils=Sc,t.ShortType=1011,t.Skeleton=Oe,t.SkeletonHelper=zi,t.SkinnedMesh=Ce,t.SmoothShading=2,t.Sphere=Na,t.SphereBufferGeometry=Gn,t.SphereGeometry=zn,t.Spherical=dl,t.SphericalHarmonics3=zc,t.Spline=na,t.SplineCurve=qr,t.SplineCurve3=ea,t.SpotLight=ti,t.SpotLightHelper=Bi,t.Sprite=Le,t.SpriteMaterial=Ae,t.SrcAlphaFactor=204,t.SrcAlphaSaturateFactor=210,t.SrcColorFactor=202,t.StaticCopyUsage=35046,t.StaticDrawUsage=35044,t.StaticReadUsage=35045,t.StereoCamera=_i,t.StreamCopyUsage=35042,t.StreamDrawUsage=35040,t.StreamReadUsage=35041,t.StringKeyframeTrack=xr,t.SubtractEquation=101,t.SubtractiveBlending=3,t.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},t.TangentSpaceNormalMap=0,t.TetrahedronBufferGeometry=Ke,t.TetrahedronGeometry=Qe,t.TextBufferGeometry=Bn,t.TextGeometry=Nn,t.Texture=p,t.TextureLoader=Cr,t.TorusBufferGeometry=un,t.TorusGeometry=hn,t.TorusKnotBufferGeometry=ln,t.TorusKnotGeometry=cn,t.Triangle=Co,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=0,t.TubeBufferGeometry=sn,t.TubeGeometry=on,t.UVMapping=300,t.Uint16Attribute=function(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new m(t,e)},t.Uint16BufferAttribute=m,t.Uint32Attribute=function(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new v(t,e)},t.Uint32BufferAttribute=v,t.Uint8Attribute=function(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new h(t,e)},t.Uint8BufferAttribute=h,t.Uint8ClampedAttribute=function(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new u(t,e)},t.Uint8ClampedBufferAttribute=u,t.Uniform=pl,t.UniformsLib=bs,t.UniformsUtils=ms,t.UnsignedByteType=1009,t.UnsignedInt248Type=1020,t.UnsignedIntType=1014,t.UnsignedShort4444Type=1017,t.UnsignedShort5551Type=1018,t.UnsignedShort565Type=1019,t.UnsignedShortType=1012,t.VSMShadowMap=3,t.Vector2=sa,t.Vector3=va,t.Vector4=da,t.VectorKeyframeTrack=br,t.Vertex=function(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new va(t,e,n)},t.VertexColors=2,t.VideoTexture=ke,t.WebGL1Renderer=Me,t.WebGLCubeRenderTarget=B,t.WebGLMultisampleRenderTarget=n,t.WebGLRenderTarget=E,t.WebGLRenderTargetCube=function(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new B(t,n)},t.WebGLRenderer=we,t.WebGLUtils=ge,t.WireframeGeometry=qe,t.WireframeHelper=function(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ze(new qe(t.geometry),new Ne({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=2402,t.XHRLoader=function(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Tr(t)},t.ZeroCurvatureEnding=2400,t.ZeroFactor=200,t.ZeroSlopeEnding=2401,t.ZeroStencilOp=0,t.sRGBEncoding=3001,Object.defineProperty(t,"__esModule",{value:!0})});
Detector={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,o,n;t=void 0!==(e=e||{}).parent?e.parent:document.body,o=void 0!==e.id?e.id:"oldie",(n=Detector.getWebGLErrorMessage()).id=o,t.appendChild(n)}};
var TWEEN=TWEEN||function(){var i=[];return{getAll:function(){return i},removeAll:function(){i=[]},add:function(n){i.push(n)},remove:function(n){var t=i.indexOf(n);-1!==t&&i.splice(t,1)},update:function(n,t){if(0===i.length)return!1;var r=0;for(n=void 0!==n?n:TWEEN.now();r<i.length;)i[r].update(n)||t?r++:i.splice(r,1);return!0}}}();"undefined"==typeof window&&"undefined"!=typeof process?TWEEN.now=function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?TWEEN.now=window.performance.now.bind(window.performance):void 0!==Date.now?TWEEN.now=Date.now:TWEEN.now=function(){return(new Date).getTime()},TWEEN.Tween=function(n){var c,s=n,h={},l={},E={},p=1e3,d=0,w=!1,r=!1,v=!1,I=0,M=null,T=TWEEN.Easing.Linear.None,N=TWEEN.Interpolation.Linear,W=[],O=null,m=!1,g=null,y=null,t=null;this.to=function(n,t){return l=n,void 0!==t&&(p=t),this},this.start=function(n){for(var t in TWEEN.add(this),m=!(r=!0),M=void 0!==n?n:TWEEN.now(),M+=I,l){if(l[t]instanceof Array){if(0===l[t].length)continue;l[t]=[s[t]].concat(l[t])}void 0!==s[t]&&(h[t]=s[t],h[t]instanceof Array==!1&&(h[t]*=1),E[t]=h[t]||0)}return this},this.stop=function(){return r&&(TWEEN.remove(this),r=!1,null!==t&&t.call(s,s),this.stopChainedTweens()),this},this.end=function(){return this.update(M+p),this},this.stopChainedTweens=function(){for(var n=0,t=W.length;n<t;n++)W[n].stop()},this.delay=function(n){return I=n,this},this.repeat=function(n){return d=n,this},this.repeatDelay=function(n){return c=n,this},this.yoyo=function(n){return w=n,this},this.easing=function(n){return T=n,this},this.interpolation=function(n){return N=n,this},this.chain=function(){return W=arguments,this},this.onStart=function(n){return O=n,this},this.onUpdate=function(n){return g=n,this},this.onComplete=function(n){return y=n,this},this.onStop=function(n){return t=n,this},this.update=function(n){var t,r,i;if(n<M)return!0;for(t in!1===m&&(null!==O&&O.call(s,s),m=!0),i=T(r=1<(r=(n-M)/p)?1:r),l)if(void 0!==h[t]){var u=h[t]||0,e=l[t];e instanceof Array?s[t]=N(e,i):("string"==typeof e&&(e="+"===e.charAt(0)||"-"===e.charAt(0)?u+parseFloat(e):parseFloat(e)),"number"==typeof e&&(s[t]=u+(e-u)*i))}if(null!==g&&g.call(s,i),1!==r)return!0;if(0<d){for(t in isFinite(d)&&d--,E){if("string"==typeof l[t]&&(E[t]=E[t]+parseFloat(l[t])),w){var o=E[t];E[t]=l[t],l[t]=o}h[t]=E[t]}return w&&(v=!v),M=void 0!==c?n+c:n+I,!0}null!==y&&y.call(s,s);for(var a=0,f=W.length;a<f;a++)W[a].start(M+p);return!1}},TWEEN.Easing={Linear:{None:function(n){return n}},Quadratic:{In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}},Cubic:{In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}},Quartic:{In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}},Quintic:{In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}},Sinusoidal:{In:function(n){return 1-Math.cos(n*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return.5*(1-Math.cos(Math.PI*n))}},Exponential:{In:function(n){return 0===n?0:Math.pow(1024,n-1)},Out:function(n){return 1===n?1:1-Math.pow(2,-10*n)},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))}},Circular:{In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}},Elastic:{In:function(n){return 0===n?0:1===n?1:-Math.pow(2,10*(n-1))*Math.sin(5*(n-1.1)*Math.PI)},Out:function(n){return 0===n?0:1===n?1:Math.pow(2,-10*n)*Math.sin(5*(n-.1)*Math.PI)+1},InOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?-.5*Math.pow(2,10*(n-1))*Math.sin(5*(n-1.1)*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin(5*(n-1.1)*Math.PI)+1}},Back:{In:function(n){return n*n*(2.70158*n-1.70158)},Out:function(n){return--n*n*(2.70158*n+1.70158)+1},InOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)}},Bounce:{In:function(n){return 1-TWEEN.Easing.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?.5*TWEEN.Easing.Bounce.In(2*n):.5*TWEEN.Easing.Bounce.Out(2*n-1)+.5}}},TWEEN.Interpolation={Linear:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),e=TWEEN.Interpolation.Utils.Linear;return t<0?e(n[0],n[1],i):1<t?e(n[r],n[r-1],r-i):e(n[u],n[r<u+1?r:u+1],i-u)},Bezier:function(n,t){for(var r=0,i=n.length-1,u=Math.pow,e=TWEEN.Interpolation.Utils.Bernstein,o=0;o<=i;o++)r+=u(1-t,i-o)*u(t,o)*n[o]*e(i,o);return r},CatmullRom:function(n,t){var r=n.length-1,i=r*t,u=Math.floor(i),e=TWEEN.Interpolation.Utils.CatmullRom;return n[0]===n[r]?(t<0&&(u=Math.floor(i=r*(1+t))),e(n[(u-1+r)%r],n[u],n[(u+1)%r],n[(u+2)%r],i-u)):t<0?n[0]-(e(n[0],n[0],n[1],n[1],-i)-n[0]):1<t?n[r]-(e(n[r],n[r],n[r-1],n[r-1],i-r)-n[r]):e(n[u?u-1:0],n[u],n[r<u+1?r:u+1],n[r<u+2?r:u+2],i-u)},Utils:{Linear:function(n,t,r){return(t-n)*r+n},Bernstein:function(n,t){var r=TWEEN.Interpolation.Utils.Factorial;return r(n)/r(t)/r(n-t)},Factorial:function(){var i=[1];return function(n){var t=1;if(i[n])return i[n];for(var r=n;1<r;r--)t*=r;return i[n]=t}}(),CatmullRom:function(n,t,r,i,u){var e=.5*(r-n),o=.5*(i-t),a=u*u;return(2*t-2*r+e+o)*(u*a)+(-3*t+3*r-2*e-o)*a+e*u+t}}},function(n){"function"==typeof define&&define.amd?define([],function(){return TWEEN}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=TWEEN:void 0!==n&&(n.TWEEN=TWEEN)}(this);
var THREEx=THREEx||{};THREEx.WindowResize=function(n,e){var i=function(){n.setSize(window.innerWidth,window.innerHeight),e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix()};return window.addEventListener("resize",i,!1),{stop:function(){window.removeEventListener("resize",i)}}};
globe_manipulator=function(t){t.dom_object;var n=t.camera,e=(t.radius,t.on_clicked_callback,t.right_click_to_select),o=(t.min_distance,t.max_distance,t.start_lat),i=t.start_lng,a=t.start_distance,s=t.auto_rotate,c=0,_=0,r={x:0,y:0},u={x:0,y:0},h=(t.mesh,new THREE.Vector3(0,0,0));_=a,e&&(document.oncontextmenu=document.body.oncontextmenu=function(){return!1}),this.reset=function(){this.set_lat_lng(o,i),this.set_distance(a)},this.stop_auto_rotate=function(){s=!1},this.update=function(){s?(u.x+=.002,u.x>2*Math.PI&&(u.x=0),r.x=u.x):(r.x+=.05*(u.x-r.x),r.y+=.05*(u.y-r.y)),c+=.05*(_-c),n.position.x=c*Math.sin(r.x)*Math.cos(r.y),n.position.y=c*Math.sin(r.y),n.position.z=c*Math.cos(r.x)*Math.cos(r.y),n.lookAt(h),n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix()},this.set_lat_lng=function(t,n){u.x=(n+90)*Math.PI/180,u.y=t*Math.PI/180},this.set_distance=function(t){_=t},this._on_key_down=function(t){27===t.keyCode&&(globe_manipulator.reset(),t.preventDefault()),32===t.keyCode&&(s=!s,t.preventDefault())},this.reset()};
!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(a){"use strict";var s,r=window.Slick||{};s=0,(r=function(i,e){var t,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:a(i),appendDots:a(i),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(i,e){return a('<button type="button" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},a.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=a(i),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,t=a(i).data("slick")||{},o.options=a.extend({},o.defaults,e,t),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=a.proxy(o.autoPlay,o),o.autoPlayClear=a.proxy(o.autoPlayClear,o),o.autoPlayIterator=a.proxy(o.autoPlayIterator,o),o.changeSlide=a.proxy(o.changeSlide,o),o.clickHandler=a.proxy(o.clickHandler,o),o.selectHandler=a.proxy(o.selectHandler,o),o.setPosition=a.proxy(o.setPosition,o),o.swipeHandler=a.proxy(o.swipeHandler,o),o.dragHandler=a.proxy(o.dragHandler,o),o.keyHandler=a.proxy(o.keyHandler,o),o.instanceUid=s++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},r.prototype.addSlide=r.prototype.slickAdd=function(i,e,t){var o=this;if("boolean"==typeof e)t=e,e=null;else if(e<0||e>=o.slideCount)return!1;o.unload(),"number"==typeof e?0===e&&0===o.$slides.length?a(i).appendTo(o.$slideTrack):t?a(i).insertBefore(o.$slides.eq(e)):a(i).insertAfter(o.$slides.eq(e)):!0===t?a(i).prependTo(o.$slideTrack):a(i).appendTo(o.$slideTrack),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slides.each(function(i,e){a(e).attr("data-slick-index",i)}),o.$slidesCache=o.$slides,o.reinit()},r.prototype.animateHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.animate({height:e},i.options.speed)}},r.prototype.animateSlide=function(i,e){var t={},o=this;o.animateHeight(),!0===o.options.rtl&&!1===o.options.vertical&&(i=-i),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:i},o.options.speed,o.options.easing,e):o.$slideTrack.animate({top:i},o.options.speed,o.options.easing,e):!1===o.cssTransitions?(!0===o.options.rtl&&(o.currentLeft=-o.currentLeft),a({animStart:o.currentLeft}).animate({animStart:i},{duration:o.options.speed,easing:o.options.easing,step:function(i){i=Math.ceil(i),!1===o.options.vertical?t[o.animType]="translate("+i+"px, 0px)":t[o.animType]="translate(0px,"+i+"px)",o.$slideTrack.css(t)},complete:function(){e&&e.call()}})):(o.applyTransition(),i=Math.ceil(i),!1===o.options.vertical?t[o.animType]="translate3d("+i+"px, 0px, 0px)":t[o.animType]="translate3d(0px,"+i+"px, 0px)",o.$slideTrack.css(t),e&&setTimeout(function(){o.disableTransition(),e.call()},o.options.speed))},r.prototype.getNavTarget=function(){var i=this.options.asNavFor;return i&&null!==i&&(i=a(i).not(this.$slider)),i},r.prototype.asNavFor=function(e){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=a(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},r.prototype.applyTransition=function(i){var e=this,t={};!1===e.options.fade?t[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:t[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(t):e.$slides.eq(i).css(t)},r.prototype.autoPlay=function(){var i=this;i.autoPlayClear(),i.slideCount>i.options.slidesToShow&&(i.autoPlayTimer=setInterval(i.autoPlayIterator,i.options.autoplaySpeed))},r.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},r.prototype.autoPlayIterator=function(){var i=this,e=i.currentSlide+i.options.slidesToScroll;i.paused||i.interrupted||i.focussed||(!1===i.options.infinite&&(1===i.direction&&i.currentSlide+1===i.slideCount-1?i.direction=0:0===i.direction&&(e=i.currentSlide-i.options.slidesToScroll,i.currentSlide-1==0&&(i.direction=1))),i.slideHandler(e))},r.prototype.buildArrows=function(){var i=this;!0===i.options.arrows&&(i.$prevArrow=a(i.options.prevArrow).addClass("slick-arrow"),i.$nextArrow=a(i.options.nextArrow).addClass("slick-arrow"),i.slideCount>i.options.slidesToShow?(i.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),i.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.prependTo(i.options.appendArrows),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.appendTo(i.options.appendArrows),!0!==i.options.infinite&&i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):i.$prevArrow.add(i.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},r.prototype.buildDots=function(){var i,e,t=this;if(!0===t.options.dots&&t.slideCount>t.options.slidesToShow){for(t.$slider.addClass("slick-dotted"),e=a("<ul />").addClass(t.options.dotsClass),i=0;i<=t.getDotCount();i+=1)e.append(a("<li />").append(t.options.customPaging.call(this,t,i)));t.$dots=e.appendTo(t.options.appendDots),t.$dots.find("li").first().addClass("slick-active")}},r.prototype.buildOut=function(){var i=this;i.$slides=i.$slider.children(i.options.slide+":not(.slick-cloned)").addClass("slick-slide"),i.slideCount=i.$slides.length,i.$slides.each(function(i,e){a(e).attr("data-slick-index",i).data("originalStyling",a(e).attr("style")||"")}),i.$slider.addClass("slick-slider"),i.$slideTrack=0===i.slideCount?a('<div class="slick-track"/>').appendTo(i.$slider):i.$slides.wrapAll('<div class="slick-track"/>').parent(),i.$list=i.$slideTrack.wrap('<div class="slick-list"/>').parent(),i.$slideTrack.css("opacity",0),!0!==i.options.centerMode&&!0!==i.options.swipeToSlide||(i.options.slidesToScroll=1),a("img[data-lazy]",i.$slider).not("[src]").addClass("slick-loading"),i.setupInfinite(),i.buildArrows(),i.buildDots(),i.updateDots(),i.setSlideClasses("number"==typeof i.currentSlide?i.currentSlide:0),!0===i.options.draggable&&i.$list.addClass("draggable")},r.prototype.buildRows=function(){var i,e,t,o,s,n,r,l=this;if(o=document.createDocumentFragment(),n=l.$slider.children(),0<l.options.rows){for(r=l.options.slidesPerRow*l.options.rows,s=Math.ceil(n.length/r),i=0;i<s;i++){var d=document.createElement("div");for(e=0;e<l.options.rows;e++){var a=document.createElement("div");for(t=0;t<l.options.slidesPerRow;t++){var c=i*r+(e*l.options.slidesPerRow+t);n.get(c)&&a.appendChild(n.get(c))}d.appendChild(a)}o.appendChild(d)}l.$slider.empty().append(o),l.$slider.children().children().children().css({width:100/l.options.slidesPerRow+"%",display:"inline-block"})}},r.prototype.checkResponsive=function(i,e){var t,o,s,n=this,r=!1,l=n.$slider.width(),d=window.innerWidth||a(window).width();if("window"===n.respondTo?s=d:"slider"===n.respondTo?s=l:"min"===n.respondTo&&(s=Math.min(d,l)),n.options.responsive&&n.options.responsive.length&&null!==n.options.responsive){for(t in o=null,n.breakpoints)n.breakpoints.hasOwnProperty(t)&&(!1===n.originalSettings.mobileFirst?s<n.breakpoints[t]&&(o=n.breakpoints[t]):s>n.breakpoints[t]&&(o=n.breakpoints[t]));null!==o?null!==n.activeBreakpoint?(o!==n.activeBreakpoint||e)&&(n.activeBreakpoint=o,"unslick"===n.breakpointSettings[o]?n.unslick(o):(n.options=a.extend({},n.originalSettings,n.breakpointSettings[o]),!0===i&&(n.currentSlide=n.options.initialSlide),n.refresh(i)),r=o):(n.activeBreakpoint=o,"unslick"===n.breakpointSettings[o]?n.unslick(o):(n.options=a.extend({},n.originalSettings,n.breakpointSettings[o]),!0===i&&(n.currentSlide=n.options.initialSlide),n.refresh(i)),r=o):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=n.originalSettings,!0===i&&(n.currentSlide=n.options.initialSlide),n.refresh(i),r=o),i||!1===r||n.$slider.trigger("breakpoint",[n,r])}},r.prototype.changeSlide=function(i,e){var t,o,s=this,n=a(i.currentTarget);switch(n.is("a")&&i.preventDefault(),n.is("li")||(n=n.closest("li")),t=s.slideCount%s.options.slidesToScroll!=0?0:(s.slideCount-s.currentSlide)%s.options.slidesToScroll,i.data.message){case"previous":o=0===t?s.options.slidesToScroll:s.options.slidesToShow-t,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide-o,!1,e);break;case"next":o=0===t?s.options.slidesToScroll:t,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide+o,!1,e);break;case"index":var r=0===i.data.index?0:i.data.index||n.index()*s.options.slidesToScroll;s.slideHandler(s.checkNavigable(r),!1,e),n.children().trigger("focus");break;default:return}},r.prototype.checkNavigable=function(i){var e,t;if(t=0,i>(e=this.getNavigableIndexes())[e.length-1])i=e[e.length-1];else for(var o in e){if(i<e[o]){i=t;break}t=e[o]}return i},r.prototype.cleanUpEvents=function(){var i=this;i.options.dots&&null!==i.$dots&&(a("li",i.$dots).off("click.slick",i.changeSlide).off("mouseenter.slick",a.proxy(i.interrupt,i,!0)).off("mouseleave.slick",a.proxy(i.interrupt,i,!1)),!0===i.options.accessibility&&i.$dots.off("keydown.slick",i.keyHandler)),i.$slider.off("focus.slick blur.slick"),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow&&i.$prevArrow.off("click.slick",i.changeSlide),i.$nextArrow&&i.$nextArrow.off("click.slick",i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow&&i.$prevArrow.off("keydown.slick",i.keyHandler),i.$nextArrow&&i.$nextArrow.off("keydown.slick",i.keyHandler))),i.$list.off("touchstart.slick mousedown.slick",i.swipeHandler),i.$list.off("touchmove.slick mousemove.slick",i.swipeHandler),i.$list.off("touchend.slick mouseup.slick",i.swipeHandler),i.$list.off("touchcancel.slick mouseleave.slick",i.swipeHandler),i.$list.off("click.slick",i.clickHandler),a(document).off(i.visibilityChange,i.visibility),i.cleanUpSlideEvents(),!0===i.options.accessibility&&i.$list.off("keydown.slick",i.keyHandler),!0===i.options.focusOnSelect&&a(i.$slideTrack).children().off("click.slick",i.selectHandler),a(window).off("orientationchange.slick.slick-"+i.instanceUid,i.orientationChange),a(window).off("resize.slick.slick-"+i.instanceUid,i.resize),a("[draggable!=true]",i.$slideTrack).off("dragstart",i.preventDefault),a(window).off("load.slick.slick-"+i.instanceUid,i.setPosition)},r.prototype.cleanUpSlideEvents=function(){var i=this;i.$list.off("mouseenter.slick",a.proxy(i.interrupt,i,!0)),i.$list.off("mouseleave.slick",a.proxy(i.interrupt,i,!1))},r.prototype.cleanUpRows=function(){var i;0<this.options.rows&&((i=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(i))},r.prototype.clickHandler=function(i){!1===this.shouldClick&&(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault())},r.prototype.destroy=function(i){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),a(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){a(this).attr("style",a(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,i||e.$slider.trigger("destroy",[e])},r.prototype.disableTransition=function(i){var e={};e[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(e):this.$slides.eq(i).css(e)},r.prototype.fadeSlide=function(i,e){var t=this;!1===t.cssTransitions?(t.$slides.eq(i).css({zIndex:t.options.zIndex}),t.$slides.eq(i).animate({opacity:1},t.options.speed,t.options.easing,e)):(t.applyTransition(i),t.$slides.eq(i).css({opacity:1,zIndex:t.options.zIndex}),e&&setTimeout(function(){t.disableTransition(i),e.call()},t.options.speed))},r.prototype.fadeSlideOut=function(i){var e=this;!1===e.cssTransitions?e.$slides.eq(i).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(i),e.$slides.eq(i).css({opacity:0,zIndex:e.options.zIndex-2}))},r.prototype.filterSlides=r.prototype.slickFilter=function(i){var e=this;null!==i&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(i).appendTo(e.$slideTrack),e.reinit())},r.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var e=a(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=e.is(":focus"),t.autoPlay())},0)})},r.prototype.getCurrent=r.prototype.slickCurrentSlide=function(){return this.currentSlide},r.prototype.getDotCount=function(){var i=this,e=0,t=0,o=0;if(!0===i.options.infinite)if(i.slideCount<=i.options.slidesToShow)++o;else for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else if(!0===i.options.centerMode)o=i.slideCount;else if(i.options.asNavFor)for(;e<i.slideCount;)++o,e=t+i.options.slidesToScroll,t+=i.options.slidesToScroll<=i.options.slidesToShow?i.options.slidesToScroll:i.options.slidesToShow;else o=1+Math.ceil((i.slideCount-i.options.slidesToShow)/i.options.slidesToScroll);return o-1},r.prototype.getLeft=function(i){var e,t,o,s,n=this,r=0;return n.slideOffset=0,t=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,s=-1,!0===n.options.vertical&&!0===n.options.centerMode&&(2===n.options.slidesToShow?s=-1.5:1===n.options.slidesToShow&&(s=-2)),r=t*n.options.slidesToShow*s),n.slideCount%n.options.slidesToScroll!=0&&i+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(r=i>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(i-n.slideCount))*n.slideWidth*-1,(n.options.slidesToShow-(i-n.slideCount))*t*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,n.slideCount%n.options.slidesToScroll*t*-1))):i+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(i+n.options.slidesToShow-n.slideCount)*n.slideWidth,r=(i+n.options.slidesToShow-n.slideCount)*t),n.slideCount<=n.options.slidesToShow&&(r=n.slideOffset=0),!0===n.options.centerMode&&n.slideCount<=n.options.slidesToShow?n.slideOffset=n.slideWidth*Math.floor(n.options.slidesToShow)/2-n.slideWidth*n.slideCount/2:!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?i*n.slideWidth*-1+n.slideOffset:i*t*-1+r,!0===n.options.variableWidth&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,!0===n.options.centerMode&&(o=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(i):n.$slideTrack.children(".slick-slide").eq(i+n.options.slidesToShow+1),e=!0===n.options.rtl?o[0]?-1*(n.$slideTrack.width()-o[0].offsetLeft-o.width()):0:o[0]?-1*o[0].offsetLeft:0,e+=(n.$list.width()-o.outerWidth())/2)),e},r.prototype.getOption=r.prototype.slickGetOption=function(i){return this.options[i]},r.prototype.getNavigableIndexes=function(){var i,e=this,t=0,o=0,s=[];for(i=!1===e.options.infinite?e.slideCount:(t=-1*e.options.slidesToScroll,o=-1*e.options.slidesToScroll,2*e.slideCount);t<i;)s.push(t),t=o+e.options.slidesToScroll,o+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},r.prototype.getSlick=function(){return this},r.prototype.getSlideCount=function(){var t,o,s=this;return o=!0===s.options.centerMode?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,!0===s.options.swipeToSlide?(s.$slideTrack.find(".slick-slide").each(function(i,e){if(e.offsetLeft-o+a(e).outerWidth()/2>-1*s.swipeLeft)return t=e,!1}),Math.abs(a(t).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},r.prototype.goTo=r.prototype.slickGoTo=function(i,e){this.changeSlide({data:{message:"index",index:parseInt(i)}},e)},r.prototype.init=function(i){var e=this;a(e.$slider).hasClass("slick-initialized")||(a(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),i&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},r.prototype.initADA=function(){var o=this,t=Math.ceil(o.slideCount/o.options.slidesToShow),s=o.getNavigableIndexes().filter(function(i){return 0<=i&&i<o.slideCount});o.$slides.add(o.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==o.$dots&&(o.$slides.not(o.$slideTrack.find(".slick-cloned")).each(function(i){var e=s.indexOf(i);if(a(this).attr({role:"tabpanel",id:"slick-slide"+o.instanceUid+i,tabindex:-1}),-1!==e){var t="slick-slide-control"+o.instanceUid+e;a("#"+t).length&&a(this).attr({"aria-describedby":t})}}),o.$dots.attr("role","tablist").find("li").each(function(i){var e=s[i];a(this).attr({role:"presentation"}),a(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+o.instanceUid+i,"aria-controls":"slick-slide"+o.instanceUid+e,"aria-label":i+1+" of "+t,"aria-selected":null,tabindex:"-1"})}).eq(o.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var i=o.currentSlide,e=i+o.options.slidesToShow;i<e;i++)o.options.focusOnChange?o.$slides.eq(i).attr({tabindex:"0"}):o.$slides.eq(i).removeAttr("tabindex");o.activateADA()},r.prototype.initArrowEvents=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},i.changeSlide),i.$nextArrow.off("click.slick").on("click.slick",{message:"next"},i.changeSlide),!0===i.options.accessibility&&(i.$prevArrow.on("keydown.slick",i.keyHandler),i.$nextArrow.on("keydown.slick",i.keyHandler)))},r.prototype.initDotEvents=function(){var i=this;!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&(a("li",i.$dots).on("click.slick",{message:"index"},i.changeSlide),!0===i.options.accessibility&&i.$dots.on("keydown.slick",i.keyHandler)),!0===i.options.dots&&!0===i.options.pauseOnDotsHover&&i.slideCount>i.options.slidesToShow&&a("li",i.$dots).on("mouseenter.slick",a.proxy(i.interrupt,i,!0)).on("mouseleave.slick",a.proxy(i.interrupt,i,!1))},r.prototype.initSlideEvents=function(){var i=this;i.options.pauseOnHover&&(i.$list.on("mouseenter.slick",a.proxy(i.interrupt,i,!0)),i.$list.on("mouseleave.slick",a.proxy(i.interrupt,i,!1)))},r.prototype.initializeEvents=function(){var i=this;i.initArrowEvents(),i.initDotEvents(),i.initSlideEvents(),i.$list.on("touchstart.slick mousedown.slick",{action:"start"},i.swipeHandler),i.$list.on("touchmove.slick mousemove.slick",{action:"move"},i.swipeHandler),i.$list.on("touchend.slick mouseup.slick",{action:"end"},i.swipeHandler),i.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},i.swipeHandler),i.$list.on("click.slick",i.clickHandler),a(document).on(i.visibilityChange,a.proxy(i.visibility,i)),!0===i.options.accessibility&&i.$list.on("keydown.slick",i.keyHandler),!0===i.options.focusOnSelect&&a(i.$slideTrack).children().on("click.slick",i.selectHandler),a(window).on("orientationchange.slick.slick-"+i.instanceUid,a.proxy(i.orientationChange,i)),a(window).on("resize.slick.slick-"+i.instanceUid,a.proxy(i.resize,i)),a("[draggable!=true]",i.$slideTrack).on("dragstart",i.preventDefault),a(window).on("load.slick.slick-"+i.instanceUid,i.setPosition),a(i.setPosition)},r.prototype.initUI=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.show(),i.$nextArrow.show()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.show()},r.prototype.keyHandler=function(i){var e=this;i.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===i.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===i.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},r.prototype.lazyLoad=function(){var i,e,t,n=this;function o(i){a("img[data-lazy]",i).each(function(){var i=a(this),e=a(this).attr("data-lazy"),t=a(this).attr("data-srcset"),o=a(this).attr("data-sizes")||n.$slider.attr("data-sizes"),s=document.createElement("img");s.onload=function(){i.animate({opacity:0},100,function(){t&&(i.attr("srcset",t),o&&i.attr("sizes",o)),i.attr("src",e).animate({opacity:1},200,function(){i.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),n.$slider.trigger("lazyLoaded",[n,i,e])})},s.onerror=function(){i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,i,e])},s.src=e})}if(!0===n.options.centerMode?t=!0===n.options.infinite?(e=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(e=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),n.options.slidesToShow/2+1+2+n.currentSlide):(e=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,t=Math.ceil(e+n.options.slidesToShow),!0===n.options.fade&&(0<e&&e--,t<=n.slideCount&&t++)),i=n.$slider.find(".slick-slide").slice(e,t),"anticipated"===n.options.lazyLoad)for(var s=e-1,r=t,l=n.$slider.find(".slick-slide"),d=0;d<n.options.slidesToScroll;d++)s<0&&(s=n.slideCount-1),i=(i=i.add(l.eq(s))).add(l.eq(r)),s--,r++;o(i),n.slideCount<=n.options.slidesToShow?o(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?o(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&o(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},r.prototype.loadSlider=function(){var i=this;i.setPosition(),i.$slideTrack.css({opacity:1}),i.$slider.removeClass("slick-loading"),i.initUI(),"progressive"===i.options.lazyLoad&&i.progressiveLazyLoad()},r.prototype.next=r.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},r.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},r.prototype.pause=r.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},r.prototype.play=r.prototype.slickPlay=function(){var i=this;i.autoPlay(),i.options.autoplay=!0,i.paused=!1,i.focussed=!1,i.interrupted=!1},r.prototype.postSlide=function(i){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,i]),e.animating=!1,e.slideCount>e.options.slidesToShow&&e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&(e.initADA(),e.options.focusOnChange&&a(e.$slides.get(e.currentSlide)).attr("tabindex",0).focus()))},r.prototype.prev=r.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},r.prototype.preventDefault=function(i){i.preventDefault()},r.prototype.progressiveLazyLoad=function(i){i=i||1;var e,t,o,s,n,r=this,l=a("img[data-lazy]",r.$slider);l.length?(e=l.first(),t=e.attr("data-lazy"),o=e.attr("data-srcset"),s=e.attr("data-sizes")||r.$slider.attr("data-sizes"),(n=document.createElement("img")).onload=function(){o&&(e.attr("srcset",o),s&&e.attr("sizes",s)),e.attr("src",t).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===r.options.adaptiveHeight&&r.setPosition(),r.$slider.trigger("lazyLoaded",[r,e,t]),r.progressiveLazyLoad()},n.onerror=function(){i<3?setTimeout(function(){r.progressiveLazyLoad(i+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,t]),r.progressiveLazyLoad())},n.src=t):r.$slider.trigger("allImagesLoaded",[r])},r.prototype.refresh=function(i){var e,t,o=this;t=o.slideCount-o.options.slidesToShow,!o.options.infinite&&o.currentSlide>t&&(o.currentSlide=t),o.slideCount<=o.options.slidesToShow&&(o.currentSlide=0),e=o.currentSlide,o.destroy(!0),a.extend(o,o.initials,{currentSlide:e}),o.init(),i||o.changeSlide({data:{message:"index",index:e}},!1)},r.prototype.registerBreakpoints=function(){var i,e,t,o=this,s=o.options.responsive||null;if("array"===a.type(s)&&s.length){for(i in o.respondTo=o.options.respondTo||"window",s)if(t=o.breakpoints.length-1,s.hasOwnProperty(i)){for(e=s[i].breakpoint;0<=t;)o.breakpoints[t]&&o.breakpoints[t]===e&&o.breakpoints.splice(t,1),t--;o.breakpoints.push(e),o.breakpointSettings[e]=s[i].settings}o.breakpoints.sort(function(i,e){return o.options.mobileFirst?i-e:e-i})}},r.prototype.reinit=function(){var i=this;i.$slides=i.$slideTrack.children(i.options.slide).addClass("slick-slide"),i.slideCount=i.$slides.length,i.currentSlide>=i.slideCount&&0!==i.currentSlide&&(i.currentSlide=i.currentSlide-i.options.slidesToScroll),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),i.registerBreakpoints(),i.setProps(),i.setupInfinite(),i.buildArrows(),i.updateArrows(),i.initArrowEvents(),i.buildDots(),i.updateDots(),i.initDotEvents(),i.cleanUpSlideEvents(),i.initSlideEvents(),i.checkResponsive(!1,!0),!0===i.options.focusOnSelect&&a(i.$slideTrack).children().on("click.slick",i.selectHandler),i.setSlideClasses("number"==typeof i.currentSlide?i.currentSlide:0),i.setPosition(),i.focusHandler(),i.paused=!i.options.autoplay,i.autoPlay(),i.$slider.trigger("reInit",[i])},r.prototype.resize=function(){var i=this;a(window).width()!==i.windowWidth&&(clearTimeout(i.windowDelay),i.windowDelay=window.setTimeout(function(){i.windowWidth=a(window).width(),i.checkResponsive(),i.unslicked||i.setPosition()},50))},r.prototype.removeSlide=r.prototype.slickRemove=function(i,e,t){var o=this;if(i="boolean"==typeof i?!0===(e=i)?0:o.slideCount-1:!0===e?--i:i,o.slideCount<1||i<0||i>o.slideCount-1)return!1;o.unload(),!0===t?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(i).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,o.reinit()},r.prototype.setCSS=function(i){var e,t,o=this,s={};!0===o.options.rtl&&(i=-i),e="left"==o.positionProp?Math.ceil(i)+"px":"0px",t="top"==o.positionProp?Math.ceil(i)+"px":"0px",s[o.positionProp]=i,!1===o.transformsEnabled||(!(s={})===o.cssTransitions?s[o.animType]="translate("+e+", "+t+")":s[o.animType]="translate3d("+e+", "+t+", 0px)"),o.$slideTrack.css(s)},r.prototype.setDimensions=function(){var i=this;!1===i.options.vertical?!0===i.options.centerMode&&i.$list.css({padding:"0px "+i.options.centerPadding}):(i.$list.height(i.$slides.first().outerHeight(!0)*i.options.slidesToShow),!0===i.options.centerMode&&i.$list.css({padding:i.options.centerPadding+" 0px"})),i.listWidth=i.$list.width(),i.listHeight=i.$list.height(),!1===i.options.vertical&&!1===i.options.variableWidth?(i.slideWidth=Math.ceil(i.listWidth/i.options.slidesToShow),i.$slideTrack.width(Math.ceil(i.slideWidth*i.$slideTrack.children(".slick-slide").length))):!0===i.options.variableWidth?i.$slideTrack.width(5e3*i.slideCount):(i.slideWidth=Math.ceil(i.listWidth),i.$slideTrack.height(Math.ceil(i.$slides.first().outerHeight(!0)*i.$slideTrack.children(".slick-slide").length)));var e=i.$slides.first().outerWidth(!0)-i.$slides.first().width();!1===i.options.variableWidth&&i.$slideTrack.children(".slick-slide").width(i.slideWidth-e)},r.prototype.setFade=function(){var t,o=this;o.$slides.each(function(i,e){t=o.slideWidth*i*-1,!0===o.options.rtl?a(e).css({position:"relative",right:t,top:0,zIndex:o.options.zIndex-2,opacity:0}):a(e).css({position:"relative",left:t,top:0,zIndex:o.options.zIndex-2,opacity:0})}),o.$slides.eq(o.currentSlide).css({zIndex:o.options.zIndex-1,opacity:1})},r.prototype.setHeight=function(){var i=this;if(1===i.options.slidesToShow&&!0===i.options.adaptiveHeight&&!1===i.options.vertical){var e=i.$slides.eq(i.currentSlide).outerHeight(!0);i.$list.css("height",e)}},r.prototype.setOption=r.prototype.slickSetOption=function(){var i,e,t,o,s,n=this,r=!1;if("object"===a.type(arguments[0])?(t=arguments[0],r=arguments[1],s="multiple"):"string"===a.type(arguments[0])&&(t=arguments[0],o=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===a.type(arguments[1])?s="responsive":void 0!==arguments[1]&&(s="single")),"single"===s)n.options[t]=o;else if("multiple"===s)a.each(t,function(i,e){n.options[i]=e});else if("responsive"===s)for(e in o)if("array"!==a.type(n.options.responsive))n.options.responsive=[o[e]];else{for(i=n.options.responsive.length-1;0<=i;)n.options.responsive[i].breakpoint===o[e].breakpoint&&n.options.responsive.splice(i,1),i--;n.options.responsive.push(o[e])}r&&(n.unload(),n.reinit())},r.prototype.setPosition=function(){var i=this;i.setDimensions(),i.setHeight(),!1===i.options.fade?i.setCSS(i.getLeft(i.currentSlide)):i.setFade(),i.$slider.trigger("setPosition",[i])},r.prototype.setProps=function(){var i=this,e=document.body.style;i.positionProp=!0===i.options.vertical?"top":"left","top"===i.positionProp?i.$slider.addClass("slick-vertical"):i.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===i.options.useCSS&&(i.cssTransitions=!0),i.options.fade&&("number"==typeof i.options.zIndex?i.options.zIndex<3&&(i.options.zIndex=3):i.options.zIndex=i.defaults.zIndex),void 0!==e.OTransform&&(i.animType="OTransform",i.transformType="-o-transform",i.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.MozTransform&&(i.animType="MozTransform",i.transformType="-moz-transform",i.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(i.animType=!1)),void 0!==e.webkitTransform&&(i.animType="webkitTransform",i.transformType="-webkit-transform",i.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(i.animType=!1)),void 0!==e.msTransform&&(i.animType="msTransform",i.transformType="-ms-transform",i.transitionType="msTransition",void 0===e.msTransform&&(i.animType=!1)),void 0!==e.transform&&!1!==i.animType&&(i.animType="transform",i.transformType="transform",i.transitionType="transition"),i.transformsEnabled=i.options.useTransform&&null!==i.animType&&!1!==i.animType},r.prototype.setSlideClasses=function(i){var e,t,o,s,n=this;if(t=n.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),n.$slides.eq(i).addClass("slick-current"),!0===n.options.centerMode){var r=n.options.slidesToShow%2==0?1:0;e=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(e<=i&&i<=n.slideCount-1-e?n.$slides.slice(i-e+r,i+e+1).addClass("slick-active").attr("aria-hidden","false"):(o=n.options.slidesToShow+i,t.slice(o-e+1+r,o+e+2).addClass("slick-active").attr("aria-hidden","false")),0===i?t.eq(t.length-1-n.options.slidesToShow).addClass("slick-center"):i===n.slideCount-1&&t.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(i).addClass("slick-center")}else 0<=i&&i<=n.slideCount-n.options.slidesToShow?n.$slides.slice(i,i+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):t.length<=n.options.slidesToShow?t.addClass("slick-active").attr("aria-hidden","false"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+i:i,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-i<n.options.slidesToShow?t.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active").attr("aria-hidden","false"):t.slice(o,o+n.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==n.options.lazyLoad&&"anticipated"!==n.options.lazyLoad||n.lazyLoad()},r.prototype.setupInfinite=function(){var i,e,t,o=this;if(!0===o.options.fade&&(o.options.centerMode=!1),!0===o.options.infinite&&!1===o.options.fade&&(e=null,o.slideCount>o.options.slidesToShow)){for(t=!0===o.options.centerMode?o.options.slidesToShow+1:o.options.slidesToShow,i=o.slideCount;i>o.slideCount-t;i-=1)e=i-1,a(o.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e-o.slideCount).prependTo(o.$slideTrack).addClass("slick-cloned");for(i=0;i<t+o.slideCount;i+=1)e=i,a(o.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+o.slideCount).appendTo(o.$slideTrack).addClass("slick-cloned");o.$slideTrack.find(".slick-cloned").find("[id]").each(function(){a(this).attr("id","")})}},r.prototype.interrupt=function(i){i||this.autoPlay(),this.interrupted=i},r.prototype.selectHandler=function(i){var e=a(i.target).is(".slick-slide")?a(i.target):a(i.target).parents(".slick-slide"),t=parseInt(e.attr("data-slick-index"));t||(t=0),this.slideCount<=this.options.slidesToShow?this.slideHandler(t,!1,!0):this.slideHandler(t)},r.prototype.slideHandler=function(i,e,t){var o,s,n,r,l,d,a=this;if(e=e||!1,!(!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===i))if(!1===e&&a.asNavFor(i),o=i,l=a.getLeft(o),r=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?r:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(i<0||i>a.getDotCount()*a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else if(!1===a.options.infinite&&!0===a.options.centerMode&&(i<0||i>a.slideCount-a.options.slidesToScroll))!1===a.options.fade&&(o=a.currentSlide,!0!==t&&a.slideCount>a.options.slidesToShow?a.animateSlide(r,function(){a.postSlide(o)}):a.postSlide(o));else{if(a.options.autoplay&&clearInterval(a.autoPlayTimer),s=o<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+o:o>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:o-a.slideCount:o,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,s]),n=a.currentSlide,a.currentSlide=s,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(d=(d=a.getNavTarget()).slick("getSlick")).slideCount<=d.options.slidesToShow&&d.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade)return!0!==t?(a.fadeSlideOut(n),a.fadeSlide(s,function(){a.postSlide(s)})):a.postSlide(s),void a.animateHeight();!0!==t&&a.slideCount>a.options.slidesToShow?a.animateSlide(l,function(){a.postSlide(s)}):a.postSlide(s)}},r.prototype.startLoad=function(){var i=this;!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&(i.$prevArrow.hide(),i.$nextArrow.hide()),!0===i.options.dots&&i.slideCount>i.options.slidesToShow&&i.$dots.hide(),i.$slider.addClass("slick-loading")},r.prototype.swipeDirection=function(){var i,e,t,o,s=this;return i=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,t=Math.atan2(e,i),(o=Math.round(180*t/Math.PI))<0&&(o=360-Math.abs(o)),o<=45&&0<=o?!1===s.options.rtl?"left":"right":o<=360&&315<=o?!1===s.options.rtl?"left":"right":135<=o&&o<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?35<=o&&o<=135?"down":"up":"vertical"},r.prototype.swipeEnd=function(i){var e,t,o=this;if(o.dragging=!1,o.swiping=!1,o.scrolling)return o.scrolling=!1;if(o.interrupted=!1,o.shouldClick=!(10<o.touchObject.swipeLength),void 0===o.touchObject.curX)return!1;if(!0===o.touchObject.edgeHit&&o.$slider.trigger("edge",[o,o.swipeDirection()]),o.touchObject.swipeLength>=o.touchObject.minSwipe){switch(t=o.swipeDirection()){case"left":case"down":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide+o.getSlideCount()):o.currentSlide+o.getSlideCount(),o.currentDirection=0;break;case"right":case"up":e=o.options.swipeToSlide?o.checkNavigable(o.currentSlide-o.getSlideCount()):o.currentSlide-o.getSlideCount(),o.currentDirection=1}"vertical"!=t&&(o.slideHandler(e),o.touchObject={},o.$slider.trigger("swipe",[o,t]))}else o.touchObject.startX!==o.touchObject.curX&&(o.slideHandler(o.currentSlide),o.touchObject={})},r.prototype.swipeHandler=function(i){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==i.type.indexOf("mouse")))switch(e.touchObject.fingerCount=i.originalEvent&&void 0!==i.originalEvent.touches?i.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),i.data.action){case"start":e.swipeStart(i);break;case"move":e.swipeMove(i);break;case"end":e.swipeEnd(i)}},r.prototype.swipeMove=function(i){var e,t,o,s,n,r,l=this;return n=void 0!==i.originalEvent?i.originalEvent.touches:null,!(!l.dragging||l.scrolling||n&&1!==n.length)&&(e=l.getLeft(l.currentSlide),l.touchObject.curX=void 0!==n?n[0].pageX:i.clientX,l.touchObject.curY=void 0!==n?n[0].pageY:i.clientY,l.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(l.touchObject.curX-l.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(l.touchObject.curY-l.touchObject.startY,2))),!l.options.verticalSwiping&&!l.swiping&&4<r?!(l.scrolling=!0):(!0===l.options.verticalSwiping&&(l.touchObject.swipeLength=r),t=l.swipeDirection(),void 0!==i.originalEvent&&4<l.touchObject.swipeLength&&(l.swiping=!0,i.preventDefault()),s=(!1===l.options.rtl?1:-1)*(l.touchObject.curX>l.touchObject.startX?1:-1),!0===l.options.verticalSwiping&&(s=l.touchObject.curY>l.touchObject.startY?1:-1),o=l.touchObject.swipeLength,(l.touchObject.edgeHit=!1)===l.options.infinite&&(0===l.currentSlide&&"right"===t||l.currentSlide>=l.getDotCount()&&"left"===t)&&(o=l.touchObject.swipeLength*l.options.edgeFriction,l.touchObject.edgeHit=!0),!1===l.options.vertical?l.swipeLeft=e+o*s:l.swipeLeft=e+o*(l.$list.height()/l.listWidth)*s,!0===l.options.verticalSwiping&&(l.swipeLeft=e+o*s),!0!==l.options.fade&&!1!==l.options.touchMove&&(!0===l.animating?(l.swipeLeft=null,!1):void l.setCSS(l.swipeLeft))))},r.prototype.swipeStart=function(i){var e,t=this;if(t.interrupted=!0,1!==t.touchObject.fingerCount||t.slideCount<=t.options.slidesToShow)return!(t.touchObject={});void 0!==i.originalEvent&&void 0!==i.originalEvent.touches&&(e=i.originalEvent.touches[0]),t.touchObject.startX=t.touchObject.curX=void 0!==e?e.pageX:i.clientX,t.touchObject.startY=t.touchObject.curY=void 0!==e?e.pageY:i.clientY,t.dragging=!0},r.prototype.unfilterSlides=r.prototype.slickUnfilter=function(){var i=this;null!==i.$slidesCache&&(i.unload(),i.$slideTrack.children(this.options.slide).detach(),i.$slidesCache.appendTo(i.$slideTrack),i.reinit())},r.prototype.unload=function(){var i=this;a(".slick-cloned",i.$slider).remove(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove(),i.$nextArrow&&i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove(),i.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},r.prototype.unslick=function(i){this.$slider.trigger("unslick",[this,i]),this.destroy()},r.prototype.updateArrows=function(){var i=this;Math.floor(i.options.slidesToShow/2),!0===i.options.arrows&&i.slideCount>i.options.slidesToShow&&!i.options.infinite&&(i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===i.currentSlide?(i.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-i.options.slidesToShow&&!1===i.options.centerMode?(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):i.currentSlide>=i.slideCount-1&&!0===i.options.centerMode&&(i.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),i.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},r.prototype.updateDots=function(){var i=this;null!==i.$dots&&(i.$dots.find("li").removeClass("slick-active").end(),i.$dots.find("li").eq(Math.floor(i.currentSlide/i.options.slidesToScroll)).addClass("slick-active"))},r.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},a.fn.slick=function(){var i,e,t=this,o=arguments[0],s=Array.prototype.slice.call(arguments,1),n=t.length;for(i=0;i<n;i++)if("object"==typeof o||void 0===o?t[i].slick=new r(t[i],o):e=t[i].slick[o].apply(t[i].slick,s),void 0!==e)return e;return t}});
var city_locations=new Array({name:"Mexico City",lat:19.5,lng:-99.1166667},{name:"Shanghai",lat:31.23,lng:121.47},{name:"Jakarta",lat:-6.1744444,lng:106.8294444},{name:"Mumbai",lat:18.964722,lng:72.825833},{name:"Moscow",lat:55.7522222,lng:37.6155556},{name:"Beijing",lat:39.9061928,lng:116.3880386},{name:"SÃ£o Paulo",lat:-23.5333333,lng:-46.6166667},{name:"Delhi",lat:28.63769,lng:77.205824},{name:"Istanbul",lat:41.0186111,lng:28.9647222},{name:"Tokyo",lat:35.68611,lng:139.7525},{name:"Lagos",lat:6.4530556,lng:3.3958333},{name:"New York",lat:40.704234,lng:-73.917927},{name:"SÃ£o LuÃ­s",lat:-2.516667,lng:-44.266667},{name:"Naucalpan",lat:19.47944,lng:-99.23833},{name:"Ilorin",lat:8.53,lng:4.57},{name:"Zaporizhzhya",lat:47.85,lng:35.17},{name:"Ottawa - Hull",lat:45.401348,lng:-75.727112},{name:"Freetown",lat:8.49,lng:-13.2341667},{name:"Lusaka",lat:-15.4329996109009,lng:28.3330001831055},{name:"Antananarivo",lat:-18.9166667,lng:47.5166667},{name:"Jos",lat:9.9166667,lng:8.9},{name:"Indianapolis",lat:39.790942,lng:-86.147685},{name:"La Paz",lat:-16.5,lng:-68.15},{name:"San Francisco",lat:37.759881,lng:-122.437392},{name:"Aba",lat:5.1,lng:7.35},{name:"Duque de Caxias",lat:-22.7866667,lng:-43.3083333},{name:"Edmonton",lat:53.547302,lng:-113.574982},{name:"Oslo",lat:59.91,lng:10.75},{name:"Riga",lat:56.95,lng:24.1},{name:"Barquisimeto",lat:10.0738889,lng:-69.3227778},{name:"Tunis",lat:36.8027778,lng:10.1797222},{name:"KrakÃ³w",lat:50.06,lng:19.96},{name:"Tegucigalpa",lat:14.1,lng:-87.2166667},{name:"AthÃ­nai",lat:37.98,lng:23.73},{name:"Oran",lat:35.6911111,lng:-.6416667},{name:"Nouakchott",lat:18.1,lng:-15.95},{name:"Lviv",lat:49.84,lng:24.03},{name:"Jacksonville",lat:30.319406,lng:-81.659999},{name:"Valencia",lat:39.48,lng:-.39},{name:"Nantes",lat:47.2166667,lng:-1.55},{name:"Culiacan",lat:24.7994444,lng:-107.3897222},{name:"Lubumbashi",lat:-11.66,lng:27.48},{name:"Saltillo",lat:25.4216667,lng:-101},{name:"Warri",lat:5.51,lng:5.75},{name:"Rabat",lat:34.0333333,lng:-6.8333333},{name:"Pointe-Noire",lat:-4.7947222,lng:11.8461111},{name:"San Salvador",lat:13.69,lng:-89.19},{name:"Libreville",lat:.4,lng:9.456},{name:"Hermosillo",lat:29.0666667,lng:-110.9666667},{name:"Douai-Lens",lat:50.37,lng:3.08},{name:"Novokuzneck",lat:53.75,lng:87.11},{name:"Denver",lat:39.726287,lng:-104.965486},{name:"Morelia",lat:19.7,lng:-101.19},{name:"Gladstone",lat:-23.85,lng:151.25},{name:"Blenheim",lat:-41.53,lng:173.96},{name:"Cranbourne",lat:-38.11,lng:145.27},{name:"PAPEETE",lat:-17.5333,lng:-149.5667},{name:"Vincent",lat:-31.93,lng:115.85},{name:"Geraldton",lat:-28.77,lng:114.62},{name:"Coffs Harbour",lat:-30.3,lng:153.12},{name:"Richmond",lat:-33.6,lng:150.74},{name:"Sunbury",lat:-37.57,lng:144.71},{name:"Alice Springs",lat:-23.7,lng:133.87});
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).LocomotiveScroll=e()}(this,function(){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function i(n){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,i,s;e=n,s=o[i=t],i in e?Object.defineProperty(e,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[i]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?c(t):e}function u(t,e,i){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var s=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}(t,e);if(s){var n=Object.getOwnPropertyDescriptor(s,e);return n.get?n.get.call(i):n.value}})(t,e,i||t)}var d={el:document,elMobile:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,smoothMobile:!1,direction:"vertical",lerp:.1,class:"is-inview",scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,scrollFromAnywhere:!1},f=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,e),Object.assign(this,d,t),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowMiddle=this.windowHeight/2,this.els=[],this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:this.html.offsetHeight},this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return o(e,[{key:"init",value:function(){this.initEvents()}},{key:"checkScroll",value:function(){this.dispatchScroll()}},{key:"checkResize",value:function(){var t=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame(function(){t.resize(),t.resizeTick=!1}))}},{key:"resize",value:function(){}},{key:"initEvents",value:function(){var e=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach(function(t){t.addEventListener("click",e.setScrollTo,!1)})}},{key:"setScrollTo",value:function(t){t.preventDefault(),this.scrollTo(t.currentTarget.getAttribute("data-".concat(this.name,"-href"))||t.currentTarget.getAttribute("href"),t.currentTarget.getAttribute("data-".concat(this.name,"-offset")))}},{key:"addElements",value:function(){}},{key:"detectElements",value:function(i){var s=this,n=this.instance.scroll.y,o=n+this.windowHeight;this.els.forEach(function(t,e){!t||t.inView&&!i||o>=t.top&&n<t.bottom&&s.setInView(t,e),t&&t.inView&&(o<t.top||n>t.bottom)&&s.setOutOfView(t,e)}),this.els=this.els.filter(function(t,e){return null!==t}),this.hasScrollTicking=!1}},{key:"setInView",value:function(t,e){this.els[e].inView=!0,t.el.classList.add(t.class),t.call&&this.hasCallEventSet&&(this.dispatchCall(t,"enter"),t.repeat||(this.els[e].call=!1)),t.repeat||t.speed||t.sticky||(!t.call||t.call&&this.hasCallEventSet)&&(this.els[e]=null)}},{key:"setOutOfView",value:function(t,e){(t.repeat||void 0!==t.speed)&&(this.els[e].inView=!1),t.call&&this.hasCallEventSet&&this.dispatchCall(t,"exit"),t.repeat&&t.el.classList.remove(t.class)}},{key:"dispatchCall",value:function(t,e){this.callWay=e,this.callValue=t.call.split(",").map(function(t){return t.trim()}),this.callObj=t,1==this.callValue.length&&(this.callValue=this.callValue[0]);var i=new Event(this.namespace+"call");this.el.dispatchEvent(i)}},{key:"dispatchScroll",value:function(){var t=new Event(this.namespace+"scroll");this.el.dispatchEvent(t)}},{key:"setEvents",value:function(t,e){this.listeners[t]||(this.listeners[t]=[]);var i=this.listeners[t];i.push(e),1===i.length&&this.el.addEventListener(this.namespace+t,this.checkEvent,!1),"call"===t&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function(t,e){if(this.listeners[t]){var i=this.listeners[t],s=i.indexOf(e);s<0||(i.splice(s,1),0===i.index&&this.el.removeEventListener(this.namespace+t,this.checkEvent,!1))}}},{key:"checkEvent",value:function(t){var e=this,i=t.type.replace(this.namespace,""),s=this.listeners[i];s&&0!==s.length&&s.forEach(function(t){switch(i){case"scroll":return t(e.instance);case"call":return t(e.callValue,e.callWay,e.callObj);default:return t()}})}},{key:"startScroll",value:function(){}},{key:"stopScroll",value:function(){}},{key:"setScroll",value:function(t,e){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function(){var e=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach(function(t){e.el.removeEventListener(e.namespace+t,e.checkEvent,!1)}),this.listeners={},this.scrollToEls.forEach(function(t){t.removeEventListener("click",e.setScrollTo,!1)})}}]),e}(),p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}var y=t(function(t,e){t.exports={polyfill:function(){var a=window,c=document;if(!("scrollBehavior"in c.documentElement.style&&!0!==a.__forceSmoothScrollPolyfill__)){var t,e=a.HTMLElement||a.Element,h=468,u={scroll:a.scroll||a.scrollTo,scrollBy:a.scrollBy,elementScroll:e.prototype.scroll||f,scrollIntoView:e.prototype.scrollIntoView},d=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now,i=(t=a.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(t)?1:0);a.scroll=a.scrollTo=function(){void 0!==arguments[0]&&(!0!==s(arguments[0])?l.call(a,c.body,void 0!==arguments[0].left?~~arguments[0].left:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:a.scrollY||a.pageYOffset):u.scroll.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:a.scrollX||a.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:a.scrollY||a.pageYOffset))},a.scrollBy=function(){void 0!==arguments[0]&&(s(arguments[0])?u.scrollBy.call(a,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):l.call(a,c.body,~~arguments[0].left+(a.scrollX||a.pageXOffset),~~arguments[0].top+(a.scrollY||a.pageYOffset)))},e.prototype.scroll=e.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==s(arguments[0])){var t=arguments[0].left,e=arguments[0].top;l.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");u.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},e.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==s(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):u.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},e.prototype.scrollIntoView=function(){if(!0!==s(arguments[0])){var t=function(t){for(;t!==c.body&&!1===(i=n(e=t,"Y")&&o(e,"Y"),s=n(e,"X")&&o(e,"X"),i||s);)t=t.parentNode||t.host;var e,i,s;return t}(this),e=t.getBoundingClientRect(),i=this.getBoundingClientRect();t!==c.body?(l.call(this,t,t.scrollLeft+i.left-e.left,t.scrollTop+i.top-e.top),"fixed"!==a.getComputedStyle(t).position&&a.scrollBy({left:e.left,top:e.top,behavior:"smooth"})):a.scrollBy({left:i.left,top:i.top,behavior:"smooth"})}else u.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function f(t,e){this.scrollLeft=t,this.scrollTop=e}function s(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function n(t,e){return"Y"===e?t.clientHeight+i<t.scrollHeight:"X"===e?t.clientWidth+i<t.scrollWidth:void 0}function o(t,e){var i=a.getComputedStyle(t,null)["overflow"+e];return"auto"===i||"scroll"===i}function l(t,e,i){var s,n,o,l,r=d();l=t===c.body?(n=(s=a).scrollX||a.pageXOffset,o=a.scrollY||a.pageYOffset,u.scroll):(n=(s=t).scrollLeft,o=t.scrollTop,f),function t(e){var i,s,n,o,l=(d()-e.startTime)/h;o=l=1<l?1:l,i=.5*(1-Math.cos(Math.PI*o)),s=e.startX+(e.x-e.startX)*i,n=e.startY+(e.y-e.startY)*i,e.method.call(e.scrollable,s,n),s===e.x&&n===e.y||a.requestAnimationFrame(t.bind(a,e))}({scrollable:s,method:l,startTime:r,startX:n,startY:o,x:e,y:i})}}}}),v=(y.polyfill,function(t){function i(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return s(this,i),t=h(this,r(i).call(this,e)),window.addEventListener("scroll",t.checkScroll,!1),y.polyfill(),t}return l(i,f),o(i,[{key:"init",value:function(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),u(r(i.prototype),"init",this).call(this)}},{key:"checkScroll",value:function(){var t=this;u(r(i.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.timestamp=Date.now()),this.instance.scroll.y=window.pageYOffset,this.els.length&&(this.hasScrollTicking||(requestAnimationFrame(function(){t.detectElements()}),this.hasScrollTicking=!0))}},{key:"addDirection",value:function(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/(Date.now()-this.timestamp):this.instance.speed=0}},{key:"resize",value:function(){this.els.length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function(){var h=this;this.els=[],this.el.querySelectorAll("[data-"+this.name+"]").forEach(function(t,e){var i=t.dataset[h.name+"Class"]||h.class,s=t.getBoundingClientRect().top+h.instance.scroll.y,n=s+t.offsetHeight,o="string"==typeof t.dataset[h.name+"Offset"]?t.dataset[h.name+"Offset"].split(","):h.offset,l=t.dataset[h.name+"Repeat"],r=t.dataset[h.name+"Call"];l="false"!=l&&(null!=l||h.repeat);var a=h.getRelativeOffset(o),c={el:t,id:e,class:i,top:s+a[0],bottom:n-a[1],offset:o,repeat:l,inView:!!t.classList.contains(i),call:r};h.els.push(c)})}},{key:"updateElements",value:function(){var o=this;this.els.forEach(function(t,e){var i=t.el.getBoundingClientRect().top+o.instance.scroll.y,s=i+t.el.offsetHeight,n=o.getRelativeOffset(t.offset);o.els[e].top=i+n[0],o.els[e].bottom=s-n[1]}),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function(t){var e=[0,0];if(t)for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i].includes("%")?e[i]=parseInt(t[i].replace("%","")*this.windowHeight/100):e[i]=parseInt(t[i]):e[i]=t[i];return e}},{key:"scrollTo",value:function(t,e,i,s,n,o){var l,r=e?parseInt(e):0;if("string"==typeof t){if("top"===t)l=this.html;else if("bottom"===t)l=this.html.offsetHeight-window.innerHeight;else if(!(l=document.querySelector(t)))return}else if("number"==typeof t)l=parseInt(t);else{if(!t||!t.tagName)return void console.warn("`targetOption` parameter is not valid");l=t}r="number"!=typeof l?l.getBoundingClientRect().top+r+this.instance.scroll.y:l+r,o&&(r=r.toFixed(),window.addEventListener("scroll",function t(){window.pageYOffset.toFixed()===r&&(window.removeEventListener("scroll",t),o())})),window.scrollTo({top:r,behavior:"smooth"})}},{key:"update",value:function(){this.addElements(),this.detectElements()}},{key:"destroy",value:function(){u(r(i.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),i}()),m=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,b=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(t){s[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,s,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var l in i=Object(arguments[o]))g.call(i,l)&&(n[l]=i[l]);if(m){s=m(i);for(var r=0;r<s.length;r++)w.call(i,s[r])&&(n[s[r]]=i[s[r]])}}return n};function S(){}S.prototype={on:function(t,e,i){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){var s=this;function n(){s.off(t,n),e.apply(i,arguments)}return n._=e,this.on(t,n,i)},emit:function(t){for(var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),s=0,n=i.length;s<n;s++)i[s].fn.apply(i[s].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),s=i[t],n=[];if(s&&e)for(var o=0,l=s.length;o<l;o++)s[o].fn!==e&&s[o].fn._!==e&&n.push(s[o]);return n.length?i[t]=n:delete i[t],this}};var k=S,E=t(function(t,e){(function(){(null!==e?e:this).Lethargy=function(){function t(t,e,i,s){this.stability=null!=t?Math.abs(t):8,this.sensitivity=null!=e?1+Math.abs(e):100,this.tolerance=null!=i?1+Math.abs(i):1.1,this.delay=null!=s?s:150,this.lastUpDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this),this.lastDownDeltas=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this),this.deltasTimestamp=function(){var t,e,i;for(i=[],t=1,e=2*this.stability;1<=e?t<=e:e<=t;1<=e?t++:t--)i.push(null);return i}.call(this)}return t.prototype.check=function(t){var e;return null!=(t=t.originalEvent||t).wheelDelta?e=t.wheelDelta:null!=t.deltaY?e=-40*t.deltaY:null==t.detail&&0!==t.detail||(e=-40*t.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),0<e?(this.lastUpDeltas.push(e),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(e),this.lastDownDeltas.shift(),this.isInertia(-1))},t.prototype.isInertia=function(t){var e,i,s,n,o,l,r;return null===(e=-1===t?this.lastDownDeltas:this.lastUpDeltas)[0]?t:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&e[0]===e[2*this.stability-1])&&(s=e.slice(0,this.stability),i=e.slice(this.stability,2*this.stability),r=s.reduce(function(t,e){return t+e}),o=i.reduce(function(t,e){return t+e}),l=r/s.length,n=o/i.length,Math.abs(l)<Math.abs(n*this.tolerance)&&this.sensitivity<Math.abs(n)&&t)},t.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},t.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},t}()}).call(p)}),T="onwheel"in document,O="onmousewheel"in document,L="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,D=navigator.msMaxTouchPoints&&1<navigator.msMaxTouchPoints,_=!!window.navigator.msPointerEnabled,M="onkeydown"in document,x=-1<navigator.userAgent.indexOf("Firefox"),C=Object.prototype.toString,H=Object.prototype.hasOwnProperty;function j(t,e){return function(){return t.apply(e,arguments)}}var B=E.Lethargy,Y="virtualscroll",A=P;function P(t){!function(t){if(!t)return console.warn("bindAll requires at least one argument.");var e=Array.prototype.slice.call(arguments,1);if(0===e.length)for(var i in t)H.call(t,i)&&"function"==typeof t[i]&&"[object Function]"==C.call(t[i])&&e.push(i);for(var s=0;s<e.length;s++){var n=e[s];t[n]=j(t[n],t)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,t&&t.el&&(this.el=t.el,delete t.el),this.options=b({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},t),this.options.limitInertia&&(this._lethargy=new B),this._emitter=new k,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function R(t,e,i){return(1-i)*t+i*e}function X(t){var e={};if(window.getComputedStyle){var i=getComputedStyle(t),s=i.transform||i.webkitTransform||i.mozTransform,n=s.match(/^matrix3d\((.+)\)$/);return n?(e.x=n?parseFloat(n[1].split(", ")[12]):0,e.y=n?parseFloat(n[1].split(", ")[13]):0):(n=s.match(/^matrix\((.+)\)$/),e.x=n?parseFloat(n[1].split(", ")[4]):0,e.y=n?parseFloat(n[1].split(", ")[5]):0),e}}function I(t){for(var e=[];t&&t!==document;t=t.parentNode)e.push(t);return e}P.prototype._notify=function(t){var e=this._event;e.x+=e.deltaX,e.y+=e.deltaY,this._emitter.emit(Y,{x:e.x,y:e.y,deltaX:e.deltaX,deltaY:e.deltaY,originalEvent:t})},P.prototype._onWheel=function(t){var e=this.options;if(!this._lethargy||!1!==this._lethargy.check(t)){var i=this._event;i.deltaX=t.wheelDeltaX||-1*t.deltaX,i.deltaY=t.wheelDeltaY||-1*t.deltaY,x&&1==t.deltaMode&&(i.deltaX*=e.firefoxMultiplier,i.deltaY*=e.firefoxMultiplier),i.deltaX*=e.mouseMultiplier,i.deltaY*=e.mouseMultiplier,this._notify(t)}},P.prototype._onMouseWheel=function(t){if(!this.options.limitInertia||!1!==this._lethargy.check(t)){var e=this._event;e.deltaX=t.wheelDeltaX?t.wheelDeltaX:0,e.deltaY=t.wheelDeltaY?t.wheelDeltaY:t.wheelDelta,this._notify(t)}},P.prototype._onTouchStart=function(t){var e=t.targetTouches?t.targetTouches[0]:t;this.touchStartX=e.pageX,this.touchStartY=e.pageY},P.prototype._onTouchMove=function(t){var e=this.options;e.preventTouch&&!t.target.classList.contains(e.unpreventTouchClass)&&t.preventDefault();var i=this._event,s=t.targetTouches?t.targetTouches[0]:t;i.deltaX=(s.pageX-this.touchStartX)*e.touchMultiplier,i.deltaY=(s.pageY-this.touchStartY)*e.touchMultiplier,this.touchStartX=s.pageX,this.touchStartY=s.pageY,this._notify(t)},P.prototype._onKeyDown=function(t){var e=this._event;e.deltaX=e.deltaY=0;var i=window.innerHeight-40;switch(t.keyCode){case 37:case 38:e.deltaY=this.options.keyStep;break;case 39:case 40:e.deltaY=-this.options.keyStep;break;case t.shiftKey:e.deltaY=i;break;case 32:e.deltaY=-i;break;default:return}this._notify(t)},P.prototype._bind=function(){T&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),O&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),L&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),_&&D&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),M&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},P.prototype._unbind=function(){T&&this.el.removeEventListener("wheel",this._onWheel),O&&this.el.removeEventListener("mousewheel",this._onMouseWheel),L&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),_&&D&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),M&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},P.prototype.on=function(t,e){this._emitter.on(Y,t,e);var i=this._emitter.e;i&&i[Y]&&1===i[Y].length&&this._bind()},P.prototype.off=function(t,e){this._emitter.off(Y,t,e);var i=this._emitter.e;(!i[Y]||i[Y].length<=0)&&this._unbind()},P.prototype.reset=function(){var t=this._event;t.x=0,t.y=0},P.prototype.destroy=function(){this._emitter.off(),this._unbind()};var V="function"==typeof Float32Array;function F(t,e){return 1-3*e+3*t}function q(t,e){return 3*e-6*t}function z(t){return 3*t}function K(t,e,i){return((F(e,i)*t+q(e,i))*t+z(e))*t}function W(t,e,i){return 3*F(e,i)*t*t+2*q(e,i)*t+z(e)}function N(t){return t}var U=function(o,e,l,i){if(!(0<=o&&o<=1&&0<=l&&l<=1))throw new Error("bezier x values must be in [0, 1] range");if(o===e&&l===i)return N;for(var r=V?new Float32Array(11):new Array(11),t=0;t<11;++t)r[t]=K(.1*t,o,l);return function(t){return 0===t?0:1===t?1:K(function(t){for(var e=0,i=1;10!==i&&r[i]<=t;++i)e+=.1;var s=e+(t-r[--i])/(r[i+1]-r[i])*.1,n=W(s,o,l);return.001<=n?function(t,e,i,s){for(var n=0;n<4;++n){var o=W(e,i,s);if(0===o)return e;e-=(K(e,i,s)-t)/o}return e}(t,s,o,l):0===n?s:function(t,e,i,s,n){for(var o,l,r=0;0<(o=K(l=e+(i-e)/2,s,n)-t)?i=l:e=l,1e-7<Math.abs(o)&&++r<10;);return l}(t,e,e+.1,o,l)}(t),e,i)}},$=function(t){function n(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return s(this,n),window.scrollTo(0,0),history.scrollRestoration="manual",(t=h(this,r(n).call(this,e))).inertia&&(t.lerp=.1*t.inertia),t.isScrolling=!1,t.isDraggingScrollbar=!1,t.isTicking=!1,t.hasScrollTicking=!1,t.parallaxElements=[],t.stop=!1,t.checkKey=t.checkKey.bind(c(t)),window.addEventListener("keydown",t.checkKey,!1),t}return l(n,f),o(n,[{key:"init",value:function(){var e=this;this.html.classList.add(this.smoothClass),this.instance=i({delta:{x:0,y:0}},this.instance),this.vs=new A({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:-1<navigator.platform.indexOf("Win")?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on(function(t){e.stop||(e.isTicking||e.isDraggingScrollbar||(requestAnimationFrame(function(){e.updateDelta(t),e.isScrolling||e.startScrolling()}),e.isTicking=!0),e.isTicking=!1)}),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.detectElements(),this.transformElements(!0,!0),this.checkScroll(!0),u(r(n.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function(){this.instance.limit=this.el.offsetHeight-this.windowHeight}},{key:"startScrolling",value:function(){this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function(){this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function(t){var e=this;if(this.stop)9==t.keyCode&&requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0});else{switch(t.keyCode){case 9:requestAnimationFrame(function(){e.html.scrollTop=0,document.body.scrollTop=0,e.scrollTo(document.activeElement,-window.innerHeight/2)});break;case 38:this.instance.delta.y-=240;break;case 40:this.instance.delta.y+=240;break;case 33:this.instance.delta.y-=window.innerHeight;break;case 34:this.instance.delta.y+=window.innerHeight;break;case 36:this.instance.delta.y-=this.instance.limit;break;case 35:this.instance.delta.y+=this.instance.limit;break;case 32:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(t.shiftKey?this.instance.delta.y-=window.innerHeight:this.instance.delta.y+=window.innerHeight);break;default:return}this.instance.delta.y<0&&(this.instance.delta.y=0),this.instance.delta.y>this.instance.limit&&(this.instance.delta.y=this.instance.limit),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function(){var t=this;if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(requestAnimationFrame(function(){return t.checkScroll()}),this.hasScrollTicking=!0),this.updateScroll();var e=Math.abs(this.instance.delta.y-this.instance.scroll.y);!this.animatingScroll&&(e<.5&&0!=this.instance.delta.y||e<.5&&0==this.instance.delta.y)&&this.stopScrolling();for(var i=this.sections.length-1;0<=i;i--)this.sections[i].persistent||this.instance.scroll.y>this.sections[i].offset&&this.instance.scroll.y<this.sections[i].limit?(this.transform(this.sections[i].el,0,-this.instance.scroll.y),this.sections[i].inView||(this.sections[i].inView=!0,this.sections[i].el.style.opacity=1,this.sections[i].el.style.pointerEvents="all",this.sections[i].el.setAttribute("data-".concat(this.name,"-section-inview"),""))):(this.sections[i].inView&&(this.sections[i].inView=!1,this.sections[i].el.style.opacity=0,this.sections[i].el.style.pointerEvents="none",this.sections[i].el.removeAttribute("data-".concat(this.name,"-section-inview"))),this.transform(this.sections[i].el,0,0));this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.timestamp=Date.now()),this.detectElements(),this.transformElements();var s=this.instance.scroll.y/this.instance.limit*this.scrollBarLimit;this.transform(this.scrollbarThumb,0,s),u(r(n.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function(){this.windowHeight=window.innerHeight,this.windowMiddle=this.windowHeight/2,this.update()}},{key:"updateDelta",value:function(t){this.instance.delta.y-=t.deltaY*this.multiplier,this.instance.delta.y<0&&(this.instance.delta.y=0),this.instance.delta.y>this.instance.limit&&(this.instance.delta.y=this.instance.limit)}},{key:"updateScroll",value:function(t){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll.y=R(this.instance.scroll.y,this.instance.delta.y,this.lerp):this.instance.scroll.y>this.instance.limit?this.setScroll(this.instance.scroll.x,this.instance.limit):this.instance.scroll.y<0?this.setScroll(this.instance.scroll.x,0):this.setScroll(this.instance.scroll.x,this.instance.delta.y)}},{key:"addDirection",value:function(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function(){this.instance.delta.y!=this.instance.scroll.y?this.instance.speed=(this.instance.delta.y-this.instance.scroll.y)/Math.max(1,Date.now()-this.timestamp):this.instance.speed=0}},{key:"initScrollBar",value:function(){this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.instance.limit+this.windowHeight<=this.windowHeight||(this.scrollbarHeight=this.scrollbar.getBoundingClientRect().height,this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit+this.scrollbarHeight),"px"),this.scrollBarLimit=this.scrollbarHeight-this.scrollbarThumb.getBoundingClientRect().height)}},{key:"reinitScrollBar",value:function(){this.instance.limit+this.windowHeight<=this.windowHeight||(this.scrollbarHeight=this.scrollbar.getBoundingClientRect().height,this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit+this.scrollbarHeight),"px"),this.scrollBarLimit=this.scrollbarHeight-this.scrollbarThumb.getBoundingClientRect().height)}},{key:"destroyScrollBar",value:function(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function(t){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function(t){this.isDraggingScrollbar=!1,this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function(e){var i=this;!this.isTicking&&this.isDraggingScrollbar&&(requestAnimationFrame(function(){var t=100*e.clientY/i.scrollbarHeight*i.instance.limit/100;0<t&&t<i.instance.limit&&(i.instance.delta.y=t)}),this.isTicking=!0),this.isTicking=!1}},{key:"addElements",value:function(){var k=this;this.els=[],this.parallaxElements=[],this.sections.forEach(function(t,S){k.sections[S].el.querySelectorAll("[data-".concat(k.name,"]")).forEach(function(t,e){var i,s,n=t.dataset[k.name+"Class"]||k.class,o=t.dataset[k.name+"Repeat"],l=t.dataset[k.name+"Call"],r=t.dataset[k.name+"Position"],a=t.dataset[k.name+"Delay"],c=t.dataset[k.name+"Direction"],h="string"==typeof t.dataset[k.name+"Sticky"],u=!!t.dataset[k.name+"Speed"]&&parseFloat(t.dataset[k.name+"Speed"])/10,d="string"==typeof t.dataset[k.name+"Offset"]?t.dataset[k.name+"Offset"].split(","):k.offset,f=t.dataset[k.name+"Target"];s=void 0!==f?document.querySelector("".concat(f)):t;var p=(i=k.sections[S].inView?s.getBoundingClientRect().top+k.instance.scroll.y-X(s).y:s.getBoundingClientRect().top-X(k.sections[S].el).y-X(s).y)+s.offsetHeight,y=(p-i)/2+i;if(h){var v=t.getBoundingClientRect().top,m=v-i;i+=window.innerHeight,y=((p=v+s.offsetHeight-t.offsetHeight-m)-i)/2+i}o="false"!=o&&(null!=o||k.repeat);var g=[0,0];if(d)for(var w=0;w<d.length;w++)"string"==typeof d[w]?d[w].includes("%")?g[w]=parseInt(d[w].replace("%","")*k.windowHeight/100):g[w]=parseInt(d[w]):g[w]=d[w];var b={el:t,id:e,class:n,top:i+g[0],middle:y,bottom:p-g[1],offset:d,repeat:o,inView:!!t.classList.contains(n),call:l,speed:u,delay:a,position:r,target:s,direction:c,sticky:h};k.els.push(b),(!1!==u||h)&&k.parallaxElements.push(b)})})}},{key:"addSections",value:function(){var o=this;this.sections=[];var t=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===t.length&&(t=[this.el]),t.forEach(function(t,e){var i=t.getBoundingClientRect().top-1.5*window.innerHeight-X(t).y,s=i+t.getBoundingClientRect().height+2*window.innerHeight,n={el:t,offset:i,limit:s,inView:!1,persistent:"string"==typeof t.dataset[o.name+"Persistent"]};o.sections[e]=n})}},{key:"transform",value:function(t,e,i,s){var n;if(s){var o=X(t),l=R(o.x,e,s),r=R(o.y,i,s);n="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(l,",").concat(r,",0,1)")}else n="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(e,",").concat(i,",0,1)");t.style.webkitTransform=n,t.style.msTransform=n,t.style.transform=n}},{key:"transformElements",value:function(s){var n=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],l=this.instance.scroll.y+this.windowHeight,r=this.instance.scroll.y+this.windowMiddle;this.parallaxElements.forEach(function(t,e){var i=!1;if(s&&(i=0),t.inView||o)switch(t.position){case"top":i=n.instance.scroll.y*-t.speed;break;case"elementTop":i=(l-t.top)*-t.speed;break;case"bottom":i=(n.instance.limit-l+n.windowHeight)*t.speed;break;default:i=(r-t.middle)*-t.speed}t.sticky&&(i=t.inView?n.instance.scroll.y-t.top+window.innerHeight:n.instance.scroll.y<t.top-window.innerHeight&&n.instance.scroll.y<t.top-window.innerHeight/2?0:n.instance.scroll.y>t.bottom&&n.instance.scroll.y>t.bottom+100&&t.bottom-t.top+window.innerHeight),!1!==i&&("horizontal"===t.direction?n.transform(t.el,i,0,!s&&t.delay):n.transform(t.el,0,i,!s&&t.delay))})}},{key:"scrollTo",value:function(t,e){var i,s,n=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e3,l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[.25,0,.35,1],r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],a=5<arguments.length?arguments[5]:void 0,c=e?parseInt(e):0;if(l=U.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(s=l)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),"string"==typeof t){if("top"===t)i=0;else if("bottom"===t)i=this.instance.limit;else if(!(i=document.querySelector(t)))return}else if("number"==typeof t)i=parseInt(t);else{if(!t||!t.tagName)return void console.warn("`targetOption` parameter is not valid");i=t}if("number"!=typeof i){if(!I(i).includes(this.el))return;var h=i.getBoundingClientRect().top,u=I(i).find(function(e){return n.sections.find(function(t){return t.el==e})}),d=0;u&&(d=X(u).y),c=h+c-d}else c=i+c;var f=parseFloat(this.instance.delta.y),p=Math.max(0,Math.min(c,this.instance.limit))-f,y=function(t){r?n.setScroll(n.instance.delta.x,f+p*t):n.instance.delta.y=f+p*t};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var v=Date.now();!function t(){var e=(Date.now()-v)/o;1<e?(y(1),n.animatingScroll=!1,0==o&&n.update(),a&&a()):(n.scrollToRaf=requestAnimationFrame(t),y(l(e)))}()}},{key:"update",value:function(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function(){this.stop=!1}},{key:"stopScroll",value:function(){this.stop=!0}},{key:"setScroll",value:function(t,e){this.instance=i({},this.instance,{scroll:{x:t,y:e},delta:{x:t,y:e},speed:0})}},{key:"destroy",value:function(){u(r(n.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),n}();return function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.options=t,Object.assign(this,d,t),this.init()}return o(e,[{key:"init",value:function(){if(this.smoothMobile||(this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints),!0!==this.smooth||this.isMobile?this.scroll=new v(this.options):this.scroll=new $(this.options),this.scroll.init(),window.location.hash){var t=window.location.hash.slice(1,window.location.hash.length),e=document.getElementById(t);e&&this.scroll.scrollTo(e)}}},{key:"update",value:function(){this.scroll.update()}},{key:"start",value:function(){this.scroll.startScroll()}},{key:"stop",value:function(){this.scroll.stopScroll()}},{key:"scrollTo",value:function(t,e,i,s,n,o){this.scroll.scrollTo(t,e,i,s,n,o)}},{key:"setScroll",value:function(t,e){this.scroll.setScroll(t,e)}},{key:"on",value:function(t,e){this.scroll.setEvents(t,e)}},{key:"off",value:function(t,e){this.scroll.unsetEvents(t,e)}},{key:"destroy",value:function(){this.scroll.destroy()}}]),e}()});
!function(c,u,g,t){"use strict";function n(t,e){var n,o,i,a=[],s=0;t&&t.isDefaultPrevented()||(t.preventDefault(),e=e||{},t&&t.data&&(e=d(t.data.options,e)),n=e.$target||g(t.currentTarget).trigger("blur"),(i=g.fancybox.getInstance())&&i.$trigger&&i.$trigger.is(n)||(a=e.selector?g(e.selector):(o=n.attr("data-fancybox")||"")?(a=t.data?t.data.items:[]).length?a.filter('[data-fancybox="'+o+'"]'):g('[data-fancybox="'+o+'"]'):[n],(s=g(a).index(n))<0&&(s=0),(i=g.fancybox.open(a,e,s)).$trigger=n))}if(c.console=c.console||{info:function(t){}},g){if(g.fn.fancybox)return console.info("fancyBox already initialized");var e={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:g.noop,beforeLoad:g.noop,afterLoad:g.noop,beforeShow:g.noop,afterShow:g.noop,beforeClose:g.noop,afterClose:g.noop,onActivate:g.noop,onDeactivate:g.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},i=g(c),s=g(u),a=0,f=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||function(t){return c.setTimeout(t,1e3/60)},r=c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.mozCancelAnimationFrame||c.oCancelAnimationFrame||function(t){c.clearTimeout(t)},l=function(){var t,e=u.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(void 0!==e.style[t])return n[t];return"transitionend"}(),p=function(t){return t&&t.length&&t[0].offsetHeight},d=function(t,e){var n=g.extend(!0,{},t,e);return g.each(e,function(t,e){g.isArray(e)&&(n[t]=e)}),n},o=function(t,e,n){var o=this;o.opts=d({index:n},g.fancybox.defaults),g.isPlainObject(e)&&(o.opts=d(o.opts,e)),g.fancybox.isMobile&&(o.opts=d(o.opts,o.opts.mobile)),o.id=o.opts.id||++a,o.currIndex=parseInt(o.opts.index,10)||0,o.prevIndex=null,o.prevPos=null,o.currPos=0,o.firstRun=!0,o.group=[],o.slides={},o.addContent(t),o.group.length&&o.init()};g.extend(o.prototype,{init:function(){var e,n,o=this,i=o.group[o.currIndex].opts;i.closeExisting&&g.fancybox.close(!0),g("body").addClass("fancybox-active"),!g.fancybox.getInstance()&&!1!==i.hideScrollbar&&!g.fancybox.isMobile&&u.body.scrollHeight>c.innerHeight&&(g("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(c.innerWidth-u.documentElement.clientWidth)+"px;}</style>"),g("body").addClass("compensate-for-scrollbar")),n="",g.each(i.buttons,function(t,e){n+=i.btnTpl[e]||""}),e=g(o.translate(o,i.baseTpl.replace("{{buttons}}",n).replace("{{arrows}}",i.btnTpl.arrowLeft+i.btnTpl.arrowRight))).attr("id","fancybox-container-"+o.id).addClass(i.baseClass).data("FancyBox",o).appendTo(i.parentEl),o.$refs={container:e},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(t){o.$refs[t]=e.find(".fancybox-"+t)}),o.trigger("onInit"),o.activate(),o.jumpTo(o.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang]||t.opts.i18n.en;return e.replace(/\{\{(\w+)\}\}/g,function(t,e){return void 0===n[e]?t:n[e]})},addContent:function(t){var e,l=this,n=g.makeArray(t);g.each(n,function(t,e){var n,o,i,a,s,r={},c={};g.isPlainObject(e)?c=(r=e).opts||e:"object"===g.type(e)&&g(e).length?(c=(n=g(e)).data()||{},(c=g.extend(!0,{},c,c.options)).$orig=n,r.src=l.opts.src||c.src||n.attr("href"),r.type||r.src||(r.type="inline",r.src=e)):r={type:"html",src:e+""},r.opts=g.extend(!0,{},l.opts,c),g.isArray(c.buttons)&&(r.opts.buttons=c.buttons),g.fancybox.isMobile&&r.opts.mobile&&(r.opts=d(r.opts,r.opts.mobile)),o=r.type||r.opts.type,a=r.src||"",!o&&a&&((i=a.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(o="video",r.opts.video.format||(r.opts.video.format="video/"+("ogv"===i[1]?"ogg":i[1]))):a.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?o="image":a.match(/\.(pdf)((\?|#).*)?$/i)?(o="iframe",r=g.extend(!0,r,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===a.charAt(0)&&(o="inline")),o?r.type=o:l.trigger("objectNeedsType",r),r.contentType||(r.contentType=-1<g.inArray(r.type,["html","inline","ajax"])?"html":r.type),r.index=l.group.length,"auto"==r.opts.smallBtn&&(r.opts.smallBtn=-1<g.inArray(r.type,["html","inline","ajax"])),"auto"===r.opts.toolbar&&(r.opts.toolbar=!r.opts.smallBtn),r.$thumb=r.opts.$thumb||null,r.opts.$trigger&&r.index===l.opts.index&&(r.$thumb=r.opts.$trigger.find("img:first"),r.$thumb.length&&(r.opts.$orig=r.opts.$trigger)),r.$thumb&&r.$thumb.length||!r.opts.$orig||(r.$thumb=r.opts.$orig.find("img:first")),r.$thumb&&!r.$thumb.length&&(r.$thumb=null),r.thumb=r.opts.thumb||(r.$thumb?r.$thumb[0].src:null),"function"===g.type(r.opts.caption)&&(r.opts.caption=r.opts.caption.apply(e,[l,r])),"function"===g.type(l.opts.caption)&&(r.opts.caption=l.opts.caption.apply(e,[l,r])),r.opts.caption instanceof g||(r.opts.caption=void 0===r.opts.caption?"":r.opts.caption+""),"ajax"===r.type&&(1<(s=a.split(/\s+/,2)).length&&(r.src=s.shift(),r.opts.filter=s.shift())),r.opts.modal&&(r.opts=g.extend(!0,r.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),l.group.push(r)}),Object.keys(l.slides).length&&(l.updateControls(),(e=l.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),o.close(t)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(t){t.stopPropagation(),t.preventDefault(),o.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),o.next()}).on("click.fb","[data-fancybox-zoom]",function(t){o[o.isScaledDown()?"scaleToActual":"scaleToFit"]()}),i.on("orientationchange.fb resize.fb",function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?(o.requestId&&r(o.requestId),o.requestId=f(function(){o.update(t)})):(o.current&&"iframe"===o.current.type&&o.$refs.stage.hide(),setTimeout(function(){o.$refs.stage.show(),o.update(t)},g.fancybox.isMobile?600:250))}),s.on("keydown.fb",function(t){var e=(g.fancybox?g.fancybox.getInstance():null).current,n=t.keyCode||t.which;if(9!=n)return!e.opts.keyboard||t.ctrlKey||t.altKey||t.shiftKey||g(t.target).is("input,textarea,video,audio,select")?void 0:8===n||27===n?(t.preventDefault(),void o.close(t)):37===n||38===n?(t.preventDefault(),void o.previous()):39===n||40===n?(t.preventDefault(),void o.next()):void o.trigger("afterKeydown",t,n);e.opts.trapFocus&&o.focus(t)}),o.group[o.currIndex].opts.idleTime&&(o.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(t){o.idleSecondsCounter=0,o.isIdle&&o.showControls(),o.isIdle=!1}),o.idleInterval=c.setInterval(function(){++o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime&&!o.isDragging&&(o.isIdle=!0,o.idleSecondsCounter=0,o.hideControls())},1e3))},removeEvents:function(){i.off("orientationchange.fb resize.fb"),s.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(c.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,o){var e,n,i,a,s,r,c,l,d,u=this,f=u.group.length;if(!(u.isDragging||u.isClosing||u.isAnimating&&u.firstRun)){if(t=parseInt(t,10),!(i=u.current?u.current.opts.loop:u.opts.loop)&&(t<0||f<=t))return!1;if(e=u.firstRun=!Object.keys(u.slides).length,s=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,a=u.createSlide(t),1<f&&((i||a.index<f-1)&&u.createSlide(t+1),(i||0<a.index)&&u.createSlide(t-1)),u.current=a,u.currIndex=a.index,u.currPos=a.pos,u.trigger("beforeShow",e),u.updateControls(),a.forcedDuration=void 0,g.isNumeric(o)?a.forcedDuration=o:o=a.opts[e?"animationDuration":"transitionDuration"],o=parseInt(o,10),n=u.isMoved(a),a.$slide.addClass("fancybox-slide--current"),e)return a.opts.animationEffect&&o&&u.$refs.container.css("transition-duration",o+"ms"),u.$refs.container.addClass("fancybox-is-open").trigger("focus"),u.loadSlide(a),void u.preload("image");r=g.fancybox.getTranslate(s.$slide),c=g.fancybox.getTranslate(u.$refs.stage),g.each(u.slides,function(t,e){g.fancybox.stop(e.$slide,!0)}),s.pos!==a.pos&&(s.isComplete=!1),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),n?(d=r.left-(s.pos*r.width+s.pos*s.opts.gutter),g.each(u.slides,function(t,e){e.$slide.removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var n=e.pos*r.width+e.pos*e.opts.gutter;g.fancybox.setTranslate(e.$slide,{top:0,left:n-c.left+d}),e.pos!==a.pos&&e.$slide.addClass("fancybox-slide--"+(e.pos>a.pos?"next":"previous")),p(e.$slide),g.fancybox.animate(e.$slide,{top:0,left:(e.pos-a.pos)*r.width+(e.pos-a.pos)*e.opts.gutter},o,function(){e.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),e.pos===u.currPos&&u.complete()})})):o&&a.opts.transitionEffect&&(l="fancybox-animated fancybox-fx-"+a.opts.transitionEffect,s.$slide.addClass("fancybox-slide--"+(s.pos>a.pos?"next":"previous")),g.fancybox.animate(s.$slide,l,o,function(){s.$slide.removeClass(l).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),a.isLoaded?u.revealContent(a):u.loadSlide(a),u.preload("image")}},createSlide:function(t){var e,n,o=this;return n=(n=t%o.group.length)<0?o.group.length+n:n,!o.slides[t]&&o.group[n]&&(e=g('<div class="fancybox-slide"></div>').appendTo(o.$refs.stage),o.slides[t]=g.extend(!0,{},o.group[n],{pos:t,$slide:e,isLoaded:!1}),o.updateSlide(o.slides[t])),o.slides[t]},scaleToActual:function(t,e,n){var o,i,a,s,r,c=this,l=c.current,d=l.$content,u=g.fancybox.getTranslate(l.$slide).width,f=g.fancybox.getTranslate(l.$slide).height,p=l.width,h=l.height;c.isAnimating||c.isMoved()||!d||"image"!=l.type||!l.isLoaded||l.hasError||(c.isAnimating=!0,g.fancybox.stop(d),t=void 0===t?.5*u:t,e=void 0===e?.5*f:e,(o=g.fancybox.getTranslate(d)).top-=g.fancybox.getTranslate(l.$slide).top,o.left-=g.fancybox.getTranslate(l.$slide).left,s=p/o.width,r=h/o.height,i=.5*u-.5*p,a=.5*f-.5*h,u<p&&(0<(i=o.left*s-(t*s-t))&&(i=0),i<u-p&&(i=u-p)),f<h&&(0<(a=o.top*r-(e*r-e))&&(a=0),a<f-h&&(a=f-h)),c.updateCursor(p,h),g.fancybox.animate(d,{top:a,left:i,scaleX:s,scaleY:r},n||366,function(){c.isAnimating=!1}),c.SlideShow&&c.SlideShow.isActive&&c.SlideShow.stop())},scaleToFit:function(t){var e,n=this,o=n.current,i=o.$content;n.isAnimating||n.isMoved()||!i||"image"!=o.type||!o.isLoaded||o.hasError||(n.isAnimating=!0,g.fancybox.stop(i),e=n.getFitPos(o),n.updateCursor(e.width,e.height),g.fancybox.animate(i,{top:e.top,left:e.left,scaleX:e.width/i.width(),scaleY:e.height/i.height()},t||366,function(){n.isAnimating=!1}))},getFitPos:function(t){var e,n,o,i,a=t.$content,s=t.$slide,r=t.width||t.opts.width,c=t.height||t.opts.height,l={};return!!(t.isLoaded&&a&&a.length)&&(e=g.fancybox.getTranslate(this.$refs.stage).width,n=g.fancybox.getTranslate(this.$refs.stage).height,e-=parseFloat(s.css("paddingLeft"))+parseFloat(s.css("paddingRight"))+parseFloat(a.css("marginLeft"))+parseFloat(a.css("marginRight")),n-=parseFloat(s.css("paddingTop"))+parseFloat(s.css("paddingBottom"))+parseFloat(a.css("marginTop"))+parseFloat(a.css("marginBottom")),r&&c||(r=e,c=n),e-.5<(r*=o=Math.min(1,e/r,n/c))&&(r=e),n-.5<(c*=o)&&(c=n),"image"===t.type?(l.top=Math.floor(.5*(n-c))+parseFloat(s.css("paddingTop")),l.left=Math.floor(.5*(e-r))+parseFloat(s.css("paddingLeft"))):"video"===t.contentType&&(r/(i=t.opts.width&&t.opts.height?r/c:t.opts.ratio||16/9)<c?c=r/i:c*i<r&&(r=c*i)),l.width=r,l.height=c,l)},update:function(n){var o=this;g.each(o.slides,function(t,e){o.updateSlide(e,n)})},updateSlide:function(t,e){var n=this,o=t&&t.$content,i=t.width||t.opts.width,a=t.height||t.opts.height,s=t.$slide;n.adjustCaption(t),o&&(i||a||"video"===t.contentType)&&!t.hasError&&(g.fancybox.stop(o),g.fancybox.setTranslate(o,n.getFitPos(t)),t.pos===n.currPos&&(n.isAnimating=!1,n.updateCursor())),n.adjustLayout(t),s.length&&(s.trigger("refresh"),t.pos===n.currPos&&n.$refs.toolbar.add(n.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",s.get(0).scrollHeight>s.get(0).clientHeight)),n.trigger("onUpdate",t,e)},centerSlide:function(t){var e=this,n=e.current,o=n.$slide;!e.isClosing&&n&&(o.siblings().css({transform:"",opacity:""}),o.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),g.fancybox.animate(o,{top:0,left:0,opacity:1},void 0===t?0:t,function(){o.css({transform:"",opacity:""}),n.isComplete||e.complete()},!1))},isMoved:function(t){var e,n,o=t||this.current;return!!o&&(n=g.fancybox.getTranslate(this.$refs.stage),e=g.fancybox.getTranslate(o.$slide),!o.$slide.hasClass("fancybox-animated")&&(.5<Math.abs(e.top-n.top)||.5<Math.abs(e.left-n.left)))},updateCursor:function(t,e){var n,o,i=this,a=i.current,s=i.$refs.container;a&&!i.isClosing&&i.Guestures&&(s.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),o=!!(n=i.canPan(t,e))||i.isZoomable(),s.toggleClass("fancybox-is-zoomable",o),g("[data-fancybox-zoom]").prop("disabled",!o),n?s.addClass("fancybox-can-pan"):o&&("zoom"===a.opts.clickContent||g.isFunction(a.opts.clickContent)&&"zoom"==a.opts.clickContent(a))?s.addClass("fancybox-can-zoomIn"):a.opts.touch&&(a.opts.touch.vertical||1<i.group.length)&&"video"!==a.contentType&&s.addClass("fancybox-can-swipe"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing&&"image"===e.type&&!e.hasError){if(!e.isLoaded)return!0;if((t=this.getFitPos(e))&&(e.width>t.width||e.height>t.height))return!0}return!1},isScaledDown:function(t,e){var n=!1,o=this.current,i=o.$content;return void 0!==t&&void 0!==e?n=t<o.width&&e<o.height:i&&(n=(n=g.fancybox.getTranslate(i)).width<o.width&&n.height<o.height),n},canPan:function(t,e){var n=this.current,o=null,i=!1;return"image"===n.type&&(n.isComplete||t&&e)&&!n.hasError&&(i=this.getFitPos(n),void 0!==t&&void 0!==e?o={width:t,height:e}:n.isComplete&&(o=g.fancybox.getTranslate(n.$content)),o&&i&&(i=1.5<Math.abs(o.width-i.width)||1.5<Math.abs(o.height-i.height))),i},loadSlide:function(n){var t,e,o,i=this;if(!n.isLoading&&!n.isLoaded){if(!(n.isLoading=!0)===i.trigger("beforeLoad",n))return n.isLoading=!1;switch(t=n.type,(e=n.$slide).off("refresh").trigger("onReset").addClass(n.opts.slideClass),t){case"image":i.setImage(n);break;case"iframe":i.setIframe(n);break;case"html":i.setContent(n,n.src||n.content);break;case"video":i.setContent(n,n.opts.video.tpl.replace(/\{\{src\}\}/gi,n.src).replace("{{format}}",n.opts.videoFormat||n.opts.video.format||"").replace("{{poster}}",n.thumb||""));break;case"inline":g(n.src).length?i.setContent(n,g(n.src)):i.setError(n);break;case"ajax":i.showLoading(n),o=g.ajax(g.extend({},n.opts.ajax.settings,{url:n.src,success:function(t,e){"success"===e&&i.setContent(n,t)},error:function(t,e){t&&"abort"!==e&&i.setError(n)}})),e.one("onReset",function(){o.abort()});break;default:i.setError(n)}return!0}},setImage:function(e){var t,n=this;setTimeout(function(){var t=e.$image;n.isClosing||!e.isLoading||t&&t.length&&t[0].complete||e.hasError||n.showLoading(e)},50),n.checkSrcset(e),e.$content=g('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&e.thumb&&(e.width=e.opts.width,e.height=e.opts.height,(t=u.createElement("img")).onerror=function(){g(this).remove(),e.$ghost=null},t.onload=function(){n.afterLoad(e)},e.$ghost=g(t).addClass("fancybox-image").appendTo(e.$content).attr("src",e.thumb)),n.setBigImage(e)},checkSrcset:function(t){var e,n,o,i,a=t.opts.srcset||t.opts.image.srcset;if(a){o=c.devicePixelRatio||1,i=c.innerWidth*o,(n=a.split(",").map(function(t){var o={};return t.trim().split(/\s+/).forEach(function(t,e){var n=parseInt(t.substring(0,t.length-1),10);if(0===e)return o.url=t;n&&(o.value=n,o.postfix=t[t.length-1])}),o})).sort(function(t,e){return t.value-e.value});for(var s=0;s<n.length;s++){var r=n[s];if("w"===r.postfix&&r.value>=i||"x"===r.postfix&&r.value>=o){e=r;break}}!e&&n.length&&(e=n[n.length-1]),e&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value),t.opts.srcset=a)}},setBigImage:function(e){var n=this,t=u.createElement("img"),o=g(t);e.$image=o.one("error",function(){n.setError(e)}).one("load",function(){var t;e.$ghost||(n.resolveImageSlideSize(e,this.naturalWidth,this.naturalHeight),n.afterLoad(e)),n.isClosing||(e.opts.srcset&&((t=e.opts.sizes)&&"auto"!==t||(t=(1<e.width/e.height&&1<i.width()/i.height()?"100":Math.round(e.width/e.height*100))+"vw"),o.attr("sizes",t).attr("srcset",e.opts.srcset)),e.$ghost&&setTimeout(function(){e.$ghost&&!n.isClosing&&e.$ghost.hide()},Math.min(300,Math.max(1e3,e.height/1600))),n.hideLoading(e))}).addClass("fancybox-image").attr("src",e.src).appendTo(e.$content),(t.complete||"complete"==t.readyState)&&o.naturalWidth&&o.naturalHeight?o.trigger("load"):t.error&&o.trigger("error")},resolveImageSlideSize:function(t,e,n){var o=parseInt(t.opts.width,10),i=parseInt(t.opts.height,10);t.width=e,t.height=n,0<o&&(t.width=o,t.height=Math.floor(o*n/e)),0<i&&(t.width=Math.floor(i*e/n),t.height=i)},setIframe:function(i){var a,e=this,s=i.opts.iframe,r=i.$slide;i.$content=g('<div class="fancybox-content'+(s.preload?" fancybox-is-hidden":"")+'"></div>').css(s.css).appendTo(r),r.addClass("fancybox-slide--"+i.contentType),i.$iframe=a=g(s.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(s.attr).appendTo(i.$content),s.preload?(e.showLoading(i),a.on("load.fb error.fb",function(t){this.isReady=1,i.$slide.trigger("refresh"),e.afterLoad(i)}),r.on("refresh.fb",function(){var t,e=i.$content,n=s.css.width,o=s.css.height;if(1===a[0].isReady){try{t=a.contents().find("body")}catch(t){}t&&t.length&&t.children().length&&(r.css("overflow","visible"),e.css({width:"100%","max-width":"100%",height:"9999px"}),void 0===n&&(n=Math.ceil(Math.max(t[0].clientWidth,t.outerWidth(!0)))),e.css("width",n||"").css("max-width",""),void 0===o&&(o=Math.ceil(Math.max(t[0].clientHeight,t.outerHeight(!0)))),e.css("height",o||""),r.css("overflow","auto")),e.removeClass("fancybox-is-hidden")}})):e.afterLoad(i),a.attr("src",i.src),r.one("onReset",function(){try{g(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}g(this).off("refresh.fb").empty(),i.isLoaded=!1,i.isRevealed=!1})},setContent:function(t,e){var n;this.isClosing||(this.hideLoading(t),t.$content&&g.fancybox.stop(t.$content),t.$slide.empty(),(n=e)&&n.hasOwnProperty&&n instanceof g&&e.parent().length?((e.hasClass("fancybox-content")||e.parent().hasClass("fancybox-content"))&&e.parents(".fancybox-slide").trigger("onReset"),t.$placeholder=g("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===g.type(e)&&(e=g("<div>").append(g.trim(e)).contents()),t.opts.filter&&(e=g("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",function(){g(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.removeClass("fancybox-content").hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(g(this).empty(),t.isLoaded=!1,t.isRevealed=!1)}),g(e).appendTo(t.$slide),g(e).is("video,audio")&&(g(e).addClass("fancybox-video"),g(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||g(e).attr("width"),t.opts.height=t.opts.height||g(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),t.$content.siblings().hide(),t.$content.length||(t.$content=t.$slide.wrapInner("<div></div>").children().first()),t.$content.addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=g(this.translate(this,this.opts.spinnerTpl)).appendTo(t.$slide).hide().fadeIn("fast"))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.stop().remove(),delete t.$spinner)},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=g(e.translate(t,t.opts.btnTpl.smallBtn)).appendTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",function(t){return 2==t.button&&t.preventDefault(),!0}),"image"===t.type&&g('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),e.adjustCaption(t),e.adjustLayout(t),t.pos===e.currPos&&e.updateCursor(),e.revealContent(t))},adjustCaption:function(t){var e,n=this,o=t||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass("fancybox-caption--separate",a),a&&i&&i.length&&(o.pos!==n.currPos?((e=s.clone().appendTo(s.parent())).children().eq(0).empty().html(i),r=e.outerHeight(!0),e.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css("padding-bottom",r||""))},adjustLayout:function(t){var e,n,o,i,a=t||this.current;a.isLoaded&&!0!==a.opts.disableLayoutFix&&(a.$content.css("margin-bottom",""),a.$content.outerHeight()>a.$slide.height()+.5&&(o=a.$slide[0].style["padding-bottom"],i=a.$slide.css("padding-bottom"),0<parseFloat(i)&&(e=a.$slide[0].scrollHeight,a.$slide.css("padding-bottom",0),Math.abs(e-a.$slide[0].scrollHeight)<1&&(n=i),a.$slide.css("padding-bottom",o))),a.$content.css("margin-bottom",n))},revealContent:function(t){var e,n,o,i,a=this,s=t.$slide,r=!1,c=!1,l=a.isMoved(t),d=t.isRevealed;return t.isRevealed=!0,e=t.opts[a.firstRun?"animationEffect":"transitionEffect"],o=t.opts[a.firstRun?"animationDuration":"transitionDuration"],o=parseInt(void 0===t.forcedDuration?o:t.forcedDuration,10),!l&&t.pos===a.currPos&&o||(e=!1),"zoom"===e&&(t.pos===a.currPos&&o&&"image"===t.type&&!t.hasError&&(c=a.getThumbPos(t))?r=a.getFitPos(t):e="fade"),"zoom"===e?(a.isAnimating=!0,r.scaleX=r.width/c.width,r.scaleY=r.height/c.height,"auto"==(i=t.opts.zoomOpacity)&&(i=.1<Math.abs(t.width/t.height-c.width/c.height)),i&&(c.opacity=.1,r.opacity=1),g.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),c),p(t.$content),void g.fancybox.animate(t.$content,r,o,function(){a.isAnimating=!1,a.complete()})):(a.updateSlide(t),e?(g.fancybox.stop(s),n="fancybox-slide--"+(t.pos>=a.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+e,s.addClass(n).removeClass("fancybox-slide--current"),t.$content.removeClass("fancybox-is-hidden"),p(s),"image"!==t.type&&t.$content.hide().show(0),void g.fancybox.animate(s,"fancybox-slide--current",o,function(){s.removeClass(n).css({transform:"",opacity:""}),t.pos===a.currPos&&a.complete()},!0)):(t.$content.removeClass("fancybox-is-hidden"),d||!l||"image"!==t.type||t.hasError||t.$content.hide().fadeIn("fast"),void(t.pos===a.currPos&&a.complete())))},getThumbPos:function(t){var e,n,o,i,a,s,r,c,l=!1,d=t.$thumb;return!(!d||(!(s=d[0])||s.ownerDocument!==u||(g(".fancybox-container").css("pointer-events","none"),r={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2},c=u.elementFromPoint(r.x,r.y)===s,g(".fancybox-container").css("pointer-events",""),!c)))&&(e=g.fancybox.getTranslate(d),n=parseFloat(d.css("border-top-width")||0),o=parseFloat(d.css("border-right-width")||0),i=parseFloat(d.css("border-bottom-width")||0),a=parseFloat(d.css("border-left-width")||0),l={top:e.top+n,left:e.left+a,width:e.width-o-a,height:e.height-n-i,scaleX:1,scaleY:1},0<e.width&&0<e.height&&l)},complete:function(){var t,n=this,e=n.current,o={};!n.isMoved()&&e.isLoaded&&(e.isComplete||(e.isComplete=!0,e.$slide.siblings().trigger("onReset"),n.preload("inline"),p(e.$slide),e.$slide.addClass("fancybox-slide--complete"),g.each(n.slides,function(t,e){e.pos>=n.currPos-1&&e.pos<=n.currPos+1?o[e.pos]=e:e&&(g.fancybox.stop(e.$slide),e.$slide.off().remove())}),n.slides=o),n.isAnimating=!1,n.updateCursor(),n.trigger("afterShow"),e.opts.video.autoStart&&e.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),n.next()}),e.opts.autoFocus&&"html"===e.contentType&&((t=e.$content.find("input[autofocus]:enabled:visible:first")).length?t.trigger("focus"):n.focus(null,!0)),e.$slide.scrollTop(0).scrollLeft(0))},preload:function(t){var e,n,o=this;o.group.length<2||(n=o.slides[o.currPos+1],(e=o.slides[o.currPos-1])&&e.type===t&&o.loadSlide(e),n&&n.type===t&&o.loadSlide(n))},focus:function(t,e){var n,o,i=this,a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");i.isClosing||((n=(n=!t&&i.current&&i.current.isComplete?i.current.$slide.find("*:visible"+(e?":not(.fancybox-close-small)":"")):i.$refs.container.find("*:visible")).filter(a).filter(function(){return"hidden"!==g(this).css("visibility")&&!g(this).hasClass("disabled")})).length?(o=n.index(u.activeElement),t&&t.shiftKey?(o<0||0==o)&&(t.preventDefault(),n.eq(n.length-1).trigger("focus")):(o<0||o==n.length-1)&&(t&&t.preventDefault(),n.eq(0).trigger("focus"))):i.$refs.container.trigger("focus"))},activate:function(){var e=this;g(".fancybox-container").each(function(){var t=g(this).data("FancyBox");t&&t.id!==e.id&&!t.isClosing&&(t.trigger("onDeactivate"),t.removeEvents(),t.isVisible=!1)}),e.isVisible=!0,(e.current||e.isIdle)&&(e.update(),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t,e){var n,o,i,a,s,r,c,l=this,d=l.current,u=function(){l.cleanUp(t)};return!l.isClosing&&(!(l.isClosing=!0)===l.trigger("beforeClose",t)?(l.isClosing=!1,f(function(){l.update()}),!1):(l.removeEvents(),i=d.$content,n=d.opts.animationEffect,o=g.isNumeric(e)?e:n?d.opts.animationDuration:0,d.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==t?g.fancybox.stop(d.$slide):n=!1,d.$slide.siblings().trigger("onReset").remove(),o&&l.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",o+"ms"),l.hideLoading(d),l.hideControls(!0),l.updateCursor(),"zoom"!==n||i&&o&&"image"===d.type&&!l.isMoved()&&!d.hasError&&(c=l.getThumbPos(d))||(n="fade"),"zoom"===n?(g.fancybox.stop(i),r={top:(a=g.fancybox.getTranslate(i)).top,left:a.left,scaleX:a.width/c.width,scaleY:a.height/c.height,width:c.width,height:c.height},"auto"==(s=d.opts.zoomOpacity)&&(s=.1<Math.abs(d.width/d.height-c.width/c.height)),s&&(c.opacity=0),g.fancybox.setTranslate(i,r),p(i),g.fancybox.animate(i,c,o,u)):n&&o?g.fancybox.animate(d.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+n,o,u):!0===t?setTimeout(u,o):u(),!0))},cleanUp:function(t){var e,n,o,i=this,a=i.current.opts.$orig;i.current.$slide.trigger("onReset"),i.$refs.container.empty().remove(),i.trigger("afterClose",t),i.current.opts.backFocus&&(a&&a.length&&a.is(":visible")||(a=i.$trigger),a&&a.length&&(n=c.scrollX,o=c.scrollY,a.trigger("focus"),g("html, body").scrollTop(o).scrollLeft(n))),i.current=null,(e=g.fancybox.getInstance())?e.activate():(g("body").removeClass("fancybox-active compensate-for-scrollbar"),g("#fancybox-style-noscroll").remove())},trigger:function(t,e){var n,o=Array.prototype.slice.call(arguments,1),i=this,a=e&&e.opts?e:i.current;if(a?o.unshift(a):a=i,o.unshift(i),g.isFunction(a.opts[t])&&(n=a.opts[t].apply(a,o)),!1===n)return n;"afterClose"!==t&&i.$refs?i.$refs.container.trigger(t+".fb",o):s.trigger(t+".fb",o)},updateControls:function(){var t=this,e=t.current,n=e.index,o=t.$refs.container,i=t.$refs.caption,a=e.opts.caption;e.$slide.trigger("refresh"),a&&a.length?(t.$caption=i).children().eq(0).html(a):t.$caption=null,t.hasHiddenControls||t.isIdle||t.showControls(),o.find("[data-fancybox-count]").html(t.group.length),o.find("[data-fancybox-index]").html(n+1),o.find("[data-fancybox-prev]").prop("disabled",!e.opts.loop&&n<=0),o.find("[data-fancybox-next]").prop("disabled",!e.opts.loop&&n>=t.group.length-1),"image"===e.type?o.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",e.opts.image.src||e.src).show():e.opts.toolbar&&o.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),g(u.activeElement).is(":hidden,[disabled]")&&t.$refs.container.trigger("focus")},hideControls:function(t){var e=["infobar","toolbar","nav"];!t&&this.current.opts.preventCaptionOverlap||e.push("caption"),this.$refs.container.removeClass(e.map(function(t){return"fancybox-show-"+t}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var t=this,e=t.current?t.current.opts:t.opts,n=t.$refs.container;t.hasHiddenControls=!1,t.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!e.toolbar||!e.buttons)).toggleClass("fancybox-show-infobar",!!(e.infobar&&1<t.group.length)).toggleClass("fancybox-show-caption",!!t.$caption).toggleClass("fancybox-show-nav",!!(e.arrows&&1<t.group.length)).toggleClass("fancybox-is-modal",!!e.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),g.fancybox={version:"3.5.7",defaults:e,getInstance:function(t){var e=g('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return e instanceof o&&("string"===g.type(t)?e[t].apply(e,n):"function"===g.type(t)&&t.apply(e,n),e)},open:function(t,e,n){return new o(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close(t))},destroy:function(){this.close(!0),s.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(b=u.createElement("div"),c.getComputedStyle&&c.getComputedStyle(b)&&c.getComputedStyle(b).getPropertyValue("transform")&&!(u.documentMode&&u.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var n="",o={};if(t&&e)return void 0===e.left&&void 0===e.top||(n=(void 0===e.left?t.position().left:e.left)+"px, "+(void 0===e.top?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),void 0!==e.scaleX&&void 0!==e.scaleY?n+=" scale("+e.scaleX+", "+e.scaleY+")":void 0!==e.scaleX&&(n+=" scaleX("+e.scaleX+")"),n.length&&(o.transform=n),void 0!==e.opacity&&(o.opacity=e.opacity),void 0!==e.width&&(o.width=e.width),void 0!==e.height&&(o.height=e.height),t.css(o)},animate:function(e,n,o,i,a){var s,r=this;g.isFunction(o)&&(i=o,o=null),r.stop(e),s=r.getTranslate(e),e.on(l,function(t){(!t||!t.originalEvent||e.is(t.originalEvent.target)&&"z-index"!=t.originalEvent.propertyName)&&(r.stop(e),g.isNumeric(o)&&e.css("transition-duration",""),g.isPlainObject(n)?void 0!==n.scaleX&&void 0!==n.scaleY&&r.setTranslate(e,{top:n.top,left:n.left,width:s.width*n.scaleX,height:s.height*n.scaleY,scaleX:1,scaleY:1}):!0!==a&&e.removeClass(n),g.isFunction(i)&&i(t))}),g.isNumeric(o)&&e.css("transition-duration",o+"ms"),g.isPlainObject(n)?(void 0!==n.scaleX&&void 0!==n.scaleY&&(delete n.width,delete n.height,e.parent().hasClass("fancybox-slide--image")&&e.parent().addClass("fancybox-is-scaling")),g.fancybox.setTranslate(e,n)):e.addClass(n),e.data("timer",setTimeout(function(){e.trigger(l)},o+33))},stop:function(t,e){t&&t.length&&(clearTimeout(t.data("timer")),e&&t.trigger(l),t.off(l).css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},g.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?g("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},n):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},n),this},s.on("click.fb-start","[data-fancybox]",n),s.on("click.fb-start","[data-fancybox-trigger]",function(t){g('[data-fancybox="'+g(this).attr("data-fancybox-trigger")+'"]').eq(g(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:g(this)})}),h=null,s.on("mousedown mouseup focus blur",".fancybox-button",function(t){switch(t.type){case"mousedown":h=g(this);break;case"mouseup":h=null;break;case"focusin":g(".fancybox-button").removeClass("fancybox-focus"),g(this).is(h)||g(this).is("[disabled]")||g(this).addClass("fancybox-focus");break;case"focusout":g(".fancybox-button").removeClass("fancybox-focus")}})}var h,b}(window,document,jQuery),function(p){"use strict";var o={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&0<t[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},h=function(n,t,e){if(n)return e=e||"","object"===p.type(e)&&(e=p.param(e,!0)),p.each(t,function(t,e){n=n.replace("$"+t,e||"")}),e.length&&(n+=(0<n.indexOf("?")?"&":"?")+e),n};p(document).on("objectNeedsType.fb",function(t,e,i){var n,a,s,r,c,l,d,u=i.src||"",f=!1;n=p.extend(!0,{},o,i.opts.media),p.each(n,function(t,e){if(s=u.match(e.matcher)){if(f=e.type,d=t,l={},e.paramPlace&&s[e.paramPlace]){"?"==(c=s[e.paramPlace])[0]&&(c=c.substring(1)),c=c.split("&");for(var n=0;n<c.length;++n){var o=c[n].split("=",2);2==o.length&&(l[o[0]]=decodeURIComponent(o[1].replace(/\+/g," ")))}}return r=p.extend(!0,{},e.params,i.opts[t],l),u="function"===p.type(e.url)?e.url.call(this,s,r,i):h(e.url,s,r),a="function"===p.type(e.thumb)?e.thumb.call(this,s,r,i):h(e.thumb,s),"youtube"===t?u=u.replace(/&t=((\d+)m)?(\d+)s/,function(t,e,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===t&&(u=u.replace("&%23","#")),!1}}),f?(i.opts.thumb||i.opts.$thumb&&i.opts.$thumb.length||(i.opts.thumb=a),"iframe"===f&&(i.opts=p.extend(!0,i.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),p.extend(i,{type:f,src:u,origSrc:i.src,contentSource:d,contentType:"image"===f?"image":"gmap_place"==d||"gmap_search"==d?"map":"video"})):u&&(i.type=i.opts.defaultType)});var i={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(t){var e,n=this;this[t].loaded?setTimeout(function(){n.done(t)}):this[t].loading||(this[t].loading=!0,(e=document.createElement("script")).type="text/javascript",e.src=this[t].src,"youtube"===t?window.onYouTubeIframeAPIReady=function(){n[t].loaded=!0,n.done(t)}:e.onload=function(){n[t].loaded=!0,n.done(t)},document.body.appendChild(e))},done:function(t){var e,n;"youtube"===t&&delete window.onYouTubeIframeAPIReady,(e=p.fancybox.getInstance())&&(n=e.current.$content.find("iframe"),"youtube"===t&&void 0!==YT&&YT?new YT.Player(n.attr("id"),{events:{onStateChange:function(t){0==t.data&&e.next()}}}):"vimeo"===t&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(n).on("ended",function(){e.next()}))}};p(document).on({"afterShow.fb":function(t,e,n){1<e.group.length&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&i.load(n.contentSource)}})}(jQuery),function(g,c,b){"use strict";var m=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||function(t){return g.setTimeout(t,1e3/60)},v=g.cancelAnimationFrame||g.webkitCancelAnimationFrame||g.mozCancelAnimationFrame||g.oCancelAnimationFrame||function(t){g.clearTimeout(t)},d=function(t){var e=[];for(var n in t=(t=t.originalEvent||t||g.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[n].pageX?e.push({x:t[n].pageX,y:t[n].pageY}):t[n].clientX&&e.push({x:t[n].clientX,y:t[n].clientY});return e},y=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},l=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||b.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,n=t[0].attributes,o=n.length;e<o;e++)if("data-fancybox-"===n[e].nodeName.substr(0,14))return!0;return!1},u=function(t){for(var e=!1;(n=t.get(0),void 0,o=g.getComputedStyle(n)["overflow-y"],i=g.getComputedStyle(n)["overflow-x"],a=("scroll"===o||"auto"===o)&&n.scrollHeight>n.clientHeight,s=("scroll"===i||"auto"===i)&&n.scrollWidth>n.clientWidth,!(e=a||s))&&((t=t.parent()).length&&!t.hasClass("fancybox-stage")&&!t.is("body")););var n,o,i,a,s;return e},n=function(t){var e=this;e.instance=t,e.$bg=t.$refs.bg,e.$stage=t.$refs.stage,e.$container=t.$refs.container,e.destroy(),e.$container.on("touchstart.fb.touch mousedown.fb.touch",b.proxy(e,"ontouchstart"))};n.prototype.destroy=function(){var t=this;t.$container.off(".fb.touch"),b(c).off(".fb.touch"),t.requestId&&(v(t.requestId),t.requestId=null),t.tapped&&(clearTimeout(t.tapped),t.tapped=null)},n.prototype.ontouchstart=function(t){var e=this,n=b(t.target),o=e.instance,i=o.current,a=i.$slide,s=i.$content,r="touchstart"==t.type;if(r&&e.$container.off("mousedown.fb.touch"),(!t.originalEvent||2!=t.originalEvent.button)&&a.length&&n.length&&!l(n)&&!l(n.parent())&&(n.is("img")||!(t.originalEvent.clientX>n[0].clientWidth+n.offset().left))){if(!i||o.isAnimating||i.$slide.hasClass("fancybox-animated"))return t.stopPropagation(),void t.preventDefault();e.realPoints=e.startPoints=d(t),e.startPoints.length&&(i.touch&&t.stopPropagation(),e.startEvent=t,e.canTap=!0,e.$target=n,e.$content=s,e.opts=i.opts.touch,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.isScrolling=!1,e.canPan=o.canPan(),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canvasWidth=Math.round(a[0].clientWidth),e.canvasHeight=Math.round(a[0].clientHeight),e.contentLastPos=null,e.contentStartPos=b.fancybox.getTranslate(e.$content)||{top:0,left:0},e.sliderStartPos=b.fancybox.getTranslate(a),e.stagePos=b.fancybox.getTranslate(o.$refs.stage),e.sliderStartPos.top-=e.stagePos.top,e.sliderStartPos.left-=e.stagePos.left,e.contentStartPos.top-=e.stagePos.top,e.contentStartPos.left-=e.stagePos.left,b(c).off(".fb.touch").on(r?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",b.proxy(e,"ontouchend")).on(r?"touchmove.fb.touch":"mousemove.fb.touch",b.proxy(e,"ontouchmove")),b.fancybox.isMobile&&c.addEventListener("scroll",e.onscroll,!0),((e.opts||e.canPan)&&(n.is(e.$stage)||e.$stage.find(n).length)||(n.is(".fancybox-image")&&t.preventDefault(),b.fancybox.isMobile&&n.parents(".fancybox-caption").length))&&(e.isScrollable=u(n)||u(n.parent()),b.fancybox.isMobile&&e.isScrollable||t.preventDefault(),(1===e.startPoints.length||i.hasError)&&(e.canPan?(b.fancybox.stop(e.$content),e.isPanning=!0):e.isSwiping=!0,e.$container.addClass("fancybox-is-grabbing")),2===e.startPoints.length&&"image"===i.type&&(i.isLoaded||i.$ghost)&&(e.canTap=!1,e.isSwiping=!1,e.isPanning=!1,e.isZooming=!0,b.fancybox.stop(e.$content),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-b(g).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-b(g).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=y(e.startPoints[0],e.startPoints[1]))))}},n.prototype.onscroll=function(t){this.isScrolling=!0,c.removeEventListener("scroll",this.onscroll,!0)},n.prototype.ontouchmove=function(t){var e=this;return void 0!==t.originalEvent.buttons&&0===t.originalEvent.buttons?void e.ontouchend(t):e.isScrolling?void(e.canTap=!1):(e.newPoints=d(t),void((e.opts||e.canPan)&&e.newPoints.length&&e.newPoints.length&&(e.isSwiping&&!0===e.isSwiping||t.preventDefault(),e.distanceX=y(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=y(e.newPoints[0],e.startPoints[0],"y"),e.distance=y(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.isSwiping?e.onSwipe(t):e.isPanning?e.onPan():e.isZooming&&e.onZoom()))))},n.prototype.onSwipe=function(t){var e,i=this,a=i.instance,n=i.isSwiping,o=i.sliderStartPos.left||0;if(!0!==n)"x"==n&&(0<i.distanceX&&(i.instance.group.length<2||0===i.instance.current.index&&!i.instance.current.opts.loop)?o+=Math.pow(i.distanceX,.8):i.distanceX<0&&(i.instance.group.length<2||i.instance.current.index===i.instance.group.length-1&&!i.instance.current.opts.loop)?o-=Math.pow(-i.distanceX,.8):o+=i.distanceX),i.sliderLastPos={top:"x"==n?0:i.sliderStartPos.top+i.distanceY,left:o},i.requestId&&(v(i.requestId),i.requestId=null),i.requestId=m(function(){i.sliderLastPos&&(b.each(i.instance.slides,function(t,e){var n=e.pos-i.instance.currPos;b.fancybox.setTranslate(e.$slide,{top:i.sliderLastPos.top,left:i.sliderLastPos.left+n*i.canvasWidth+n*e.opts.gutter})}),i.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(i.distance)){if(i.canTap=!1,a.group.length<2&&i.opts.vertical?i.isSwiping="y":a.isDragging||!1===i.opts.vertical||"auto"===i.opts.vertical&&800<b(g).width()?i.isSwiping="x":(e=Math.abs(180*Math.atan2(i.distanceY,i.distanceX)/Math.PI),i.isSwiping=45<e&&e<135?"y":"x"),"y"===i.isSwiping&&b.fancybox.isMobile&&i.isScrollable)return void(i.isScrolling=!0);a.isDragging=i.isSwiping,i.startPoints=i.newPoints,b.each(a.slides,function(t,e){var n,o;b.fancybox.stop(e.$slide),n=b.fancybox.getTranslate(e.$slide),o=b.fancybox.getTranslate(a.$refs.stage),e.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(t,e){return(e.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),e.pos===a.current.pos&&(i.sliderStartPos.top=n.top-o.top,i.sliderStartPos.left=n.left-o.left),b.fancybox.setTranslate(e.$slide,{top:n.top-o.top,left:n.left-o.left})}),a.SlideShow&&a.SlideShow.isActive&&a.SlideShow.stop()}},n.prototype.onPan=function(){var t=this;y(t.newPoints[0],t.realPoints[0])<(b.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&v(t.requestId),t.requestId=m(function(){b.fancybox.setTranslate(t.$content,t.contentLastPos)}))},n.prototype.limitMovement=function(){var t,e,n,o,i,a,s=this,r=s.canvasWidth,c=s.canvasHeight,l=s.distanceX,d=s.distanceY,u=s.contentStartPos,f=u.left,p=u.top,h=u.width,g=u.height;return i=r<h?f+l:f,a=p+d,t=Math.max(0,.5*r-.5*h),e=Math.max(0,.5*c-.5*g),n=Math.min(r-h,.5*r-.5*h),o=Math.min(c-g,.5*c-.5*g),0<l&&t<i&&(i=t-1+Math.pow(-t+f+l,.8)||0),l<0&&i<n&&(i=n+1-Math.pow(n-f-l,.8)||0),0<d&&e<a&&(a=e-1+Math.pow(-e+p+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-p-d,.8)||0),{top:a,left:i}},n.prototype.limitPosition=function(t,e,n,o){var i=this.canvasWidth,a=this.canvasHeight;return t=i<n?(t=0<t?0:t)<i-n?i-n:t:Math.max(0,i/2-n/2),{top:e=a<o?(e=0<e?0:e)<a-o?a-o:e:Math.max(0,a/2-o/2),left:t}},n.prototype.onZoom=function(){var t=this,e=t.contentStartPos,n=e.width,o=e.height,i=e.left,a=e.top,s=y(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,r=Math.floor(n*s),c=Math.floor(o*s),l=(n-r)*t.percentageOfImageAtPinchPointX,d=(o-c)*t.percentageOfImageAtPinchPointY,u=(t.newPoints[0].x+t.newPoints[1].x)/2-b(g).scrollLeft(),f=(t.newPoints[0].y+t.newPoints[1].y)/2-b(g).scrollTop(),p=u-t.centerPointStartX,h={top:a+(d+(f-t.centerPointStartY)),left:i+(l+p),scaleX:s,scaleY:s};t.canTap=!1,t.newWidth=r,t.newHeight=c,t.contentLastPos=h,t.requestId&&v(t.requestId),t.requestId=m(function(){b.fancybox.setTranslate(t.$content,t.contentLastPos)})},n.prototype.ontouchend=function(t){var e=this,n=e.isSwiping,o=e.isPanning,i=e.isZooming,a=e.isScrolling;if(e.endPoints=d(t),e.dMs=Math.max((new Date).getTime()-e.startTime,1),e.$container.removeClass("fancybox-is-grabbing"),b(c).off(".fb.touch"),c.removeEventListener("scroll",e.onscroll,!0),e.requestId&&(v(e.requestId),e.requestId=null),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.isScrolling=!1,e.instance.isDragging=!1,e.canTap)return e.onTap(t);e.speed=100,e.velocityX=e.distanceX/e.dMs*.5,e.velocityY=e.distanceY/e.dMs*.5,o?e.endPanning():i?e.endZooming():e.endSwiping(n,a)},n.prototype.endSwiping=function(t,e){var n=this,o=!1,i=n.instance.group.length,a=Math.abs(n.distanceX),s="x"==t&&1<i&&(130<n.dMs&&10<a||50<a);n.sliderLastPos=null,"y"==t&&!e&&50<Math.abs(n.distanceY)?(b.fancybox.animate(n.instance.current.$slide,{top:n.sliderStartPos.top+n.distanceY+150*n.velocityY,opacity:0},200),o=n.instance.close(!0,250)):s&&0<n.distanceX?o=n.instance.previous(300):s&&n.distanceX<0&&(o=n.instance.next(300)),!1!==o||"x"!=t&&"y"!=t||n.instance.centerSlide(200),n.$container.removeClass("fancybox-is-sliding")},n.prototype.endPanning=function(){var t,e,n,o=this;o.contentLastPos&&(e=!1===o.opts.momentum||350<o.dMs?(t=o.contentLastPos.left,o.contentLastPos.top):(t=o.contentLastPos.left+500*o.velocityX,o.contentLastPos.top+500*o.velocityY),(n=o.limitPosition(t,e,o.contentStartPos.width,o.contentStartPos.height)).width=o.contentStartPos.width,n.height=o.contentStartPos.height,b.fancybox.animate(o.$content,n,366))},n.prototype.endZooming=function(){var t,e,n,o,i=this,a=i.instance.current,s=i.newWidth,r=i.newHeight;i.contentLastPos&&(t=i.contentLastPos.left,o={top:e=i.contentLastPos.top,left:t,width:s,height:r,scaleX:1,scaleY:1},b.fancybox.setTranslate(i.$content,o),s<i.canvasWidth&&r<i.canvasHeight?i.instance.scaleToFit(150):s>a.width||r>a.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(n=i.limitPosition(t,e,s,r),b.fancybox.animate(i.$content,n,150)))},n.prototype.onTap=function(n){var t,o=this,e=b(n.target),i=o.instance,a=i.current,s=n&&d(n)||o.startPoints,r=s[0]?s[0].x-b(g).scrollLeft()-o.stagePos.left:0,c=s[0]?s[0].y-b(g).scrollTop()-o.stagePos.top:0,l=function(t){var e=a.opts[t];if(b.isFunction(e)&&(e=e.apply(i,[a,n])),e)switch(e){case"close":i.close(o.startEvent);break;case"toggleControls":i.toggleControls();break;case"next":i.next();break;case"nextOrClose":1<i.group.length?i.next():i.close(o.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(i.canPan()?i.scaleToFit():i.isScaledDown()?i.scaleToActual(r,c):i.group.length<2&&i.close(o.startEvent))}};if((!n.originalEvent||2!=n.originalEvent.button)&&(e.is("img")||!(r>e[0].clientWidth+e.offset().left))){if(e.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))t="Outside";else if(e.is(".fancybox-slide"))t="Slide";else{if(!i.current.$content||!i.current.$content.find(e).addBack().filter(e).length)return;t="Content"}if(o.tapped){if(clearTimeout(o.tapped),o.tapped=null,50<Math.abs(r-o.tapX)||50<Math.abs(c-o.tapY))return this;l("dblclick"+t)}else o.tapX=r,o.tapY=c,a.opts["dblclick"+t]&&a.opts["dblclick"+t]!==a.opts["click"+t]?o.tapped=setTimeout(function(){o.tapped=null,i.isAnimating||l("click"+t)},500):l("click"+t);return this}},b(c).on("onActivate.fb",function(t,e){e&&!e.Guestures&&(e.Guestures=new n(e))}).on("beforeClose.fb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,jQuery),function(s,r){"use strict";r.extend(!0,r.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(t){this.instance=t,this.init()};r.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this,e=t.instance,n=e.group[e.currIndex].opts.slideShow;t.$button=e.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),e.group.length<2||!n?t.$button.hide():n.progress&&(t.$progress=r('<div class="fancybox-progress"></div>').appendTo(e.$refs.inner))},set:function(t){var e=this,n=e.instance,o=n.current;o&&(!0===t||o.opts.loop||n.currIndex<n.group.length-1)?e.isActive&&"video"!==o.contentType&&(e.$progress&&r.fancybox.animate(e.$progress.show(),{scaleX:1},o.opts.slideShow.speed),e.timer=setTimeout(function(){n.current.opts.loop||n.current.index!=n.group.length-1?n.next():n.jumpTo(0)},o.opts.slideShow.speed)):(e.stop(),n.idleSecondsCounter=0,n.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var t=this,e=t.instance.current;e&&(t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),t.isActive=!0,e.isComplete&&t.set(!0),t.instance.trigger("onSlideShowChange",!0))},stop:function(){var t=this,e=t.instance.current;t.clear(),t.$button.attr("title",(e.opts.i18n[e.opts.lang]||e.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),t.isActive=!1,t.instance.trigger("onSlideShowChange",!1),t.$progress&&t.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),r(s).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,o){var i=e&&e.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(t,e,n){var o=e&&e.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.SlideShow;!a||!n.opts.slideShow||80!==i&&32!==i||r(s.activeElement).is("button,a,input")||(o.preventDefault(),a.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),r(s).on("visibilitychange",function(){var t=r.fancybox.getInstance(),e=t&&t.SlideShow;e&&e.isActive&&(s.hidden?e.clear():e.set())})}(document,jQuery),function(a,n){"use strict";var o=function(){for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],e={},n=0;n<t.length;n++){var o=t[n];if(o&&o[1]in a){for(var i=0;i<o.length;i++)e[t[0][i]]=o[i];return e}}return!1}();if(o){var i={request:function(t){(t=t||a.documentElement)[o.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){a[o.exitFullscreen]()},toggle:function(t){t=t||a.documentElement,this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(a[o.fullscreenElement])},enabled:function(){return Boolean(a[o.fullscreenEnabled])}};n.extend(!0,n.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),n(a).on(o.fullscreenchange,function(){var t=i.isFullscreen(),e=n.fancybox.getInstance();e&&(e.current&&"image"===e.current.type&&e.isAnimating&&(e.isAnimating=!1,e.update(!0,!0,0),e.isComplete||e.complete()),e.trigger("onFullscreenChange",t),e.$refs.container.toggleClass("fancybox-is-fullscreen",t),e.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!t).toggleClass("fancybox-button--fsexit",t))})}n(a).on({"onInit.fb":function(t,e){o?e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),i.toggle()}),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&i.request(),e.FullScreen=i):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():e.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(t,e,n,o,i){e&&e.FullScreen&&70===i&&(o.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&i.exit()}})}(document,jQuery),function(t,a){"use strict";var s="fancybox-thumbs";a.fancybox.defaults=a.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},a.fancybox.defaults);var o=function(t){this.init(t)};a.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e=this,n=t.group,o=0;e.instance=t,e.opts=n[t.currIndex].opts.thumbs,(t.Thumbs=e).$button=t.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(1<o));i++);1<o&&e.opts?(e.$button.removeAttr("style").on("click",function(){e.toggle()}),e.isActive=!0):e.$button.hide()},create:function(){var n,t=this,e=t.instance,o=t.opts.parentEl,i=[];t.$grid||(t.$grid=a('<div class="'+s+" "+s+"-"+t.opts.axis+'"></div>').appendTo(e.$refs.container.find(o).addBack().filter(o)),t.$grid.on("click","a",function(){e.jumpTo(a(this).attr("data-index"))})),t.$list||(t.$list=a('<div class="'+s+'__list">').appendTo(t.$grid)),a.each(e.group,function(t,e){(n=e.thumb)||"image"!==e.type||(n=e.src),i.push('<a href="javascript:;" tabindex="0" data-index="'+t+'"'+(n&&n.length?' style="background-image:url('+n+')"':'class="fancybox-thumbs-missing"')+"></a>")}),t.$list[0].innerHTML=i.join(""),"x"===t.opts.axis&&t.$list.width(parseInt(t.$grid.css("padding-right"),10)+e.group.length*t.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(n=(e=i.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+o.instance.current.index+'"]').addClass("fancybox-thumbs-active")).position(),"y"===o.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):"x"===o.opts.axis&&(n.left<a.scrollLeft()||n.left>a.scrollLeft()+(a.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){var t=this;t.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),t.isVisible?(t.$grid||t.create(),t.instance.trigger("onThumbsShow"),t.focus(0)):t.$grid&&t.instance.trigger("onThumbsHide"),t.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),a(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&((n=new o(e)).isActive&&!0===n.opts.autoStart&&n.show())},"beforeShow.fb":function(t,e,n,o){var i=e&&e.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(t,e,n,o,i){var a=e&&e.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(t,s){"use strict";s.extend(!0,s.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),s(t).on("click","[data-fancybox-share]",function(){var t,e,n,o,i=s.fancybox.getInstance(),a=i.current||null;a&&("function"===s.type(a.opts.share.url)&&(t=a.opts.share.url.apply(a,[i,a])),e=a.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===a.type?encodeURIComponent(a.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,(n=t,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(n).replace(/[&<>"'`=\/]/g,function(t){return o[t]}))).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),s.fancybox.open({src:i.translate(i,e),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(t,e){i.$refs.container.one("beforeClose.fb",function(){t.close(null,0)}),e.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(a,s,i){"use strict";function r(){var t=a.location.hash.substr(1),e=t.split("-"),n=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return{hash:t,index:n<1?1:n,gallery:e.join("-")}}function e(t){""!==t.gallery&&i("[data-fancybox='"+i.escapeSelector(t.gallery)+"']").eq(t.index-1).focus().trigger("click.fb-start")}function c(t){var e,n;return!!t&&(""!==(n=(e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox")||e.$orig.data("fancybox-trigger"):""))&&n)}i.escapeSelector||(i.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})}),i(function(){!1!==i.fancybox.defaults.hash&&(i(s).on({"onInit.fb":function(t,e){var n,o;!1!==e.group[e.currIndex].opts.hash&&(n=r(),(o=c(e))&&n.gallery&&o==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(t,e,n,o){var i;n&&!1!==n.opts.hash&&(i=c(e))&&(e.currentHash=i+(1<e.group.length?"-"+(n.index+1):""),a.location.hash!=="#"+e.currentHash&&(o&&!e.origHash&&(e.origHash=a.location.hash),e.hashTimer&&clearTimeout(e.hashTimer),e.hashTimer=setTimeout(function(){"replaceState"in a.history?(a.history[o?"pushState":"replaceState"]({},s.title,a.location.pathname+a.location.search+"#"+e.currentHash),o&&(e.hasCreatedHistory=!0)):a.location.hash=e.currentHash,e.hashTimer=null},300)))},"beforeClose.fb":function(t,e,n){n&&!1!==n.opts.hash&&(clearTimeout(e.hashTimer),e.currentHash&&e.hasCreatedHistory?a.history.back():e.currentHash&&("replaceState"in a.history?a.history.replaceState({},s.title,a.location.pathname+a.location.search+(e.origHash||"")):a.location.hash=e.origHash),e.currentHash=null)}}),i(a).on("hashchange.fb",function(){var t=r(),o=null;i.each(i(".fancybox-container").get().reverse(),function(t,e){var n=i(e).data("FancyBox");if(n&&n.currentHash)return o=n,!1}),o?o.currentHash===t.gallery+"-"+t.index||1===t.index&&o.currentHash==t.gallery||(o.currentHash=null,o.close()):""!==t.gallery&&e(t)}),setTimeout(function(){i.fancybox.getInstance()||e(r())},50))})}(window,document,jQuery),function(t,e){"use strict";var i=(new Date).getTime();e(t).on({"onInit.fb":function(t,o,e){o.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(t){var e=o.current,n=(new Date).getTime();o.group.length<2||!1===e.opts.wheel||"auto"===e.opts.wheel&&"image"!==e.type||(t.preventDefault(),t.stopPropagation(),e.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,n-i<250||(i=n,o[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))})}})}(document,jQuery);
!function(_,A){"use strict";function o(p,y,z,t,e){function r(){var n,i,o,l;v=1<_.devicePixelRatio,z=a(z),0<=y.delay&&setTimeout(function(){u(!0)},y.delay),(y.delay<0||y.combined)&&(t.e=(n=y.throttle,i=function(t){"resize"===t.type&&(L=T=-1),u(t.all)},l=0,function(t,e){function r(){l=+new Date,i.call(p,t)}var a=+new Date-l;o&&clearTimeout(o),n<a||!y.enableThrottle||e?r():o=setTimeout(r,n-a)}),t.a=function(t){t=a(t),z.push.apply(z,t)},t.g=function(){return z=S(z).filter(function(){return!S(this).data(y.loadedName)})},t.f=function(t){for(var e=0;e<t.length;e++){var r=z.filter(function(){return this===t[e]});r.length&&u(!1,r)}},u(),S(y.appendScroll).on("scroll."+e+" resize."+e,t.e))}function a(t){for(var e=y.defaultImage,r=y.placeholder,a=y.imageBase,n=y.srcsetAttribute,i=y.loaderAttribute,o=y._f||{},l=0,u=(t=S(t).filter(function(){var t=S(this),e=B(this);return!t.data(y.handledName)&&(t.attr(y.attribute)||t.attr(n)||t.attr(i)||o[e]!==A)}).data("plugin_"+y.name,p)).length;l<u;l++){var f=S(t[l]),s=B(t[l]),c=f.attr(y.imageBaseAttribute)||a;s===E&&c&&f.attr(n)&&f.attr(n,d(f.attr(n),c)),o[s]===A||f.attr(i)||f.attr(i,o[s]),s===E&&e&&!f.attr(F)?f.attr(F,e):s===E||!r||f.css(R)&&"none"!==f.css(R)||f.css(R,"url('"+r+"')")}return t}function u(t,e){if(z.length){for(var r=e||z,a=!1,n=y.imageBase||"",i=y.srcsetAttribute,o=y.handledName,l=0;l<r.length;l++)if(t||e||(A=r[l],void 0,g=A.getBoundingClientRect(),h=y.scrollDirection,m=y.threshold,b=(0<=T?T:T=S(_).height())+m>g.top&&-m<g.bottom,v=(0<=L?L:L=S(_).width())+m>g.left&&-m<g.right,"vertical"===h?b:"horizontal"===h?v:b&&v)){var u=S(r[l]),f=B(r[l]),s=u.attr(y.attribute),c=u.attr(y.imageBaseAttribute)||n,d=u.attr(y.loaderAttribute);u.data(o)||y.visibleOnly&&!u.is(":visible")||!((s||u.attr(i))&&(f===E&&(c+s!==u.attr(F)||u.attr(i)!==u.attr(C))||f!==E&&c+s!==u.css(R))||d)||(a=!0,u.data(o,!0),w(u,f,c,d))}var A,g,h,m,b,v;a&&(z=S(z).filter(function(){return!S(this).data(o)}))}else y.autoDestroy&&p.destroy()}function w(e,t,r,a){++b;var n=function(){m("onError",e),h(),n=S.noop};m("beforeLoad",e);var i=y.attribute,o=y.srcsetAttribute,l=y.sizesAttribute,u=y.retinaAttribute,f=y.removeAttribute,s=y.loadedName,c=e.attr(u);if(a){var d=function(){f&&e.removeAttr(y.loaderAttribute),e.data(s,!0),m(D,e),setTimeout(h,1),d=S.noop};e.off(N).one(N,n).one(I,d),m(a,e,function(t){t?(e.off(I),d()):(e.off(N),n())})||e.trigger(N)}else{var A=S(new Image);A.one(N,n).one(I,function(){e.hide(),t===E?e.attr(O,A.attr(O)).attr(C,A.attr(C)).attr(F,A.attr(F)):e.css(R,"url('"+A.attr(F)+"')"),e[y.effect](y.effectTime),f&&(e.removeAttr(i+" "+o+" "+u+" "+y.imageBaseAttribute),l!==O&&e.removeAttr(l)),e.data(s,!0),m(D,e),A.remove(),h()});var g=(v&&c?c:e.attr(i))||"";A.attr(O,e.attr(l)).attr(C,e.attr(o)).attr(F,g?r+g:null),A.complete&&A.trigger(I)}}function B(t){return t.tagName.toLowerCase()}function d(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function h(){--b,z.length||b||m("onFinishedAll")}function m(t,e,r){return!!(t=y[t])&&(t.apply(p,[].slice.call(arguments,1)),!0)}var b=0,L=-1,T=-1,v=!1,D="afterLoad",I="load",N="error",E="img",F="src",C="srcset",O="sizes",R="background-image";"event"===y.bind||n?r():S(_).on(I+"."+e,r)}function f(t,e){var r=this,a=S.extend({},r.config,e),n={},i=a.name+"-"+ ++l;return r.config=function(t,e){return e===A?a[t]:(a[t]=e,r)},r.addItems=function(t){return n.a&&n.a("string"===S.type(t)?S(t):t),r},r.getItems=function(){return n.g?n.g():{}},r.update=function(t){return n.e&&n.e({},!t),r},r.force=function(t){return n.f&&n.f("string"===S.type(t)?S(t):t),r},r.loadAll=function(){return n.e&&n.e({all:!0},!0),r},r.destroy=function(){return S(a.appendScroll).off("."+i,n.e),S(_).off("."+i),n={},A},o(r,a,t,n,i),a.chainable?t:r}var S=_.jQuery||_.Zepto,l=0,n=!1;S.fn.Lazy=S.fn.lazy=function(t){return new f(this,t)},S.Lazy=S.lazy=function(t,e,r){if(S.isFunction(e)&&(r=e,e=[]),S.isFunction(r)){t=S.isArray(t)?t:[t],e=S.isArray(e)?e:[e];for(var a=f.prototype.config,n=a._f||(a._f={}),i=0,o=t.length;i<o;i++)(a[t[i]]===A||S.isFunction(a[t[i]]))&&(a[t[i]]=r);for(var l=0,u=e.length;l<u;l++)n[e[l]]=t[0]}},f.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:_,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:A,afterLoad:A,onError:A,onFinishedAll:A},S(_).on("load",function(){n=!0})}(window);
!function(i){function e(a,e,r,t){var o;"POST"!==(t=t?t.toUpperCase():"GET")&&"PUT"!==t||!a.config("ajaxCreateData")||(o=a.config("ajaxCreateData").apply(a,[e])),i.ajax({url:e.attr("data-src"),type:"POST"===t||"PUT"===t?t:"GET",data:o,dataType:e.attr("data-type")||"html",success:function(t){e.html(t),r(!0),a.config("removeAttribute")&&e.removeAttr("data-src data-method data-type")},error:function(){r(!1)}})}i.lazy("ajax",function(t,a){e(this,t,a,t.attr("data-method"))}),i.lazy("get",function(t,a){e(this,t,a,"GET")}),i.lazy("post",function(t,a){e(this,t,a,"POST")}),i.lazy("put",function(t,a){e(this,t,a,"PUT")})}(window.jQuery||window.Zepto),function(s){s.lazy(["av","audio","video"],["audio","video"],function(r,t){var a=r[0].tagName.toLowerCase();if("audio"===a||"video"===a){var e=r.find("data-src"),o=r.find("data-track"),i=0,n=function(){++i===e.length&&t(!1)},c=function(){var t=s(this),a=t[0].tagName.toLowerCase(),e=t.prop("attributes"),r=s("data-src"===a?"<source>":"<track>");"data-src"===a&&r.one("error",n),s.each(e,function(t,a){r.attr(a.name,a.value)}),t.replaceWith(r)};r.one("loadedmetadata",function(){t(!0)}).off("load error").attr("poster",r.attr("data-poster")),e.length?e.each(c):r.attr("data-src")?(s.each(r.attr("data-src").split(","),function(t,a){var e=a.split("|");r.append(s("<source>").one("error",n).attr({src:e[0].trim(),type:e[1].trim()}))}),this.config("removeAttribute")&&r.removeAttr("data-src")):t(!1),o.length&&o.each(c)}else t(!1)})}(window.jQuery||window.Zepto),function(o){o.lazy(["frame","iframe"],"iframe",function(a,t){var e=this;if("iframe"===a[0].tagName.toLowerCase()){var r=a.attr("data-error-detect");"true"!==r&&"1"!==r?(a.attr("src",a.attr("data-src")),e.config("removeAttribute")&&a.removeAttr("data-src data-error-detect")):o.ajax({url:a.attr("data-src"),dataType:"html",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(t){a.html(t).attr("src",a.attr("data-src")),e.config("removeAttribute")&&a.removeAttr("data-src data-error-detect")},error:function(){t(!1)}})}else t(!1)})}(window.jQuery||window.Zepto),function(t){t.lazy("noop",function(){}),t.lazy("noop-success",function(t,a){a(!0)}),t.lazy("noop-error",function(t,a){a(!1)})}(window.jQuery||window.Zepto),function(i){function n(t,a,e){var r=t.prop("attributes"),o=i("<"+a+">");return i.each(r,function(t,a){"srcset"!==a.name&&a.name!==d||(a.value=s(a.value,e)),o.attr(a.name,a.value)}),t.replaceWith(o),o}function c(t,a,e){var r=i("<img>").one("load",function(){e(!0)}).one("error",function(){e(!1)}).appendTo(t).attr("src",a);r.complete&&r.load()}function s(t,a){if(a){var e=t.split(",");t="";for(var r=0,o=e.length;r<o;r++)t+=a+e[r].trim()+(r!==o-1?",":"")}return t}var d="data-src";i.lazy(["pic","picture"],["picture"],function(t,a){if("picture"===t[0].tagName.toLowerCase()){var e=t.find(d),r=t.find("data-img"),o=this.config("imageBase")||"";e.length?(e.each(function(){n(i(this),"source",o)}),1===r.length?((r=n(r,"img",o)).on("load",function(){a(!0)}).on("error",function(){a(!1)}),r.attr("src",r.attr(d)),this.config("removeAttribute")&&r.removeAttr(d)):t.attr(d)?(c(t,o+t.attr(d),a),this.config("removeAttribute")&&t.removeAttr(d)):a(!1)):t.attr("data-srcset")?(i("<source>").attr({media:t.attr("data-media"),sizes:t.attr("data-sizes"),type:t.attr("data-type"),srcset:s(t.attr("data-srcset"),o)}).appendTo(t),c(t,o+t.attr(d),a),this.config("removeAttribute")&&t.removeAttr(d+" data-srcset data-media data-sizes data-type")):a(!1)}else a(!1)})}(window.jQuery||window.Zepto),(window.jQuery||window.Zepto).lazy(["js","javascript","script"],"script",function(t,a){"script"===t[0].tagName.toLowerCase()?(t.attr("src",t.attr("data-src")),this.config("removeAttribute")&&t.removeAttr("data-src")):a(!1)}),(window.jQuery||window.Zepto).lazy("vimeo",function(t,a){"iframe"===t[0].tagName.toLowerCase()?(t.attr("src","https://player.vimeo.com/video/"+t.attr("data-src")),this.config("removeAttribute")&&t.removeAttr("data-src")):a(!1)}),(window.jQuery||window.Zepto).lazy(["yt","youtube"],function(t,a){if("iframe"===t[0].tagName.toLowerCase()){var e=/1|true/.test(t.attr("data-nocookie"));t.attr("src","https://www.youtube"+(e?"-nocookie":"")+".com/embed/"+t.attr("data-src")+"?rel=0&amp;showinfo=0"),this.config("removeAttribute")&&t.removeAttr("data-src")}else a(!1)});
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(d){d.extend(d.fn,{validate:function(t){if(this.length){var s=d.data(this[0],"validator");return s||(this.attr("novalidate","novalidate"),s=new d.validator(t,this[0]),d.data(this[0],"validator",s),s.settings.onsubmit&&(this.on("click.validate",":submit",function(t){s.submitButton=t.currentTarget,d(this).hasClass("cancel")&&(s.cancelSubmit=!0),void 0!==d(this).attr("formnovalidate")&&(s.cancelSubmit=!0)}),this.on("submit.validate",function(i){function t(){var t,e;return s.submitButton&&(s.settings.submitHandler||s.formSubmitted)&&(t=d("<input type='hidden'/>").attr("name",s.submitButton.name).val(d(s.submitButton).val()).appendTo(s.currentForm)),!(s.settings.submitHandler&&!s.settings.debug)||(e=s.settings.submitHandler.call(s,s.currentForm,i),t&&t.remove(),void 0!==e&&e)}return s.settings.debug&&i.preventDefault(),s.cancelSubmit?(s.cancelSubmit=!1,t()):s.form()?s.pendingRequest?!(s.formSubmitted=!0):t():(s.focusInvalid(),!1)})),s)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,i;return d(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,e=d(this[0].form).validate(),this.each(function(){(t=e.element(this)&&t)||(i=i.concat(e.errorList))}),e.errorList=i),t},rules:function(t,e){var i,s,n,r,a,o,l=this[0],h=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=l&&(!l.form&&h&&(l.form=this.closest("form")[0],l.name=this.attr("name")),null!=l.form)){if(t)switch(i=d.data(l.form,"validator").settings,s=i.rules,n=d.validator.staticRules(l),t){case"add":d.extend(n,d.validator.normalizeRule(e)),delete n.messages,s[l.name]=n,e.messages&&(i.messages[l.name]=d.extend(i.messages[l.name],e.messages));break;case"remove":return e?(o={},d.each(e.split(/\s/),function(t,e){o[e]=n[e],delete n[e]}),o):(delete s[l.name],n)}return(r=d.validator.normalizeRules(d.extend({},d.validator.classRules(l),d.validator.attributeRules(l),d.validator.dataRules(l),d.validator.staticRules(l)),l)).required&&(a=r.required,delete r.required,r=d.extend({required:a},r)),r.remote&&(a=r.remote,delete r.remote,r=d.extend(r,{remote:a})),r}}});var i,s=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};d.extend(d.expr.pseudos||d.expr[":"],{blank:function(t){return!s(""+d(t).val())},filled:function(t){var e=d(t).val();return null!==e&&!!s(""+e)},unchecked:function(t){return!d(t).prop("checked")}}),d.validator=function(t,e){this.settings=d.extend(!0,{},d.validator.defaults,t),this.currentForm=e,this.init()},d.validator.format=function(i,t){return 1===arguments.length?function(){var t=d.makeArray(arguments);return t.unshift(i),d.validator.format.apply(this,t)}:(void 0===t||(2<arguments.length&&t.constructor!==Array&&(t=d.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),d.each(t,function(t,e){i=i.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),i)},d.extend(d.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:d([]),errorLabelContainer:d([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==d.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(i):d(t).addClass(e).removeClass(i)},unhighlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(i):d(t).removeClass(e).addClass(i)}},setDefaults:function(t){d.extend(d.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:d.validator.format("Please enter no more than {0} characters."),minlength:d.validator.format("Please enter at least {0} characters."),rangelength:d.validator.format("Please enter a value between {0} and {1} characters long."),range:d.validator.format("Please enter a value between {0} and {1}."),max:d.validator.format("Please enter a value less than or equal to {0}."),min:d.validator.format("Please enter a value greater than or equal to {0}."),step:d.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var e=void 0!==d(this).attr("contenteditable")&&"false"!==d(this).attr("contenteditable");if(!this.form&&e&&(this.form=d(this).closest("form")[0],this.name=d(this).attr("name")),r===this.form){var i=d.data(this.form,"validator"),s="on"+t.type.replace(/^validate/,""),n=i.settings;n[s]&&!d(this).is(n.ignore)&&n[s].call(i,this,t)}}this.labelContainer=d(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||d(this.currentForm),this.containers=d(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,r=this.currentForm,s=this.groups={};d.each(this.settings.groups,function(i,t){"string"==typeof t&&(t=t.split(/\s/)),d.each(t,function(t,e){s[e]=i})}),i=this.settings.rules,d.each(i,function(t,e){i[t]=d.validator.normalizeRule(e)}),d(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&d(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),d.extend(this.submitted,this.errorMap),this.invalid=d.extend({},this.errorMap),this.valid()||d(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e,i,s=this.clean(t),n=this.validationTargetFor(s),r=this,a=!0;return void 0===n?delete this.invalid[s.name]:(this.prepareElement(n),this.currentElements=d(n),(i=this.groups[n.name])&&d.each(this.groups,function(t,e){e===i&&t!==n.name&&((s=r.validationTargetFor(r.clean(r.findByName(t))))&&s.name in r.invalid&&(r.currentElements.push(s),a=r.check(s)&&a))}),e=!1!==this.check(n),a=a&&e,this.invalid[n.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),d(t).attr("aria-invalid",!e)),a},showErrors:function(e){if(e){var i=this;d.extend(this.errorMap,e),this.errorList=d.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=d.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){d.fn.resetForm&&d(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{d(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===d.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var i=this,s={};return d(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||d(this).attr("name"),e=void 0!==d(this).attr("contenteditable")&&"false"!==d(this).attr("contenteditable");return!t&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),e&&(this.form=d(this).closest("form")[0],this.name=t),!(this.form!==i.currentForm||t in s||!i.objectLength(d(this).rules())||(s[t]=!0,0))})},clean:function(t){return d(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return d(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=d([]),this.toHide=d([])},reset:function(){this.resetInternals(),this.currentElements=d([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,i,s=d(t),n=t.type,r=void 0!==s.attr("contenteditable")&&"false"!==s.attr("contenteditable");return"radio"===n||"checkbox"===n?this.findByName(t.name).filter(":checked").val():"number"===n&&void 0!==t.validity?t.validity.badInput?"NaN":s.val():(e=r?s.text():s.val(),"file"===n?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(i=e.lastIndexOf("/"))?e.substr(i+1):0<=(i=e.lastIndexOf("\\"))?e.substr(i+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(e){e=this.validationTargetFor(this.clean(e));var t,i,s,n,r=d(e).rules(),a=d.map(r,function(t,e){return e}).length,o=!1,l=this.elementValue(e);for(i in"function"==typeof r.normalizer?n=r.normalizer:"function"==typeof this.settings.normalizer&&(n=this.settings.normalizer),n&&(l=n.call(e,l),delete r.normalizer),r){s={method:i,parameters:r[i]};try{if("dependency-mismatch"===(t=d.validator.methods[i].call(this,l,e,s.parameters))&&1===a){o=!0;continue}if(o=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,s),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+s.method+"' method."),t}}if(!o)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(t,e){return d(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||d(t).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){"string"==typeof e&&(e={method:e});var i=this.findDefined(this.customMessage(t.name,e.method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,d.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),s=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,e.parameters,t):s.test(i)&&(i=d.validator.format(i.replace(s,"{$1}"),e.parameters)),i},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return d(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var i,s,n,r,a=this.errorsFor(t),o=this.idOrName(t),l=d(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(e)):(i=a=d("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,d(t)):i.insertAfter(t),a.is("label")?a.attr("for",o):0===a.parents("label[for='"+this.escapeCssMeta(o)+"']").length&&(n=a.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(l+=" "+n):l=n,d(t).attr("aria-describedby",l),(s=this.groups[t.name])&&(r=this,d.each(r.groups,function(t,e){e===s&&d("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",a.attr("id"))})))),!e&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),i=d(t).attr("aria-describedby"),s="label[for='"+e+"'], label[for='"+e+"'] *";return i&&(s=s+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(s)},escapeCssMeta:function(t){return void 0===t?"":t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),d(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return d(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return d("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!d(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!d.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,d(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],d(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(d(this.currentForm).trigger("submit"),this.submitButton&&d("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(d(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return e="string"==typeof e&&e||"remote",d.data(t,"previousValue")||d.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),d(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:d.extend(this.classRuleSettings,t)},classRules:function(t){var e={},i=d(t).attr("class");return i&&d.each(i.split(" "),function(){this in d.validator.classRuleSettings&&d.extend(e,d.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,i,s){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(s=Number(s),isNaN(s)&&(s=void 0)),s||0===s?t[i]=s:e===i&&"range"!==e&&(t["date"===e?"dateISO":i]=!0)},attributeRules:function(t){var e,i,s={},n=d(t),r=t.getAttribute("type");for(e in d.validator.methods)i="required"===e?(""===(i=t.getAttribute(e))&&(i=!0),!!i):n.attr(e),this.normalizeAttributeRule(s,r,e,i);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(t){var e,i,s={},n=d(t),r=t.getAttribute("type");for(e in d.validator.methods)""===(i=n.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(s,r,e,i);return s},staticRules:function(t){var e={},i=d.data(t.form,"validator");return i.settings.rules&&(e=d.validator.normalizeRule(i.settings.rules[t.name])||{}),e},normalizeRules:function(s,n){return d.each(s,function(t,e){if(!1!==e){if(e.param||e.depends){var i=!0;switch(typeof e.depends){case"string":i=!!d(e.depends,n.form).length;break;case"function":i=e.depends.call(n,n)}i?s[t]=void 0===e.param||e.param:(d.data(n.form,"validator").resetElements(d(n)),delete s[t])}}else delete s[t]}),d.each(s,function(t,e){s[t]="function"==typeof e&&"normalizer"!==t?e(n):e}),d.each(["minlength","maxlength"],function(){s[this]&&(s[this]=Number(s[this]))}),d.each(["rangelength","range"],function(){var t;s[this]&&(Array.isArray(s[this])?s[this]=[Number(s[this][0]),Number(s[this][1])]:"string"==typeof s[this]&&(t=s[this].replace(/[\[\]]/g,"").split(/[\s,]+/),s[this]=[Number(t[0]),Number(t[1])]))}),d.validator.autoCreateRanges&&(null!=s.min&&null!=s.max&&(s.range=[s.min,s.max],delete s.min,delete s.max),null!=s.minlength&&null!=s.maxlength&&(s.rangelength=[s.minlength,s.maxlength],delete s.minlength,delete s.maxlength)),s},normalizeRule:function(t){if("string"==typeof t){var e={};d.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,i){d.validator.methods[t]=e,d.validator.messages[t]=void 0!==i?i:d.validator.messages[t],e.length<3&&d.validator.addClassRules(t,d.validator.normalizeRule(t))},methods:{required:function(t,e,i){if(!this.depend(i,e))return"dependency-mismatch";if("select"!==e.nodeName.toLowerCase())return this.checkable(e)?0<this.getLength(t,e):null!=t&&0<t.length;var s=d(e).val();return s&&0<s.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:(i=!1,function(t,e){return i||(i=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())}),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i<=s},maxlength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s<=i},rangelength:function(t,e,i){var s=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||s>=i[0]&&s<=i[1]},min:function(t,e,i){return this.optional(e)||i<=t},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(t,e,i){var s,n=d(e).attr("type"),r="Step attribute on input type "+n+" is not supported.",a=new RegExp("\\b"+n+"\\b"),o=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},l=function(t){return Math.round(t*Math.pow(10,s))},h=!0;if(n&&!a.test(["text","number","range"].join()))throw new Error(r);return s=o(i),(o(t)>s||l(t)%l(i)!=0)&&(h=!1),this.optional(e)||h},equalTo:function(t,e,i){var s=d(i);return this.settings.onfocusout&&s.not(".validate-equalTo-blur").length&&s.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){d(e).valid()}),t===s.val()},remote:function(r,a,t,o){if(this.optional(a))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var l,e,i,h=this.previousValue(a,o);return this.settings.messages[a.name]||(this.settings.messages[a.name]={}),h.originalMessage=h.originalMessage||this.settings.messages[a.name][o],this.settings.messages[a.name][o]=h.message,t="string"==typeof t&&{url:t}||t,i=d.param(d.extend({data:r},t.data)),h.old===i?h.valid:(h.old=i,(l=this).startRequest(a),(e={})[a.name]=r,d.ajax(d.extend(!0,{mode:"abort",port:"validate"+a.name,dataType:"json",data:e,context:l.currentForm,success:function(t){var e,i,s,n=!0===t||"true"===t;l.settings.messages[a.name][o]=h.originalMessage,n?(s=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(a),l.formSubmitted=s,l.successList.push(a),l.invalid[a.name]=!1,l.showErrors()):(e={},i=t||l.defaultMessage(a,{method:o,parameters:r}),e[a.name]=h.message=i,l.invalid[a.name]=!0,l.showErrors(e)),h.valid=n,l.stopRequest(a,n)}},t)),"pending")}}});var n,r={};return d.ajaxPrefilter?d.ajaxPrefilter(function(t,e,i){var s=t.port;"abort"===t.mode&&(r[s]&&r[s].abort(),r[s]=i)}):(n=d.ajax,d.ajax=function(t){var e=("mode"in t?t:d.ajaxSettings).mode,i=("port"in t?t:d.ajaxSettings).port;return"abort"===e?(r[i]&&r[i].abort(),r[i]=n.apply(this,arguments),r[i]):n.apply(this,arguments)}),d});